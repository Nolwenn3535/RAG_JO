var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
var breakpoints={zero:0,tiny:320,small:544,medium:768,large:960,wide:1280,mobileMaxWidth:767,tabletMinWidth:768,tabletMaxWidth:1024,desktopMinWidth:1025,siteMaxWidth:1200,maxScrollBarWidth:17},DAYS_PER_MONTH=function(a){return[31,0==a%4&&0!=a%100||0==a%400?29:28,31,30,31,30,31,31,30,31,30,31]},VALIDATION_DISPLAY_MODES=["TOOLTIP","BLOCK"],JO_DATE_MIN=new Date("1869","0","1");$(document).scroll(function(){scrollHautPage()});
function scrollHautPage(){if(200<$(window).scrollTop()){if($(".back-top").css("display","flex"),null!=$(".back-top").offset()||void 0!=$(".back-top").offset())$(".back-top").offset().top+$(".back-top").height()>=$(".footer").offset().top-500&&($(".back-top").css("position","absolute"),$(".stickyBarFormPreference").css("position","static"),$(".stickyBarFormPreference").css("bottom","94px"),0===document.documentElement.getElementsByClassName("page-content").length||0===document.querySelector("main.main div.content div.main-col")?
$(".back-top").css("bottom","94px"):$(".back-top").css("bottom","65px"),$(".back-top").css("right","7px")),$(document).scrollTop()+window.innerHeight<$(".footer").offset().top-80&&($(".back-top").css("position","fixed"),$(".back-top").css("bottom","40px"),$(".stickyBarFormPreference").css("position","fixed"),$(".stickyBarFormPreference").css("bottom","30px"),(null===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&null===document.querySelector("main.main div.main-col")||void 0===
document.querySelector("div.layout-colonne div[class^\x3d'main']")&&void 0===document.querySelector("main.main div.main-col"))&&$(".back-top").css("right",($(window).width()-document.documentElement.getElementsByClassName("page-content")[0].clientWidth)/2+7+"px"),null===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&null!=document.querySelector("main.main div.main-col")||void 0===document.querySelector("div.layout-colonne div[class^\x3d'main']")&&void 0!=document.querySelector("main.main div.main-col")?
$(".back-top").css("right",($(window).width()-document.querySelector("main.main div.main-col").clientWidth)/2+7+"px"):$(".back-top").css("right",($(window).width()-document.querySelector("div.layout-colonne div[class^\x3d'main']").clientWidth-document.querySelector("div.layout-colonne div[id^\x3d'col']").clientWidth)/2+7+"px"))}else $(".back-top").css("display","none")}
var formValidators={utils:{isValidDate:function(a,b){b="string"==typeof b?b:DEFAULT_DATE_FORMAT;a=a.match(/(\d+)/g);var c=0,d={};b.replace(/(yyyy|dd|mm)/g,function(a){d[a]=c++});return DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&a[d.dd]<=DAYS_PER_MONTH(a[d.yyyy])[a[d.mm]-1]&&0<a[d.dd]}},alpha:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres."}},alpha_num:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9]+$/)).test(a)},
message:function(a){return"Le champ doit contenir uniquement des lettres et des chiffres."}},alpha_num_dash:{validationFunction:function(a,b){return(new RegExp(/^[a-zA-Z0-9-]+$/)).test(a)},message:function(a){return"Le champ doit contenir uniquement des lettres, des chiffres et des tirets."}},between:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&a>=parseFloat(b[0])&&a<=parseFloat(b[1])},message:function(a){return"Le champ doit être un nombre entier compris entre "+
a[0]+" et "+a[1]+"."}},checkbox_required:{validationFunction:function(a,b){return a},message:function(a){return"Veuillez cocher cette case si vous souhaitez continuer."}},date_unique_format:{validationFunction:function(a,b){if(0>=a.length)return!0;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0]);default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,b[0])}},message:function(a){return"Le champ doit être une date valide au format "+
a[0].replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018."}},date_range_format:{validationFunction:function(a,b){if(0>=a.length)return!0;if(-1!==a.indexOf(b[1].trim())){var c=a.split(b[1].trim());a=c[0].trim();c=c[1].trim()}else return!1;switch(b[0]){case "yyyy-mm-dd":return(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0]);default:return(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&
(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(c)&&formValidators.utils.isValidDate(a,b[0])&&formValidators.utils.isValidDate(c,b[0])}},message:function(a){return"Le champ doit être une période de dates valide au format "+a[0]+" "+a[1]+" "+a[0]+"."}},date_multiple_formats:{validationFunction:function(a,b){if(0>=a.length)return!0;var c=0,d;for(d in b)if(b.hasOwnProperty(d)){var f=b[d];switch(f){case DEFAULT_YEAR_FORMAT:case "yyyy":(new RegExp(/^[0-9]{4}$/)).test(a)&&c++;break;case DEFAULT_MONTH_FORMAT:case "mm/yyyy":(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)&&
c++;case "yyyy-mm-dd":(new RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/)).test(a)&&formValidators.utils.isValidDate(a,f)&&c++;break;default:(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)&&formValidators.utils.isValidDate(a,f)&&c++}}return 1===c?!0:!1},message:function(a){return"Le champ doit être une période de dates valide au format "+a.join(" ou ").replace(/d/g,"j").replace(/y/g,"a")+", par exemple 31/12/2018, 2018, ou 12/2018."}},date_year_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{4}$/)).test(a)},
message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_month_format:{validationFunction:function(a,b){return(new RegExp(/^[0-9]{2}\/[0-9]{4}$/)).test(a)},message:function(a){return"Le champ doit être une date valide au format "+a[0]+"."}},date_min_jo:{validationFunction:function(a,b){if(!a)return!0;a=-1!==a.indexOf(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)?a.split(DEFAULT_DATE_RANGE_SEPARATOR_TRIM)[0].trim():a;if(!(new RegExp(/^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/)).test(a)||
!formValidators.utils.isValidDate(a,DEFAULT_DATE_FORMAT))return!0;a=a.split(DEFAULT_DATE_FORMAT_SEPARATOR);return new Date(a[2],a[1]-1,a[0])>=JO_DATE_MIN},message:function(a){return"Il n'y a pas de contenu disponible à la date indiquée. Veuillez indiquer une date à partir du 01/01/1869."}},email:{validationFunction:function(a,b){return(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)).test(a)},
message:function(a){return"Veuillez saisir une adresse email valide (ex. : prenom.nom@exemple.fr)"}},integer:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+$/)).test(a.toString())},message:function(a){return"Le champ doit être un nombre entier positif."}},max:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&a<=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier inférieur à "+a[0]+"."}},min:{validationFunction:function(a,b){return(new RegExp(/^[0-9]+.?[0-9]*$/)).test(a)&&
a>=parseFloat(b[0])},message:function(a){return"Le champ doit être un nombre entier supérieur à "+a[0]+"."}},numeric:{validationFunction:function(a,b){return(new RegExp(/^-?[0-9]+.?[0-9]*$/)).test(a)},message:function(a){return"Le champ doit être un nombre valide."}},not_empty:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Le champ ne doit pas être vide."}},password:{validationFunction:function(a,b){a=zxcvbn(a);console.log("Password score : "+a.score);
return 2<=a.score},message:function(a){return"Le mot de passe saisi n'est pas valide"}},phone_number:{validationFunction:function(a,b){return(new RegExp(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s\.-]*\d{2}){4}$/)).test(a)},message:function(a){return"Le champ doit être un numéro de téléphone français valide."}},required:{validationFunction:function(a,b){return(new RegExp(/([^\s])/)).test(a)},message:function(a){return"Ce champ ne peut pas être vide"}}};
Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a,b){if(null==this)throw TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError("predicate must be a function");for(var f=0;f<d;){var g=c[f];if(a.call(b,g,f,c))return g;f++}},configurable:!0,writable:!0});
$(document).ready(function(){fixAnchorFocus();initCollapsibleRegions();initFacettesToggleButton();initFacettesToggleButtonMobile();showHideElement();initTabs();initGraphicCheckboxes();initGraphicRadiosButtons();initModals();initPanelGestionDesCookies();initFormValidation();initEscTooltips();initSkipLinks();initCloseMenu();initContentTables();initSectionClasses();initTips();managePageTitle();if(0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length){var a=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id");
$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a));var b=window.location.href;b.split("/");b.includes("conv_coll")?showHideAbrogatedKali($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a):showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)}getOverlay();resizeOverlay();copyFunction()});
function fixAnchorFocus(){$("body").on("click",'a[href^\x3d"#"]:not([href\x3d"#"])',function(a){a.preventDefault();var b=$(this).attr("href");$("html, body").animate({scrollTop:$(b).offset().top},0,function(){focusTarget(b)})});window.location.hash&&focusTarget(window.location.hash)}function focusTarget(a){a=$(a);a.focus();a.is(":focus")||(a.attr("tabindex",-1),a.focus(),a.removeAttr("tabindex"))}function sortNumber(a,b){return a-b}
function findNextIndex(){var a="0",b=$("button[id^\x3d'label_expand_']");if(null!=b&&0<b.length){var c=[];b.each(function(){c.push(parseInt($(this).attr("id").split("label_expand_")[1]))});c.sort(sortNumber);a=c[c.length-1]+1}return a}
function cleanTitleForEulerian(a){if(null===a)return"";for(var b="ÀàÁáÂâÃãÄäÅåÆæÇçÐðÈèÉéÊêËëÌìÍíÎîÏïÑñÒòÓóÔôÕõÖöœŒØøßÙùÚúÛûÜüÝýÞþŸÿ".split(""),c="A a A a A a A a A a A a AE ae C c D o E e E e E e E e I i I i I i I i N n O o O o O o O o O o oe OE O o B U u U u U u U u Y y P p Y y".split(" "),d=0;d<b.length;d++)a=a.split(b[d]).join(c[d]);a=a.replace("\\n","").replace("\\t","");a=a.split(" ").join("_");return a.split(/[^\w.~/-]/).join("").substr(0,230).toLowerCase()}
function eulerianClick(a,b){var c=[],d=cleanTitleForEulerian(document.title),f="",g="",h="",k="",l="",m="";switch(null!=b?b:a.closest("li").id){case "print-page-button":f="(imprimer)_page";g="imprimer";k="page";l="button";h="page";m=d;break;case "text-copy-button":f="(copier)_texte";g="copier";k="page";l="button";h="texte";m=d;break;case "ImprimerChrono":f="(imprimer)_page";g="imprimer";k="page";l="button";h="page";m=d;break;case "ImprimerComparaison":f="(imprimer)_page";g="imprimer";k="page";l="button";
h="page";m=d;break;case "Versions":nomArticle=cleanTitleForEulerian(a.getAttribute("data-num"));f="(click_contenu)_version_"+nomArticle;g="click_contenu";k="page";l="button";h="version_"+nomArticle;m=d.replace("_-_legifrance","");break;case "LiensRelatifs":nomArticle=cleanTitleForEulerian(a.getAttribute("data-articleid"));f="(click_contenu)_liens_relatifs_"+nomArticle;g="click_contenu";k="page";l="button";h="liens_relatifs_"+nomArticle;m=d.replace("_-_legifrance","");break;case "Informations":nomArticle=
cleanTitleForEulerian(a.getAttribute("data-articleid"));f="(click_contenu)_informations_"+nomArticle;g="click_contenu";k="page";l="button";h="informations_"+nomArticle;m=d.replace("_-_legifrance","");break;case "InformationsPratiques":nomElement="article"==a.getAttribute("data-context")?cleanTitleForEulerian(a.getAttribute("data-articleid")):cleanTitleForEulerian(a.getAttribute("aria-describedby"));f="(click_contenu)_informations_pratiques_"+nomElement;g="click_contenu";k="page";l="button";h="informations_pratiques_"+
nomElement;m=d.replace("_-_legifrance","");break;case "RechTCVI":f="(selection_version)_initiale";g="selection_version";k="page";l="button";h="initiale";m=cleanTitleForEulerian(a.closest("article").firstChild.textContent);break;case "RechTCVC":f="(selection_version)_consolidee";g="selection_version";k="page";l="button";h="consolidee";m=cleanTitleForEulerian(a.closest("article").firstChild.textContent);break;case "resultatRecherche":f="(selection_resultat)_num_resultat";g="selection_resultat";k="page";
l="button";h="num_resultat";m=cleanTitleForEulerian(a.textContent);break;case "select-filter-content-codes":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="code";break;case "select-filter-content-lois":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":
"recherche";k="page";l="button";h="fond";m="lawarticledecree";break;case "select-filter-content-JORF":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="jorf";break;case "select-filter-content-CIRC":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";
k="page";l="button";h="fond";m="circ";break;case "select-filter-content-jurisprudence-constitutionnelle":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="constit";break;case "select-filter-content-jurisprudence-administrative":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?
"recherche_avancee":"recherche";k="page";l="button";h="fond";m="cetat";break;case "select-filter-content-jurisprudence-judiciaire":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="juri";break;case "select-filter-content-jurisprudence-financiere":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?
"recherche_avancee":"recherche";k="page";l="button";h="fond";m="jufi";break;case "select-filter-content-accords":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="kali";break;case "select-filter-content-ACCO":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":
"recherche";k="page";l="button";h="fond";m="acco";break;case "select-filter-content-CNIL":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="fond";m="cnil";break;case "select-filter-content-all":f="/recherche"==document.location.pathname?"(recherche_avancee)_fond":"(recherche)_fond";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";
l="button";h="fond";m="all";break;case "form-check-label":f="/recherche"==document.location.pathname?"(recherche_avancee)_champ":"(recherche)_champ";g="/recherche"==document.location.pathname?"recherche_avancee":"recherche";k="page";l="button";h="champ";m=cleanTitleForEulerian(a.textContent);break;case "ChronoTexteVersion":f="(click_chronolegi)_version";g="click_chronolegi";k="page";l="button";h="version";m=cleanTitleForEulerian(a.textContent);break;case "datepicker-today-button":f="(click_chronolegi)_aujourdhui";
g="click_chronolegi";k="page";l="button";h="aujourdhui";break;case "NaviguerDansLeSommaire":f="(click_contenu)_navigation_sommaire";g="click_contenu";k="page";l="button";h="navigation_sommaire";m=d.replace("_-_legifrance","");break;case "next-article":case "next-article-sticky":f="(click_bouton_article)_suivant";g="click_bouton_article";k="page";l="button";h="suivant";m=cleanTitleForEulerian(document.getElementsByClassName("name-article")[0].id);break;case "previous-article":case "previous-article-sticky":f=
"(click_bouton_article)_precedent";g="click_bouton_article";k="page";l="button";h="precedent";m=cleanTitleForEulerian(document.getElementsByClassName("name-article")[0].id);break;case "next-section":case "next-section-sticky":f="(click_bouton_block)_suivant";g="click_bouton_block";k="page";l="button";h="suivant";m=d.replace("_-_legifrance","");break;case "previous-section":case "previous-section-sticky":f="(click_bouton_block)_precedent";g="click_bouton_block";k="page";l="button";h="precedent";m=
d.replace("_-_legifrance","");break;case "abstractButton":f="(click_contenu)_abstrats";g="click_contenu";k="page";l="button";h="abstrats";m=d.replace("_-_legifrance","");break;case "accesRapide":f="(click_accueil)_acces_rapide";g="click_accueil";h="acces_rapide";m=cleanTitleForEulerian(a.title);break;case "dernierJo":f="(click_accueil)_jorf";g="click_accueil";h="jorf";m=cleanTitleForEulerian(a);break;case "rechercheAvancee":f="(click_accueil)_recherche_avancee";g="click_accueil";h="recherche_avancee";
break;case "dateJorfHome":f="(click_accueil)_jorf_par_date";g="click_accueil";h="jorf_par_date";break;case "JOE_INAP":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";k="pdfinap";l="button";break;case "JOE_TEXTE":case "JOE":case "JO_PAT":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";k="pdfjo";l="button";break;case "DAE":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);
f="(telechargement)_"+h;g="telechargement";k="pdfdae";l="button";break;case "CIRC":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";k="pdfcirc";l="button";break;case "DEBAT":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";k="pdfdebats";l="button";break;case "QE":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";
k="pdfqr";l="button";break;case "BOCC":k="true"==document.location.search.split("isForGlobalBocc\x3d")[1].substring(0,4)?"pdfbocc":"pdfbocctexte";h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";l="button";break;case "KALI":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);f="(telechargement)_"+h;g="telechargement";k="pdfcc";l="button";break;case "DOCACCO":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText);
f="(telechargement)_"+h;g="telechargement";k="docacco";l="button";break;case "BODMR":h=cleanTitleForEulerian(document.querySelector("h1.pdf-title").innerText),f="(telechargement)_"+h,g="telechargement",k="pdfbodmr",l="button"}g=[g,k,l,m,"custom_event"];c.push("actionname",f);c.push("actionlabel",g.join(","));c.push("actionpname","heading_hierarchy");c.push("actionpvalue",h);0<c.length&&window.EA_push("action",c)}
function accesRapideEulerian(){components=document.querySelectorAll(".home-blocks .block-home_blocks_acces_rapides .acces_rapide \x3e ul \x3e li.content-item \x3e p \x3e span.name \x3e a");for(var a=0;a<components.length;a++)components[a].addEventListener("click",function(){eulerianClick(this,"accesRapide")})}
function eulerianClickLienSp(a,b){var c=[],d;a=cleanTitleForEulerian(a.getAttribute("data-titrelien"));d=b.match(/F[0-9]+/)[0];b="(click_lien_fiche_service-public.fr)_informations_pratiques_"+a;a="informations_pratiques_"+a;d=["click_lien_fiche_service-public.fr","content","link",d.toLowerCase(),"custom_event"];c.push("actionname",b);c.push("actionlabel",d.join(","));c.push("actionpname","heading_hierarchy");c.push("actionpvalue",a);window.EA_push("action",c)}
function getPageGroup(a,b){a=a.toLowerCase();a=a.includes("/search/")||a.includes("/liste/")?a.split("/")[2]:a.includes("/download/")?a.split("/")[3]:a.split("/")[1];void 0==a&&(a=b.toLowerCase());switch(a){case "code":case "codes":case "lois":case "loda":case "kali":case "idcc":case "conv_coll":case "jufi":case "juri":case "cetat":case "ceta":case "constit":case "cons":case "acco":case "circ":case "circulaire":pageGroup="droit_national";break;case "jorf":case "joe_inap":case "bocc":case "bocctexts":case "debatsParlementaires":case "debat":case "questionsEcritesParlementaires":case "questionEcrite":case "docadmin":pageGroup=
"publications_officielles";break;case "legislatures":case "dossierslegislatifs":pageGroup="autour_de_la_loi";break;case "cnil":pageGroup="autres";break;case "all":case "recherche":pageGroup="recherche";break;default:pageGroup=""}return pageGroup}
function initCollapsibleRegions(){var a=$(".js-expandmore"),b=$("body"),c=window.location.hash.replace("#","");a.length&&a.each(function(a){a=$(this);var b=findNextIndex(),d=a.data(),d="undefined"!==typeof d.hideshowPrefixClass?d.hideshowPrefixClass+"-":"",h=a.next(".js-to_expand"),k=a.html(),l=a.children(".js-expandmore-button");if(0===l.length){a.html('\x3cbutton type\x3d"button" class\x3d"'+d+'expandmore__button js-expandmore-button"\x3e\x3cspan class\x3d"expand-sign" aria-hidden\x3d"true"\x3e\x3c/span\x3e'+
k+"\x3c/button\x3e");l=a.children(".js-expandmore-button");h.addClass(d+"expandmore__to_expand").stop().delay(1500).queue(function(){var a=$(this);a.hasClass("js-first_load")&&a.removeClass("js-first_load")});l.attr("id","label_expand_"+b);l.attr("data-controls","expand_"+b);l.attr("aria-expanded","false");h.attr("id","expand_"+b);h.attr("data-hidden","true");h.attr("data-labelledby","label_expand_"+b);if(h.hasClass("is-opened")||""!==c&&h.find($("#"+c)).length)l.addClass("is-opened").attr("aria-expanded",
"true"),h.removeClass("is-opened").removeAttr("data-hidden");a.prev(".option-radio").find("input[type\x3dradio]").not(":checked").length&&a.find(".expandmore__button").addClass("not-checked")}});b.on("click",".js-expandmore-button",function(a){var b=$(this),c=$("#"+b.attr("data-controls"));"false"===b.attr("aria-expanded")?(b.addClass("is-opened").attr("aria-expanded","true"),c.removeAttr("data-hidden")):(b.removeClass("is-opened").attr("aria-expanded","false"),c.attr("data-hidden","true"));a.preventDefault();
a.stopImmediatePropagation()});b.on("click keydown",".js-expandmore",function(a){var b=$(this),c=$(a.target),b=b.find(".js-expandmore-button");if(!(c.is(b)||c.closest(b).length||"click"!==a.type&&("keydown"!==a.type||13!==a.keyCode&&32!==a.keyCode)))return b.trigger("click"),!1});b.on("click keydown",".js-expandmore-all",function(a){var b=$(this),c=b.attr("data-expand"),d=$(".js-expandmore-button"),k=$(".js-to_expand");if("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode))"true"===
c?(d.addClass("is-opened").attr("aria-expanded","true"),k.removeAttr("data-hidden"),b.attr("data-expand","false").html("Tout replier")):(d.removeClass("is-opened").attr("aria-expanded","false"),k.attr("data-hidden","true"),b.attr("data-expand","true").html("Tout déplier"))});b.on("click",".option-radio",function(a){var b=$(this);a=b.find("input[type\x3dradio]");b=b.next().find(".expandmore__button");a.is(":checked")&&(b.removeClass("not-checked"),$(".facette-radio .option-radio ").each(function(a,
b){a=$(b).find("input[type\x3dradio]");b=$(b).next().find(".expandmore__button");a.is(":checked")?b.removeClass("not-checked"):b.addClass("not-checked")}))})}function initFormValidation(){$(document).find("button[type\x3d'submit']").parents("form").each(function(a,b){var c=$(b);c.on("submit",function(a){return isValidForm(c)})})}
function isValidForm(a,b){b=void 0===b?!0:b;var c=a.find("input[data-validation]");a=a.find("textarea[data-validation]");var d=[],f=[];$(".block-input-errors").remove();$(".tooltip-input-errors").remove();if(b)return c.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(d.push(a),f=f.concat(b))}),a.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(d.push(a),f=f.concat(b))}),$("*[id*\x3dblock-rule-]").each(function(){$(this).addClass("advanced-search-error")}),f.length?(d[0].focus(),
!1):!0}function checkAllValidators(a){var b=a.val();"checkbox"===a.attr("type")&&(b=a.prop("checked"));var c=a.data("validation").split(","),d=a.data("validationDisplayMode");-1==VALIDATION_DISPLAY_MODES.indexOf(d.toUpperCase())&&(d=VALIDATION_DISPLAY_MODES[0]);var f=[];$(c).each(function(a,c){c=c.trim();error=checkValidator(b,c);null!=error&&f.push(error)});return showErrors(f,a,d)}function showErrors(a,b,c){return 0===a.length?(b.css("border",""),a):constructErrors(a,b,c)}
function constructErrors(a,b,c){c=initializeAlert(a.length,b.attr("data-label"),c,b.attr("id"));var d=$(c).find(".alert-content");1===a.length?(d.text(a[0]),d.prepend($("\x3cstrong\x3e\x3c/strong\x3e").text("Erreur : "))):d.append(buildErrorList(a));b.is('[type\x3d"checkbox"]')||b.is('[type\x3d"radio"]')?c.insertBefore(b):c.insertAfter(b);b.css("border","2px solid red");c=b.attr("id")+"-error";b.attr("aria-describedby",c);return a}
function initializeAlert(a,b,c,d){var f=$("\x3cdiv\x3e\x3c/div\x3e").addClass("alert alert-danger").addClass(c+"-input-errors");f.append($("\x3cspan\x3e\x3c/span\x3e").attr("aria-hidden","true").addClass("icon"));f.append($('\x3cdiv id\x3d"'+d+'-error"\x3e\x3c/div\x3e').addClass("alert-content"));if(1<a){f.addClass("alert-bloc");var g=$(f).find(".alert-content");g.append($("\x3cp\x3e\x3c/p\x3e").append($("\x3cstrong\x3e\x3c/strong\x3e").text("Erreurs : ")));c.toUpperCase()!==VALIDATION_DISPLAY_MODES[0]&&
g.append($("\x3cp\x3e\x3c/p\x3e").text("Le champ "+b+" contient "+a+" erreur(s)"))}c.toUpperCase()===VALIDATION_DISPLAY_MODES[0]&&f.append($('\x3cdiv class\x3d"alert-close"\x3e\x3c/div\x3e').append($('\x3cbutton type\x3d"button" onclick\x3d"changeCSSDate(\'#'+d+'\');" class\x3d"alert-close-cta" title\x3d"Fermer le message"\x3e\x3c/button\x3e').text("Fermer").prepend($('\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e'))));return f}function changeCSSDate(a){$(a).css("border","")}
function buildErrorList(a){var b=$("\x3cul\x3e\x3c/ul\x3e");$(a).each(function(a,d){b.append($("\x3cli\x3e\x3c/li\x3e").text(d))});return b}function checkValidator(a,b){var c=[],d=b.indexOf("(");-1!=d&&(c=b.substring(d+1,b.length-1).split(";"),b=b.substring(0,d));return formValidators[b].validationFunction(a,c)?null:formValidators[b].message(c)}
function isDeviceMobile(){var a=window.navigator.userAgent.toLowerCase(),b=function(b){return-1!==a.indexOf(b.toLowerCase())};return!b("windows")&&b("android")&&b("mobile")||!b("windows")&&b("iphone")||b("ipod")||b("windows")&&b("phone")||(b("blackberry")||b("bb10")||b("rim"))&&!b("tablet")||(b("(mobile")||b("(tablet"))&&b(" rv:")||b("meego")}
function initCookieDisclaimer(){var a=!1,b=function(){Cookies.set("lfCookieDisclaimer","1",{expires:30,secure:!0})};(a=Cookies.get("lfCookieDisclaimer"))?b():($("header").prepend("\x3cdiv class\x3d'cookies' role\x3d'alert'\x3e\x3cdiv class\x3d'container'\x3e\x3cp\x3eEn poursuivant votre navigation sans modifier vos paramètres de témoins de connexion, vous acceptez l'utilisation des cookies.\x3ca href\x3d'/contenu/pied-de-page/mentions-legales'\x3eVoir notre politique de confidentialité\x3c/a\x3e\x3c/p\x3e\x3cbutton id\x3d'close-cookie-disclaimer' class\x3d'btn btn-link btn-close' title\x3d'Fermer le bandeau cookie'\x3eFermer\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e"),
a=$(".cookies").outerHeight(),$("header").css("margin-top",a),$(".cookies").css("margin-top","-"+a+"px"),$("#close-cookie-disclaimer").on("click touch",function(a){b();$(".cookies").hide();$("header").css("margin-top",0)}))}
function initPanelGestionDesCookies(){var a=getCookie("tarteaucitron");if(!a||null==getCookieID("tarteaucitron")||!isEmpty(a)&&(a.includes("wait")||!a.includes("eulerian"))){var a=uuidv4(),b=new Date;b.setTime((new Date).getTime()+31536E6);b="expires\x3d"+b.toUTCString();document.cookie="tarteaucitron\x3d!id\x3d"+a+"!eulerian\x3dfalse;"+b+";path\x3d/;secure"}$(".btnGestionCookies").on("click keypress",function(a){a.preventDefault();tarteaucitron.userInterface.openPanel()});btnCookiesModal()}
function panelAllowCookies(a){$("#cookiesModalName").html(a);$("#idCookiesModal").css("display","block")}
function btnCookiesModal(){$(".cookiesModalBtnClose").on("click keypress",function(a){$("#idCookiesModal").css("display","none")});$(".cookiesPersonaliseBtn").on("click keypress",function(a){tarteaucitron.userInterface.openPanel();$("#idCookiesModal").css("display","none")});$(".cookiesAcceptBtn").on("click keypress",function(a){$("#cookiesModalName").html();$("#idCookiesModal").css("display","none")});var a=document.getElementById("idCookiesModal");window.onclick=function(b){b.target==a&&(a.style.display=
"none")}}function uuidv4(){function a(){return Math.random(Date.now().toString(36).substr(4,4)).toString(16).slice(-4)+Math.random().toString(16).slice(-4)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function getCookieID(a){if(a=getCookie(a))if(a=a.split("id\x3d"),"undefined"!==typeof a[1]&&null!==a[1]&&""!==a[1])return a[1].split("!")[0];return null}function getCookieElement(a,b){if(a=getCookie(a))if(b=a.split(b+"\x3d"),!isEmpty(b[1]))return b[1].split("!")[0];return null}
function initFacettesToggleButton(){$(".js-hide-col").on("click keypress",function(a){if(!0===a11yClick(a)){a.preventDefault();a=$(this);var b=a.find(".text"),c=b.text(),d=a.attr("data-on"),f=a.attr("data-off"),g=a.parents(".layout-colonne"),h=g.find(".col-left-content"),g=g.find(".col-left-header");c==d?(h.hide(),g.hide(),a.attr("aria-expanded","false"),a.parents(".layout-colonne").addClass("column-hidden"),b.text(f),a.attr("title",f)):(h.show(),g.show(),a.attr("aria-expanded","true"),a.parents(".layout-colonne").removeClass("column-hidden"),
b.text(d),a.attr("title",d))}});$(".js-hide-col-in").on("click keypress",function(a){if(!0===a11yClick(a)){a.preventDefault();a=$(this);var b=a.parents(".layout-colonne"),c=b.find(".col-left-content"),b=b.find(".hide-col"),d=b.find(".text"),f=b.attr("data-off");c.hide();a.attr("aria-expanded","false");a.parents(".layout-colonne").addClass("column-hidden");b.attr("aria-expanded","false");b.attr("title",f);d.text(f)}})}
function initFacettesToggleButtonMobile(){var a=$(".col-left-content"),b=$(".layout-colonne .js-hide-col"),c=b.find(".text"),d=b.attr("data-off"),f=b.attr("data-on");$(window).width()<breakpoints.tabletMinWidth?(a.hide(),b.attr("aria-expanded","false"),b.parents(".layout-colonne").addClass("column-hidden"),b.attr("title",d),c.text(d)):(a.show(),b.attr("aria-expanded","true"),b.parents(".layout-colonne").removeClass("column-hidden"),c.text(f),b.attr("title",f))}
function bindChronoDetailButton(){$(".detail-timeline button").click(function(a){a.preventDefault();a=$(this).parents(".detail-timeline").siblings(".content-detail-timeline").find(".content-tip-timeline");toggleTip($(this),a)})}
function showHideElement(){var a=$(".js-list-expanded");a.find("button.expanded").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var d=b.parent(),f=d.find("\x3e .js-child"),g=b.parents(".js-list-expanded").attr("data-on"),b=b.parents(".js-list-expanded").attr("data-off");f.is(":visible")||0==f.is(":visible")&&0===f.length&&d.hasClass("opened")?($(this).removeClass("opened").attr("aria-expanded","false"),d.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded",
"true"),d.addClass("opened"),a.text(g))});a.find("button.expanded-button-title").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var d=b.parents("li"),f=d.find("\x3e .js-child"),g=b.parents(".js-list-expanded").attr("data-on"),b=b.parents(".js-list-expanded").attr("data-off");f.is(":visible")?($(this).removeClass("opened").attr("aria-expanded","false"),d.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded","true"),d.addClass("opened"),a.text(g))});
$(".button-expand button").click(function(a){a=$(this).parents("li");a.hasClass("opened")?(a.removeClass("opened"),$(this).attr("aria-expanded","false")):(a.addClass("opened"),$(this).attr("aria-expanded","true"))});$(".js-toggle-sommary").click(function(a){a.preventDefault();a=$(this);var b=a.text(),d=$(".code-consommation-list button.expanded"),f=d.parent(),g=a.attr("data-on"),h=a.attr("data-off");b==g?(d.removeClass("opened").attr("aria-expanded","false"),f.removeClass("opened"),a.text(h),a.attr("aria-expanded",
"false")):(d.addClass("opened").attr("aria-expanded","true"),f.addClass("opened"),a.text(g),a.attr("aria-expanded","true"))});bindChronoDetailButton();a=$(".content-tip-folder");a.attr("aria-hidden",!0);$('[class^\x3d"link-folder-option"]').click(function(a){a.preventDefault();a=$(this).siblings(".content-tip-folder");toggleTip($(this),a)});a.find("li:last-child \x3e a").focusout(function(){toggleTip($(this).parents(".folder-option").find(".link-folder-option"),$(this).parents(".content-tip-folder"))});
$(".tabs-secondary-content").attr("aria-hidden",!0);$(".js-tab-secondary").click(function(a){a.preventDefault();a="#"+$(this).attr("data-tip");a=$(a);var b=a.find(".js-first");$(this).siblings(".js-tab-secondary").attr("aria-expanded","false").removeClass("opened");$(this).siblings(".tabs-secondary-content").attr("aria-hidden","true");toggleTip($(this),a);b.focus()});a=$(".picto-info");a.siblings(".content-tip-info").attr("aria-hidden",!0);a.hover(function(){$(this).attr("aria-expanded","true").addClass("opened");
$(this).siblings(".content-tip-info").attr("aria-hidden","false")},function(){$(this).attr("aria-expanded","false").removeClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","true")});a.focus(function(){$(this).attr("aria-expanded","true").addClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","false")}).blur(function(){$(this).attr("aria-expanded","false").removeClass("opened");$(this).siblings(".content-tip-info").attr("aria-hidden","true")})}
function initTips(){$(document).on("keydown",function(a){27==a.keyCode&&closeToggleTip()})}function closeToggleTip(){var a=$('.share-link, .parameter-link, [class^\x3d"link-folder-option"]'),b=$("#tip-share, #tip-parameter, .content-tip-folder");a.each(function(){$(this).attr("aria-expanded","false").removeClass("opened")});b.each(function(){$(this).attr("aria-hidden","true")})}function showTip(a,b){a.attr("aria-expanded","true").addClass("opened");b.attr("aria-hidden","false")}
function hideTip(a,b){a.attr("aria-expanded","false").removeClass("opened");b.attr("aria-hidden","true")}function toggleTip(a,b){a.hasClass("opened")?hideTip(a,b):showTip(a,b)}
function initTabs(){if(0!=$("#tabs").length){var a=$(".tabs__item a"),b=0,c=$(".tabs__list"),d=$("#tabs .prev-tab"),f=$("#tabs .next-tab"),g=!0;a.each(function(a,d){a=$(d);b+=a.parent("li").width();a.on("focus",function(a){var b=$(this).innerWidth();a=$(this).position();var b=b+a.left,d=c.position(),f=c.parent().width();0>a.left?c.parent().animate({scrollLeft:-d.left-200},250):b>f&&c.parent().animate({scrollLeft:-d.left+200},250)})});var h=function(){c.length&&-c.position().left>=c.width()-c.parent().width()?
f.hide():!isDeviceMobile()||g?f.show():f.hide();0==c.parent().scrollLeft()?d.hide():!isDeviceMobile()||g?d.show():d.hide()};$(".prev-tab").on("click",function(){var a=c.position();c.parent().animate({scrollLeft:-a.left-200},{duration:250})});$(".next-tab").on("click",function(){var a=c.position();c.parent().animate({scrollLeft:-a.left+200},{duration:250})});var k=null;c.parent().on("scroll",function(){null!==k&&clearTimeout(k);k=setTimeout(function(){h();g=!1},50)});var l=null;$(window).on("resize",
function(){null!==l&&clearTimeout(l);l=setTimeout(function(){setTabsWidth(b);h()},50)});setTabsWidth(b);$("#tabs .tabs__item a[aria-selected\x3dtrue]").focus();c.parent().scroll()}}function setTabsWidth(a){$(".tabs__list").css("width",a);$(".tabs").width()>=breakpoints.siteMaxWidth&&$(".tabs").css("overflow","hidden")}
function selectCheckboxe(a,b){if(!0===a11yClick(a)){var c=$(this).siblings(".js-child").find('span[role\x3d"button"]:not([disabled])');a=$(this).parents("li").find('\x3e span[role\x3d"button"]:not([disabled])').not($(this));"true"==$(b).attr("aria-pressed")?($(b).attr("aria-pressed","false"),$(b).children("img").attr("src","/resources/images/checkbox_empty.svg")):($(b).attr("aria-pressed","true"),$(b).children("img").attr("src","/resources/images/checkbox_check.svg"));0!=c.length&&("true"==$(this).attr("aria-pressed")?
c.each(function(){$(this).attr("aria-pressed","true");$(this).children("img").attr("src","/resources/images/checkbox_check.svg")}):c.each(function(){$(this).attr("aria-pressed","false");$(this).children("img").attr("src","/resources/images/checkbox_empty.svg")}));0<a.length&&(c=countChildCheckboxes($(this)),0==c?(a.attr("aria-pressed","true"),a.children("img").attr("src","/resources/images/checkbox_check.svg")):1==c?(a.attr("aria-pressed","false"),a.children("img").attr("src","/resources/images/checkbox_empty.svg")):
2==c&&(a.attr("aria-pressed","false"),a.children("img").attr("src","/resources/images/checkbox_full.svg")));a=b.closest("form");"form_sommaire_jo"!==a.attr("id")?a.hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search"):facetteJorfSoumission(b)}}
function initGraphicCheckboxes(){$(".js-reset-checkbox").click(function(a){a.preventDefault();a=$(this);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off"),f=a.parents(".checkboxes-container"),g=f.find('input[type\x3d"checkbox"]:not([disabled])'),f=f.find('span[role\x3d"button"]:not([disabled])');b==c?(g.each(function(){$(this).prop({checked:!1})}),f.each(function(){$(this).attr("aria-pressed","false");$(this).find("img").attr("src","/resources/images/checkbox_empty.svg")}),a.text(d)):(g.each(function(){$(this).prop({checked:!0})}),
f.each(function(){$(this).attr("aria-pressed","true");$(this).find("img").attr("src","/resources/images/checkbox_check.svg")}),a.text(c));b=a.closest("form");"form_sommaire_jo"!==b.attr("id")?b.hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search"):facetteJorfSoumission(a)});$('.checkboxes-container.button-checkboxes span[role\x3d"button"]:not([disabled])').on("click keypress touch",function(a){$(this).attr("disabled")&&"disabled"==$(this).attr("disabled")||selectCheckboxe(a,
$(this))})}
function initModals(){$("#modal-timeline, #modal-compare").on("shown.bs.modal",function(a){$(this).attr("aria-hidden","false")});$("#modal-timeline, #modal-compare").on("hidden.bs.modal",function(a){$(this).attr("aria-hidden","true")});$("#modal-compare").on("shown.bs.modal",function(a){a=$(".compare-content .col:first-child .removed");var b=$(".compare-content .col:last-child .removed-clear");b.each(function(a){$(this).data("data-removed-clear",a)});a.each(function(a){var c=$(this);c.data("data-removed",a);
b.each(function(b){var d=$(this);b==a&&(b=c.height(),d.height(b))})});a=$(".compare-content .col:last-child .added");var c=$(".compare-content .col:first-child .added-clear");c.each(function(a){$(this).data("data-added-clear",a)});a.each(function(a){var b=$(this);b.data("data-added",a);c.each(function(c){var d=$(this);c==a&&(c=b.height(),d.height(c))})})})}
function initEscTooltips(){$(document).keyup(function(a){if("Escape"===a.key){a=document.activeElement.getAttribute("class");var b=document.activeElement;isTooltipOpen();var c=howManyTooltipsAreOpen(),d=isSelecteurFondOpen(),f=isSelecteurChampsOpen();if(0==$(b).parents("#navigation").length)if(a.includes("page-recherche")){var g=null;closeElement("tooltip")}else"form-check-label"==a||"search-select-cta js-collapsible-cta"==a||"search-select-cta js-collapsible-cta btn-cta btn-field-search"==a||"form-check-input form-select-search radio-target"==
a||"form-check-input"==a?(closeElement("recherche"),g="search-select-content js-collapsible-content",$("span[role]").each(function(){$(this).attr("class")!=g&&$(this).mouseleave()})):"js-simple-tooltip picto-info opened"==a?0==d&&0==f&&1>=c?closeElement("tooltip"):(g=document.activeElement.nextElementSibling.getAttribute("class"),$("span[role]").each(function(){$(this).mouseleave()}),$(b).focus()):($("div.js-collapsible-content").each(function(){"false"==$(this).attr("aria-hidden")&&$(this).mouseleave()}),
$("span[role]").each(function(){"false"==$(this).attr("aria-hidden")&&$(this).mouseleave()}))}})}function initSkipLinks(){$(".skip-link a").on("focus",function(){$(this).parents(".container").addClass("skip-link-focus")}).on("blur",function(){$(this).parents(".container").removeClass("skip-link-focus")})}
function initCloseMenu(){$(document).keyup(function(a){"false"===$("#search-select-tip-content").attr("aria-hidden")&&"tab_selection"!==document.activeElement.getAttribute("name")&&13!=a.keyCode?$("#search-select-tip-content").attr("aria-hidden",!0):"false"===$("#searchField-tip").attr("aria-hidden")&&"searchField"!==document.activeElement.getAttribute("name")&&13!=a.keyCode&&$("#searchField-tip").attr("aria-hidden",!0)});$(document).on("click",".form-radio",function(){"tab_selection"!==document.activeElement.getAttribute("name")&&
"false"===$("#search-select-tip-content").attr("aria-hidden")&&$("#search-select-tip-content").attr("aria-hidden",!0)})}
function closeElement(a){"recherche"==a?(a=isTooltipOpen(),"false"===$("#search-select-tip-content").attr("aria-hidden")&&"true"===$("#searchField-tip").attr("aria-hidden")&&0==a?$("#search-select-tip-content").attr("aria-hidden",!0):"true"===$("#search-select-tip-content").attr("aria-hidden")&&"false"===$("#searchField-tip").attr("aria-hidden")&&0==a&&$("#searchField-tip").attr("aria-hidden",!0)):"tooltip"==a&&"true"===$("#search-select-tip-content").attr("aria-hidden")&&"true"===$("#searchField-tip").attr("aria-hidden")&&
$(".js-simpletooltip.simpletooltip").each(function(){$(this).attr("aria-hidden",!0)})}function isTooltipOpen(){var a=!1;$(".js-simpletooltip.simpletooltip").each(function(){"false"===$(this).attr("aria-hidden")&&(a=!0)});return a}function isSelecteurFondOpen(){var a=!1;"false"===$("#search-select-tip-content").attr("aria-hidden")&&(a=!0);return a}function isSelecteurChampsOpen(){var a=!1;"false"===$("#searchField-tip").attr("aria-hidden")&&(a=!0);return a}
function howManyTooltipsAreOpen(){var a=0;$(".js-simple-tooltip.picto-info").each(function(){"true"===$(this).attr("aria-expanded")&&(a+=1)});return a}function initSectionClasses(){$("label.title-link").next().find(".name-article:first").parent().addClass("noborder")}
function initContentTables(){function a(a){a=$(this);a.next(".table-responsive").toggle();"Cacher le tableau"==a.text()?a.text("Afficher le tableau"):a.text("Cacher le tableau")}$(".page-content").find("table").wrap("\x3cdiv class\x3d'table-responsive'\x3e\x3c/div\x3e");if(window.matchMedia("screen and (max-width: 47.938em)").matches){var b=$(".page-content").find(".table-responsive");$('\x3ca href\x3d"javascript:;" class\x3d"displayTable"\x3eAfficher le tableau\x3c/a\x3e').insertBefore(b);$(".displayTable").click(a);
b.hide()}}function countChildCheckboxes(a){var b=a.parent().siblings().find('span[role\x3d"button"]:not([disabled])'),c=b.length+1,d=0,f=0;"true"==a.attr("aria-pressed")?d+=1:"false"==a.attr("aria-pressed")&&(f+=1);b.each(function(){"true"==$(this).attr("aria-pressed")?d+=1:"false"==$(this).attr("aria-pressed")&&(f+=1)});return c==d?"0":c==f?"1":"2"}
function initGraphicRadiosButtons(){$('.radios-container.button-radios span[role\x3d"button"]:not([disabled])').on("click keypress",function(a){var b=$(this).parents("li").siblings().find('span[role\x3d"button"]');!0===a11yClick(a)&&("true"==$(this).attr("aria-pressed")?($(this).attr("aria-pressed","false"),$(this).children("img").attr("src","/resources/images/radio_empty.svg")):($(this).attr("aria-pressed","true"),$(this).children("img").attr("src","/resources/images/radio_check.svg"),b.attr("aria-pressed",
"false"),b.children("img").attr("src","/resources/images/radio_empty.svg")))})}
+function(a){var b=function(b,d){var f;f=b.nodeName.toLowerCase();if("area"===f){d=b.parentNode;f=d.name;if(!b.href||!f||"map"!==d.nodeName.toLowerCase())return!1;b=a("img[usemap\x3d'#"+f+"']")[0];return!!b&&c(b)}return(/input|select|textarea|button|object/.test(f)?!b.disabled:"a"===f?b.href||d:d)&&c(b)},c=function(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length};a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,
b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(c){return b(c,!isNaN(a.attr(c,"tabindex")))},tabbable:function(c){var d=a.attr(c,"tabindex"),f=isNaN(d);return(f||0<=d)&&b(c,!f)}});var d=a.fn.modal.Constructor.prototype.enforceFocus,f=a.fn.modal.Constructor.prototype.hide,g=a.fn.modal.Constructor.prototype.show;a(".modal-dialog").attr({role:"document"});a.fn.modal.Constructor.prototype.hide=function(){f.apply(this,arguments);a(document).off("keydown.bs.modal")};a.fn.modal.Constructor.prototype.show=
function(){g.apply(this,arguments);if(this.$element){var a=this.$element.find(":tabbable").filter(":focusable");0<a.length&&a[0].focus()}};a.fn.modal.Constructor.prototype.enforceFocus=function(){var b=this.$element.find(":tabbable"),c=b[b.length-1],f=b[0];a(document).on("keydown.bs.modal",a.proxy(function(b){var d=9===b.keyCode,g=b.shiftKey&&d,d=!b.shiftKey&&d,h=a(b.target).is(f),k=a(b.target).is(c);h&&g?(c.focus(),b.preventDefault()):k&&d&&(f.focus(),b.preventDefault())},this));d.apply(this,arguments)}}(jQuery);
window.onresize=function(){stickyScrollFunction()};window.onscroll=function(){stickyScrollFunction()};
function stickyScrollFunction(){var a=$(".options"),b=document.getElementById("stickyScroll");null!=b&&null!=b.querySelector(".print-page-button .text")&&(b.querySelector(".print-page-button").classList.add("type-print-icon"),b.querySelector(".print-page-button .text").style.display="none");null!=document.getElementById("stickyScroll")&&null!=b.querySelector(".text-copy-button .text")&&(b.querySelector(".text-copy-button").classList.add("type-copy-icon"),b.querySelector(".text-copy-button .text").style.display=
"none");window.location.pathname.includes("planclassement")&&$(".text-copy-button").remove();if($("#stickyScrollDefault").length)if(a=a.offset().top+a.height(),window.pageYOffset>=a){$("#stickyScroll").css("display","block");recupSubTitleOfSection(".jorf-section-title");recupSubTitleOfSection(".section-non-selectionne");a=$("#stickyScrollSearch").length?!0:!1;"undefined"===typeof document.querySelectorAll(".head-code-page .chronolegi-block")[0]&&a&&($("#stickyScrollSearch").remove(),a=!1);a||$("#stickyScrollTitre").css("width",
"100%");var b=document.querySelectorAll("#stickyScrollTitre .ssTitre")[0],c=document.querySelectorAll("#stickyScrollTitre .ssSubTitre")[0];a&&(700>screen.width||700>window.innerWidth)?($("#stickyScrollTitre").css("width","100%"),$("#stickyScrollSearch").css("display","none")):a&&700<screen.width&&700<window.innerWidth&&($("#stickyScrollTitre").css("width","calc(100% - 23em)"),$("#stickyScrollSearch").css("width","23em"),$("#stickyScrollSearch").css("display","inline-block"));if("undefined"!==typeof c)if(700<
screen.width&&700<window.innerWidth){var d=getSizeToShow(b,c,"subTitre",a);c.innerHTML=parseString(c.getAttribute("defaultValue"),d,"subTitre")}else c.innerHTML="";"undefined"!==typeof b&&(d=getSizeToShow(b,c,"titre",a),b.innerHTML=parseString(b.getAttribute("defaultValue"),d,"titre"))}else $("#stickyScroll").css("display","none")}
function recupSubTitleOfSection(a){var b=$(a).length?!0:!1,c=$(".ssSubTitre").length?!0:!1;b&&!c&&(b="\x3clabel class\x3d'ssTitre' style\x3d'font-size:1.125em;color:#4a5e81;' defaultValue\x3d'"+$(".ssTitre").html().replace(/'/g,"\x26#039;")+"'\x3e"+$(".ssTitre").html()+"\x3c/label\x3e",a="\x3clabel class\x3d'ssSubTitre' style\x3d'font-size:0.9em;color:black;' defaultValue\x3d' : \x3ci\x3e"+$(a).html().replace(/'/g,"\x26#039;")+"\x3c/i\x3e'\x3e : \x3ci\x3e"+$(a).html()+"\x3c/i\x3e\x3c/label\x3e",$("#stickyScrollTitre").html(b+
" "+a))}function parseString(a,b,c){if(!(a.length<b))if("titre"==c)a.includes(" ...")||(a=a.substring(0,b)+" ...");else if(a.includes("(Article")){c=a.indexOf("(Article");var d=a.substring(c,a.length);a=a.substring(0,c);a.length>b-d.length&&(a=a.substring(0,b));a.includes(" ...")||(a+=" ...");a=a+" "+d}else a.startsWith(" : \x3ci\x3e")?(a=a.replace(/(<([^>]+)>)/ig,"").substring(3,b),a=" : \x3ci\x3e"+a+"\x3c/i\x3e"):a=a.substring(0,b);return a}
function getSizeToShow(a,b,c,d){var f="undefined"!==typeof a?!0:!1,g="undefined"!==typeof b?!0:!1;b=140;var h=100;d||(b=180,h=140);"titre"==c?a=g?(window.innerWidth*h/1900).toFixed(0):(window.innerWidth*b/1900).toFixed(0):f?a.getAttribute("defaultValue").length<window.innerWidth*h/1900?(c=a.getAttribute("defaultValue"),c.startsWith(" : \x3ci\x3e")?(c=c.replace(/(<([^>]+)>)/ig,""),a=(window.innerWidth*b/1900).toFixed(0)-c.length-10):a=(window.innerWidth*b/1900).toFixed(0)-a.getAttribute("defaultValue").length-
10):a=(window.innerWidth*b/1900).toFixed(0)-window.innerWidth*h/1900-10:a=(window.innerWidth*b/1900).toFixed(0);return a}function getOverlay(){$(document).ajaxSend(function(){if(!($("#pdcSearchArbo").length&&0<$("#pdcSearchArbo").val().length&&$("#eac-container-pdcSearchArbo").find("ul:visible").length)){var a=$(".layout-colonne .main-col").innerWidth();$("#overlay").fadeIn("slow");$("#overlay").css("width",a)}});$(document).ajaxComplete(function(){$("#overlay").fadeOut("slow")})}
function resizeOverlay(){$(window).resize(function(){var a=$(".layout-colonne .main-col").innerWidth();$("#overlay").css("width",a)})}function removeLinks(a){stringNoL=a.replace(/<a ([\s\S]*?)">/g,"");return stringNoL=stringNoL.replace(/<\/a>/g,"")}
function copyTitle(){var a=[],b=!1,c=document.getElementsByClassName("head-code-page");if(0!=c.length)for(headChild=c[0].children,c=0;c<headChild.length;c++)"main-title"==headChild[c].className||"main-title-light"==headChild[c].className?(b=!0,a.push("\x3ch2\x3e"+$(headChild[c]).text()+"\x3c/h2\x3e")):"SPAN"!=headChild[c].tagName&&"P"!=headChild[c].tagName||a.push(removeLinks(headChild[c].outerHTML));0==b&&(b=document.getElementsByClassName("main-title"),c=document.getElementsByClassName("main-title-light"),
0!=b.length?a.unshift("\x3ch2\x3e"+$(b[0]).text()+"\x3c/h2\x3e"):0!=c&&a.unshift("\x3ch2\x3e"+$(c[0]).text()+"\x3c/h2\x3e"));return a.join("")}
function copyTopPage(){var a=[],b=document.getElementsByClassName("top-page-jo");if(0!=b.length)for(headChild=b[0].children,b=0;b<headChild.length;b++)"top-page-jo"==headChild[b].className||"top-page-jo-light"==headChild[b].className?a.push("\x3ch3\x3e"+$(headChild[b]).text()+"\x3c/h3\x3e"):"SPAN"!=headChild[b].tagName&&"P"!=headChild[b].tagName||a.push(removeLinks(headChild[b].outerHTML));return a.join("")}
function copyMid(){var a=[],b=document.getElementsByClassName("vigor-title"),c=document.getElementsByClassName("frame-block");if(0<b.length){for(c=0;c<b.length;c++){var d=b[c].cloneNode(!0),f=d.getElementsByTagName("option");d.style.display="none";for(d=0;d<f.length;d++)1==f[d].selected&&a.push("\x3ch4\x3e"+f[d].label+"\x3c/h4\x3e")}return a.join("")}if(0<c.length)for(b=/<h2([\s\S]*?)>|<dt>/g,f=/<\/h2>|<\/dt>/g,d=0;d<c.length;d++)c[d].classList.contains("abstract")||(frameMin=c[d].outerHTML.replace(b,
"\x3ch3\x3e"),frameMin=frameMin.replace(f,"\x3c/h3\x3e"),a.push(removeLinks(frameMin)));return a.join("")}
function getArticle(a){list=[];titre=a.getElementsByClassName("name-article");if(0<titre.length)var b=titre[0].id.split("-").length;noTitre=a.getElementsByClassName("unnamed-article");0==titre.length&&0<noTitre.length&&(b=noTitre[0].id.split("-").length);if(0<b){var c=20*(b-1)+10;0<titre.length?list.push('\x3ch4 style\x3d"margin-left: '+c+'px"\x3e'+titre[0].textContent+"\x3c/h4\x3e"):0==titre.length&&0<noTitre.length&&list.push("");date=a.getElementsByClassName("date");0<date.length&&list.push('\x3cp style\x3d"font-size: 16px;font-weight: bold;margin-left: '+
c+'px"\x3e'+removeLinks(date[0].innerHTML)+"\x3c/p\x3e");content=a.getElementsByClassName("content");if(0<content.length){var b=removeLinks(content[0].innerHTML).replace(/<p><\/p>/g,""),d='\x3cp style\x3d"margin-left: '+c+'px" id\x3d"content"\x3e',b=b.replace(/<p align="left">|<p>/g,d);list.push(d+removeLinks(b)+"\x3c/p\x3e")}nota=a.getElementsByClassName("nota");0!=nota.length&&[].map.call(nota,function(a){var b=getComputedStyle(a,":before").content.replace(/\"/g,"");list.push('\x3cp style\x3d"font-size: 12px;margin-left: '+
c+'px"\x3e'+b+"\x3c/br\x3e"+a.textContent+"\x3c/p\x3e")});return list.join("")}}
function addElementsTolist(a,b){if(0<b.length){for(var c=0;c<b.length;c++)if("none"!=b[c].style.display){subElements=b[c].children;for(var d=0;d<subElements.length;d++)"none"!=subElements[d].style.display&&("ARTICLE"==subElements[d].tagName?a.push(articleIndentation(subElements[d])):"LABEL"==subElements[d].tagName?a.push(titleIndentation(subElements[d])):"H3"==subElements[d].tagName||"H2"==subElements[d].tagName?a.push(titleIndentation(subElements[d].getElementsByTagName("LABEL")[0])):"UL"==subElements[d].tagName&&
addElementsTolist(a,subElements[d].children))}return a.join("")}}function titleIndentation(a){var b=a.id.split("-");return 0!=b.length?2==b.length?"\x3ch3\x3e"+a.textContent+"\x3c/h3\x3e":'\x3ch4 style\x3d"margin-left: '+20*(b.length-1)+'px"\x3e'+a.textContent+"\x3c/h4\x3e":a}function articleIndentation(a){return getArticle(a)}
function copyArticles(){var a=[],b=document.getElementsByClassName("page-content"),c=document.getElementsByTagName("ARTICLE");0==b.length&&(b=document.getElementsByClassName("content-page"));var d=b[0].getElementsByTagName("ARTICLE");if(0==d.length&&0==c.length)return a.push(removeLinks(b[0].innerHTML)),a.join("");if(0==d.length&&0!=c.length){for(b=0;b<c.length;b++)a.push(getArticle(c[b]));return a.join("")}if(1==d.length)return article=document.getElementsByTagName("ARTICLE"),a.push(getArticle(article[0])),
a.join("");if(1<d.length){c=b[0].children;for(b=0;b<c.length;b++)"UL"==c[b].tagName?(d=addElementsTolist([],c[b].children),a.push(d)):"see-abrogated"==c[b].className||c[b].className.match(/(.*?)doc-download(.*?)/)||c[b].className.match(/(.*?)summary-recall(.*?)/)||"spTextButton"==c[b].id||"conteneurSommaire"==c[b].id||"summary-link closed"==c[b].className||"summary-box"==c[b].className||a.push('\x3cp class\x3d"test" style\x3d"font-size: 16px"\x3e'+removeLinks(c[b].innerHTML)+"\x3c/p\x3e");return a.join("")}}
function copyFunction_bis(a){return function(){"true"==a.getAttribute("isRunning")&&(a.getAttribute("isRunning",!1),header=copyTitle(),topPage=copyTopPage(),somm=copySommaire(),mid=copyMid(),underFrame=copyUnderFrame(),list=copyArticles(),frameAnalyse=copyFrame(),copyToClipBoard(header,topPage,somm,underFrame,mid,list,frameAnalyse))}}function copyFunction(){for(var a=$(".copy-cta"),b=0;b<a.length;b++)a[b].addEventListener("click",copyFunction_bis(a[b]))}
function copySommaire(){var a=[],b=document.getElementsByClassName("summary-recall");if(0<b.length){var b=b[0].cloneNode(!0),c=b.getElementsByClassName("articles-code js-child print-invisible");0<c.length&&(b.getElementsByClassName("summary-header")[0].style.display="none",c[c.length-1].style.display="none");c=b.getElementsByClassName("closed cacher-noeud");if(0<c.length){void 0!=b.getElementsByClassName("summary-header")[0]&&(b.getElementsByClassName("summary-header")[0].style.display="none");for(var d=
0;d<c.length;d++)c[d].style.display="none",null!=c[d].getElementsByClassName("articles-code js-child")[0]&&(c[d].getElementsByClassName("articles-code js-child")[0].style.display="none");c=b.getElementsByClassName("item-current");0<c.length&&(c=c[0].getElementsByClassName("articles-code js-child")[0],null!=c&&(c.style.display="none"))}c=b.getElementsByClassName("articles-code js-child cacher-noeud");if(0<c.length)for(d=0;d<c.length;d++)null!=c[d]&&(c[d].style.display="none");frameMin=b.outerHTML.replace(/<h3([\s\S]*?)>|<\/h3>|<dt>/g,
"");frameMin=frameMin.replace(/<h2([\s\S]*?)>|<dt>/g,"\x3ch3\x3e");frameMin=frameMin.replace(/<\/h2>|<\/dt>/g,"\x3c/h3\x3e");frameMin=frameMin.replace(/Replier|Déplier|<dt>/g,"");frameMin=frameMin.replace(/<li>|<\/li>|<\/li><li>|<dt>/g,"");a.push(removeLinks(frameMin))}return a.join("")}
function copyUnderFrame(){var a=[],b=document.getElementsByClassName("under-frame");if(0<b.length)for(var c=/<h2([\s\S]*?)>|<dt>/g,d=/<\/h2>|<\/dt>/g,f=/<\/button>/g,g=/<button([\s\S]*?)>|<dt>/g,h=/<h3([\s\S]*?)>|<\/h3>|<dt>/g,k=0;k<b.length;k++)divMin=b[k].outerHTML.replace(h,""),divMin=divMin.replace(c,"\x3ch3\x3e"),divMin=divMin.replace(d,"\x3c/h3\x3e"),divMin=divMin.replace(g,"\x3ch4\x3e"),divMin=divMin.replace(f,"\x3c/h4\x3e"),a.push(removeLinks(divMin));return a.join("")}
function copyFrame(){var a=[],b=document.getElementsByClassName("frame-block");if(0<b.length)for(var c=/<h2([\s\S]*?)>|<dt>/g,d=/<\/h2>|<\/dt>/g,f=/<\/button>/g,g=/<button([\s\S]*?)>|<dt>/g,h=/<h3([\s\S]*?)>|<\/h3>|<dt>/g,k=0;k<b.length;k++)b[k].classList.contains("abstract")&&(frameMin=b[k].outerHTML.replace(h,""),frameMin=frameMin.replace(c,"\x3ch3\x3e"),frameMin=frameMin.replace(d,"\x3c/h3\x3e"),frameMin=frameMin.replace(g,"\x3ch4\x3e"),frameMin=frameMin.replace(f,"\x3c/h4\x3e"),a.push(removeLinks(frameMin)));
return a.join("")}
function copyToClipBoard(a,b,c,d,f,g,h){var k=document.createElement("div");k.innerHTML=a+b+c+f+d+g+h;k.style.position="fixed";k.style.pointerEvents="none";k.style.opacity=0;a=Array.prototype.slice.call(document.styleSheets).filter(function(a){return!a.disabled});document.body.appendChild(k);window.getSelection().removeAllRanges();b=document.createRange();b.selectNode(k);window.getSelection().addRange(b);for(b=0;b<a.length;b++)a[b].disabled=!0;document.execCommand("copy");for(b=0;b<a.length;b++)a[b].disabled=
!1;document.body.removeChild(k);$(".copy-cta").attr("isRunning",!0)}
function generatePreciseQueryFonds(){var a=window.location.search,b="all";$("#fonds");var b=window.location.pathname.split("/")[2],c=$("#form_"+b);isValidForm(c);$("#page_"+b).val(1);addCheckValueToForm(c);c=c.serialize();0<=c.indexOf("typeRecherche\x3ddate")&&0>=c.indexOf("\x26dateVersion\x3d")&&(b=encodeURIComponent($("#dateVersion").val()),c+="\x26dateVersion\x3d"+b);c=stripListFromEmptyParam(c);b=Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[2].children)[Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[2].children).map(function(a){return a.childNodes[0].checked}).reduce(function(a,b,
c){return b?a.concat(c):a},[])[0]].children[0].dataset.url.toLowerCase();a=a.replace(/tab_selection=[A-Za-z]+/g,"tab_selection\x3d"+Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[2].children)[Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[2].children).map(function(a){return a.childNodes[0].checked}).reduce(function(a,b,c){return b?a.concat(c):a},[])[0]].children[0].defaultValue.toLowerCase());a=a.replace(/searchField=[A-Z_]*&/g,
"searchField\x3d"+Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[3].children).filter(function(a){return 1==a.children[0].checked})[0].children[0].value+"\x26");c=c.split("\x26").filter(function(a){return a.startsWith("query")});0<c.length&&(a=a.replace(/query=[\s\S]*&/g,"query\x3d"+c[0].split("\x3d")[1]+"\x26"));c="/search/"+b;"kali"===b&&(a+="\x26init\x3dtrue");a=a.replace(/[?&]fonds=([^&#]*)/g,"");a.startsWith("?")||(a="?"+a);window.location.href=
c+a}
function validateTroncatureSearchAdvancesSltFondAndReloadChamps(a){document.querySelectorAll("#search-select-tip-field-01 \x3e fieldset \x3e div \x3e div").forEach(function(a){return a.removeAttribute("aria-hidden")});document.querySelectorAll("#search-select-tip-field-01 \x3e fieldset \x3e div \x3e div").forEach(function(a){return a.style.display=""});validateTroncatureSearchAdvancesSltFond(a);a=$(".col-left-header").find(".result-search-field");if(a.length){var b=Array.prototype.slice.call(document.querySelectorAll(".result-search-field-base")[0].children)[Array.prototype.slice.call(document.querySelectorAll(".result-search-field-base")[0].children).map(function(a){return a.childNodes[0].checked}).reduce(function(a,b,
c){return b?a.concat(c):a},[])[0]].children[0].value,b=getResultConfigFromBaseSelected(b),c=[];null!=b&&(c=b.targets.split(","),a.find(".form-check-input").each(function(){0>$.inArray(this.value,c)?(this.disabled=!0,$(this).parent().hide(),$(this).parent().attr("aria-hidden","true")):(this.disabled=!1,$(this).parent().show(),$(this).parent().attr("aria-hidden","false"))}),c.includes(Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[3].children)[Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[3].children).map(function(a){return a.childNodes[0].checked}).reduce(function(a,
b,c){return b?a.concat(c):a},[])[0]].children[0].value)||(Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[3].children).filter(function(a){return 1==a.children[0].checked})[0].children[0].checked=!1,Array.prototype.slice.call(document.querySelectorAll(".search-choice,.result-search-field-base")[3].children)[0].children[0].click()))}}
function changeSearchSelectLabelFond(a){var b=[],c="",d="",f="",g=a.find(".search-select-cta");a.find(".form-check-input").each(function(a,c){$(c).is(":checked")&&(a=$(c).next("label.form-check-label").text().trim(),b.push(a),f=$(c).val(),(c=$(c).attr("data-icon"))&&(d=c))});c=0<b.length?b.join(", "):g.attr("data-text");0<a.find(".form-check-input").length&&(g.find(".text").text(c),g.attr("data-simpletooltip-text")!==c?a.find("span.js-simpletooltip[role\x3d'tooltip']").text(g.attr("data-simpletooltip-text")+
" : "+c):a.find("span.js-simpletooltip[role\x3d'tooltip']").text(c),g.attr("data-icon",d),g.val(f))}function validateTroncatureSearchAdvancesSltFond(a){validateTroncatureSearchPrecise(a,"ALL");$("#select-tab").val(a);$(".item-advanced-search").find(".search-select").find(".btn-cta").each(function(){var a=$(this),c=a.attr("id").replace("-control",""),a=a.attr("value");validateTroncatureSearchAdvancesSltChmp("select-target-group",c,a,"true")})}
function validateTroncatureSearchAdvancesSltChmp(a,b,c,d){"false"==d?validateTroncatureSearchPreciseQueryResult(c):"true"==d&&(validateTroncatureSearchPrecise("",c),"select-target-group"==a?(b=b.replace("select-target-group-",""),""!==c&&$("#"+a+"-"+b+"-control").val(c),3==b.split("-").length?$("#"+a+"-"+b+"-control").closest("fieldset").find(".search-input").find("input").each(function(){var a=$(this).attr("id"),a=a.replace("input-search-","");validateTroncatureSearchAdvance(a,"")}):validateTroncatureSearchAdvance(b,
"")):"select-refine"==a&&($("#"+a+"-"+b).val(c),validateTroncatureSearchAdvance(b,"")))}
function validateTroncatureSearchAdvance(a,b){0<b.length&&(b="-"+b);var c=b=a+""+b;a.includes("block-block")?(c=a.replace("block-block-",""),a=c.split("-"),2==a.length?c=a.join("-")+"-1":2<a.length&&(c=a[0]+"-"+a[1]+"-1")):a.includes("block")&&(c=a.replace("block-",""),a=c.split("-"),2==a.length?c=a.join("-")+"-1":2<a.length&&(c=a[0]+"-"+a[1]+"-1"));var d=!1;a=$("#select-refine-"+b);if(a.length&&"EXACT"!==a.val()){var c=$("#select-target-group-"+c+"-control"),f=c.length?!0:!1,g=$("#select-tab");if(f&&
isConcernedWithValidation(c.val(),g.val())&&$("#input-search-"+b).length){var h=$("#input-search-"+b).val().trim();isWildcardPresent(h)?(""!==document.getElementById("select-filter-word-"+b+"-proximity").value&&(document.getElementById("select-filter-word-"+b+"-proximity").value=""),document.getElementById("select-filter-word-"+b+"-proximity").disabled=!0,document.getElementById("select-filter-word-"+b+"-proximity").placeholder=""):(document.getElementById("select-filter-word-"+b+"-proximity").disabled=
!1,document.getElementById("select-filter-word-"+b+"-proximity").placeholder="Ex:2");isRechercheExacte(h)||(d=isTroncatureNonvalid(h,c.val()))}}$("#input-search-"+b).val()&&0<$("#input-search-"+b).val().length&&($("#block-rule-"+b).removeClass("advanced-search-error"),$("#input-search-"+b+"-error").parent().remove());d?($("#input-search-"+b).css("border","2px solid red"),d=$("#error-"+b),(c=d.length?!0:!1)||$("#input-search-"+b).closest(".one-rule-wrapper").after('\x3cdiv id\x3d"error-'+b+'" class\x3d"alert alert-danger block-input-errors" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"alert-content"\x3e\x3cstrong\x3eErreur : \x3c/strong\x3eLa troncature (*) et/ou (?) doit suivre ou précéder au moins trois caractères consécutifs.\x3c/div\x3e\x3c/div\x3e')):
($("#input-search-"+b).css("border","0"),d=$("#error-"+b),(c=d.length?!0:!1)&&d.remove());$(".text-input").keyup(function(a){if(13===a.keyCode){var b=$(".text-input");a=document.querySelectorAll('[id^\x3d"error-"]');for(var b=$jscomp.makeIterator(b),c=b.next();!c.done;c=b.next())if(c=c.value){var d=c.id,f=d.indexOf("-",d.indexOf("-")+1)+1;[].find.call(a,function(a){return a.id==="error-"+d.substr(f)})&&(c.style.border="2px solid red")}}});isWildcardPresent(h)&&"ALL"==a.val()?(h=$("#alert-"+b),(a=
h.length?!0:!1)||$("#input-search-"+b).closest(".one-rule-wrapper").after('\x3cdiv id\x3d"alert-'+b+'" class\x3d"alert alert-info-redirect" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv class\x3d"alert-content"\x3eLa troncature (*) et/ou (?) ne peut pas être utilisée en même temps que le paramétrage de la proximité.\x3c/div\x3e\x3c/div\x3e')):(h=$("#alert-"+b),(a=h.length?!0:!1)&&h.remove());$("#select-tab").length&&(b=$("#select-tab")[0].value,
"lawarticledecree"==b&&(b="lois"),$("#launch-search-btn-all").length&&($(".alert-danger").length?document.getElementById("launch-search-btn-all").disabled=!0:document.getElementById("launch-search-btn-all").disabled=!1))}
function checkOtherErrors(a,b){b=void 0===b?!0:b;var c=a.find("input[data-validation]");a=a.find("textarea[data-validation]");var d=[],f=[];$(".block-input-errors").not(":has(#courriel-error)").remove();$(".tooltip-input-errors").remove();if(b)return c.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(d.push(a),f=f.concat(b))}),a.each(function(a,b){a=$(this);b=checkAllValidators(a);b.length&&(d.push(a),f=f.concat(b))}),$("*[id*\x3dblock-rule-]").each(function(){$(this).addClass("advanced-search-error")}),
f.length?(d[0].focus(),!1):!0}function isTroncatureNonvalid(a,b){if(a.includes("*")||a.includes("?")){if("ALL"==b&&"*"==a)return!1;a=a.split(" ");for(b=0;b<a.length;b++)if((a[b].includes("*")||a[b].includes("?"))&&!/([A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}\*|\*[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}|[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,}\?|\?[A-zÀ-ú0-9_&\#\[\]\{\}\|\°\+\.\/\\\$\!\(\)\-]{3,})/.test(a[b]))return!0}return!1}
function isWildcardPresent(a){return isEmpty(a)||!a.includes("*")&&!a.includes("?")?!1:!0}function isValidQuoteMark(a){return 0==(a.split('"').length-1)%2}
function applyOrHideQuoteMarkErrorMsg(a,b,c,d){if(a){$("#"+b).css("border","2px solid red");a=$("#error-quote-"+b);var f=a.length?!0:!1;document.getElementById(d).disabled=!0;f||$("#"+b).closest("."+c).after('\x3cdiv id\x3d"error-quote-'+b+'" class\x3d"alert alert-danger block-input-errors" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"alert-content"\x3e\x3cstrong\x3eErreur : \x3c/strong\x3eLa recherche comporte une erreur de guillemet, merci de la corriger.\x3c/div\x3e\x3c/div\x3e')}else if(0==$('[id^\x3d"error"]').length&&
$("#"+b).css("border","0"),a=$("#error-quote-"+b),f=a.length?!0:!1)a.remove(),document.getElementById(d).disabled=!1}function validateQuoteMark(a,b,c,d){(a=isValidQuoteMark(a))?applyOrHideQuoteMarkErrorMsg(!1,b,c,d):(applyOrHideQuoteMarkErrorMsg(!a,b,c,d),event.preventDefault())}
function applyOrHideErrorMsg(a,b,c,d,f){if(a){$("#"+b).css("border","2px solid red");a=$("#error-"+b);var g=a.length?!0:!1;g||($("#"+b).closest("."+c).after('\x3cdiv id\x3d"error-'+b+'" class\x3d"alert alert-danger block-input-errors" style\x3d"margin-bottom: 0em;"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"alert-content"\x3e\x3cstrong\x3eErreur : \x3c/strong\x3eLa troncature (*) et/ou (?) doit suivre ou précéder au moins trois caractères consécutifs.\x3c/div\x3e\x3c/div\x3e'),f&&
(document.getElementById(d).disabled=!0))}else if($("#"+b).css("border","0"),a=$("#error-"+b),g=a.length?!0:!1)a.remove(),f&&(document.getElementById(d).disabled=!1)}
function isConcernedWithValidation(a,b){if("TITLE"==a||"ALL"==a)return!0;switch(b){case "all":return"ALL"==a;case "kali":return"ARTICLE"==a||"MOTS_CLES"==a;case "constit":return"TEXTE"==a;case "acco":return"RAISON_SOCIALE"==a;case "code":return"ARTICLE"==a||"TABLE"==a;case "juri":return"TEXTE"==a||"ABSTRATS"==a||"RESUMES"==a;case "lawarticledecree":case "jorf":return"ARTICLE"==a||"SIGNATURE"==a||"VISA_NOTICE"==a||"VISA"==a||"NOTICE"==a||"NOTA"==a;case "jufi":return"ABSTRATS"==a||"TEXTE"==a;case "cetat":return"ABSTRATS"==
a||"TEXTE"==a||"RESUMES"==a;case "circ":return"RESUME_CIRC"==a||"TEXTE_REF"==a;case "cnil":return"TEXTE"==a;default:return!1}}
function validateTroncatureSearchPrecise(a,b){var c=!0,d=$("#query").val(),f=$("#searchField-control");b=""==b?f.val():b;f=$("#search-select-filter-content");a=""==a?f.val():a;void 0!=d&&(d=d.trim(),isRechercheExacte(d)?applyOrHideErrorMsg(!1,"query","search-base","submitPreciseSearch",!0):isConcernedWithValidation(b,a)?(d=isTroncatureNonvalid(d,b),c=!d,applyOrHideErrorMsg(d,"query","search-base","submitPreciseSearch",!0)):applyOrHideErrorMsg(!1,"query","search-base","submitPreciseSearch",!0));return c}
function validateTroncatureSearchPreciseQueryResult(a){var b=!0,c=$("#query-result").val(),d=$("#search-select-filter-field-01"),f=$("#search-select-filter-field-00");a=""==a?d.val():a;f=f.val();c=c.trim();isRechercheExacte(c)?applyOrHideErrorMsg(!1,"query-result","search-input","reload-search-button-fond",!0):isConcernedWithValidation(a,f)?(c=isTroncatureNonvalid(c,a),b=!c,applyOrHideErrorMsg(c,"query-result","search-input","reload-search-button-fond",!0)):applyOrHideErrorMsg(!1,"query-result","search-input",
"reload-search-button-fond",!0);return b}function isRechercheExacte(a){var b=/"$/;return/^"/.test(a)&&b.test(a)}function copyButonChange(){var a=document.getElementsByClassName("copy-button-title");if(a)for(var b=0;b<a.length;b++)a[b].title="Texte copié",a[b].querySelector(".copy-button").innerHTML="Texte copié"}"use strict";$(document).ready(function(){initPrint();initHeaderDate()});
function initPrint(){function a(a){var b=$(".accordion-timeline-item"),d=setInterval(function(){Object.entries(b).filter(function(a){return a[0]<b.length}).map(function(a){return a[1]}).filter(function(a){return!a.className.includes("version-init")}).map(function(a){return a.clientHeight}).every(function(a){return 78!=a})&&(clearInterval(d),a())},1100)}$("body").on("click","button.print, .options-item.type-print .options-cta",function(){openAllSubsection();var b=$(".accordion-timeline-item"),c=Object.entries(b).filter(function(a){return a[0]<
b.length}).map(function(a){return a[1]}).filter(function(a){return!a.className.includes("version-init")}).map(function(a){return a.clientHeight});Object.entries(b).filter(function(a){return a[0]<b.length}).map(function(a){return a[1]}).filter(function(a){return!a.className.includes("version-init")}).map(function(a){return a.childNodes[0].childNodes[0]}).forEach(function(a,b){78===c[b]&&a.click()});a(function(){window.print()})})}
function openAllSubsection(){var a=[];$(".expandmore__button:not(.search-facet .expandmore__button[id^\x3dlabel_expand_]), .js-expandmore-button:not(.search-facet .js-expandmore-button[id^\x3dlabel_expand_])").each(function(b){$(this).hasClass("is-opened")||(a.push($(this)),$(this).click())});$(".detail-timeline-cta").each(function(b){$(this).hasClass("opened")||(a.push($(this)),$(this).click())});return a}
function initHeaderDate(){var a=new Date,b={day:"numeric",month:"long",year:"numeric"},c=a.toLocaleDateString();toLocaleDateStringSupportsLocales&&(c=a.toLocaleDateString("fr-FR",b));$(".header-date").text(c)}function toLocaleDateStringSupportsLocales(){try{(new Date).toLocaleDateString("i")}catch(a){return"RangeError"===a.name}return!1}
function switchFieldsets(){$("fieldset").each(function(){var a=$(this),b=getAttributes(a),c=$("\x3cdiv/\x3e");c.attr(b);c.addClass("print-fieldset");a.wrapInner(c);a.children(".print-fieldset").unwrap()});(-1<navigator.userAgent.toLowerCase().indexOf("firefox")||"netscape"===navigator.appName.toLowerCase())&&replaceContentClassName();checkUrl()&&addTagForPrint()}
function checkUrl(){var a=document.location.href,a=a.replace(/\/$/,""),a=a.substring(a.indexOf("/")+1),a=a.substring(a.indexOf("/")+1).substring(a.substring(a.indexOf("/")+1).indexOf("/")+1);return a.startsWith("codes")||a.startsWith("loda")}
function restoreFieldsets(){$(".print-fieldset").each(function(){var a=$(this),b=getAttributes(a),c=$("\x3cfieldset/\x3e");c.attr(b);c.removeClass("print-fieldset");a.wrapInner(c);a.children("fieldset").unwrap()});(-1<navigator.userAgent.toLowerCase().indexOf("firefox")||"netscape"===navigator.appName.toLowerCase())&&restoreContentClassName();checkUrl()&&removeTagForPrint()}function getAttributes(a){var b={};$.each(a[0].attributes,function(a,d){b[d.name]=d.value});return b}
function replaceContentClassName(){var a=document.getElementsByClassName("content"),a=[].slice.call(a);a.forEach(function(a){a.className="contentPrint"});a=document.getElementsByClassName("breadcrumb");a=[].slice.call(a);a.forEach(function(a){a.className="breadcrumbPrint"});a=document.getElementsByClassName("print-page");a=[].slice.call(a);a.forEach(function(a){a.className="print-pagePrint"});if(null!=document.getElementsByClassName("button-expand")[0]||void 0!=document.getElementsByClassName("button-expand")[0])a=
document.getElementsByClassName("button-expand")[0].children,a=[].slice.call(a),a.forEach(function(a){a.className="opened"});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&(a=document.getElementsByClassName("frame-block print-sommaire"),a=[].slice.call(a),a.forEach(function(a){a.className="block-framePrint"}))}
function addTagForPrint(){var a=document.getElementsByClassName("date"),a=[].slice.call(a);a.forEach(function(a){var b=a.childElementCount;if(null!=a.closest("li.opened")){if(null!=a.closest("li.opened").querySelector(".version-article")||1<b||120<a.innerText.length+a.closest("li.opened").querySelector(".name-article").textContent.length)b='\x3cbr class\x3d"printable"\x3e'.repeat(b+1),a.outerHTML=a.outerHTML.concat(b)}else if(null!=a.closest("div").querySelector(".version-article")||1<b||120<a.innerText.length+
a.closest("div").querySelector(".name-article").textContent.length)b='\x3cbr class\x3d"printable"\x3e'.repeat(b+1),a.outerHTML=a.outerHTML.concat(b)})}
function restoreContentClassName(){var a=document.getElementsByClassName("contentPrint"),a=[].slice.call(a);a.forEach(function(a){a.className="content"});a=document.getElementsByClassName("breadcrumbPrint");a=[].slice.call(a);a.forEach(function(a){a.className="breadcrumb"});a=document.getElementsByClassName("print-pagePrint");a=[].slice.call(a);a.forEach(function(a){a.className="print-page"});if(null!=document.getElementsByClassName("button-expand")[0]||void 0!=document.getElementsByClassName("button-expand")[0])a=
document.getElementsByClassName("button-expand")[0].children,a=[].slice.call(a),a.forEach(function(a){a.className=""});-1<navigator.userAgent.toLowerCase().indexOf("firefox")&&(a=document.getElementsByClassName("block-framePrint"),a=[].slice.call(a),a.forEach(function(a){a.className="frame-block print-sommaire"}))}function removeTagForPrint(){var a=document.getElementsByClassName("printable"),a=[].slice.call(a);a.forEach(function(a){a.remove()})}"use strict";
function a11yClick(a){if("click"===a.type||"touch"===a.type)return!0;if("keypress"===a.type){if(a=a.charCode||a.keyCode,32===a||13===a)return!0}else return!1}"use strict";$(document).ready(function(){activeOpenMenu();initMainMenu();initMainMenuMobile()});
function initMainMenu(){var a=$(".menu-desktop .main-menu"),b=a.width(),c=function(){var b=a.find("li.menu-item.active-item ul.sub-menu.level-two");if(b.length){var c=$(window).width(),d=a.width();b.show();b.css("left",-(c-d)/2);b.width(c);b=b.height();$(".header-bottom").css("margin-top",b)}};c();var d=a.find("ul.level-one \x3e li.menu-item").not(":first");d.each(function(c,f){var h=$(f),k=function(c){b=a.width();c.addClass("hover");d.parent().children("ul.level-two").not(".active-item").hide();
c=c.find("ul.level-two");c.hasClass("active-item")||(c.show(),c.css("left",-($(window).width()-b)/2),c.width($(window).width()))};h.on("mouseenter",function(a){a=$(a.currentTarget);k(a)});h.children("a").on("focus",function(b){var c=$(this).closest("ul.level-one \x3e li.menu-item");a.find("ul.level-one \x3e li.menu-item.expanded.hover, ul.level-one \x3e li.menu-item.small-menu.expanded.hover").not(".active-item").each(function(){var a=$(this);c!=a&&n(a)});b=$(b.currentTarget).parent("li.menu-item");
k(b)});var n=function(a){var b=a.not(".active-item").find("ul.level-two");0!=b.length&&(d.parent().children("ul.level-two").not(b).hide(),g=setTimeout(function(){var c=!1,d=b.children("li.menu-item").children("a");d.each(function(a,b){$(b).is(":focus")&&(c=!0)});if(b.is(":hover"))b.on("mouseleave",function(c){a.removeClass("hover");b.hide()});else c?d.each(function(f,h){$(h).on("blur",function(f){c=!1;0!=$(h).parent().children("ul.level-three").length&&(c=!0);g=setTimeout(function(){d.each(function(a,
b){$(b).is(":focus")&&(c=!0)});c||(a.removeClass("hover"),b.hide())},10)})}):(a.removeClass("hover"),b.hide())},10))};h.on("mouseleave",function(a){a=$(a.currentTarget);n(a)});h.children("a").on("blur",function(a){a=$(a.currentTarget).parent("li.menu-item");n(a)});$(document).on("keyup",function(a){if(27==a.which){a=h.not(".active-item").find("ul.level-two");var b=h.filter(".active-item").find("ul.level-two").find("li.hover");h.removeClass("hover");a.hide();b.removeClass("hover")}})});var f=a.find("ul.level-two").children("li.menu-item");
f.each(function(a,b){a=$(b);a.on("mouseenter",function(a){$(a.currentTarget).addClass("hover")});a.children("a").on("focus",function(a){a=$(a.currentTarget).parent("li.menu-item");a.addClass("hover");f.not(a).removeClass("hover")});a.on("mouseleave",function(a){$(a.currentTarget).removeClass("hover")});a.children("a").on("blur",function(a){var b=$(a.currentTarget).parent("li.menu-item");if(0!=b.children("ul.level-three").length){var c=!1;g=setTimeout(function(){b.children("ul.level-three").children("li.menu-item").children("a").each(function(a,
b){$(b).is(":focus")&&(c=!0)});c||b.removeClass("hover")},10)}else b.removeClass("hover")})});var g=null;$(window).on("resize",function(){null!==g&&clearTimeout(g);g=setTimeout(function(){a.find(".menu-item.active-item a").mouseleave();c()},100)})}
function initMainMenuMobile(){var a=$(".button-burger"),b=$(".menu-block"),c=$(".menu-mobile .main-menu"),d=c.find(".menu-item.expanded \x3e a");a.on("click",function(a){$(".top-content .button-burger").hasClass("opened-menu")?(b.hide(),$(this).attr("aria-expanded","false"),$(this).removeClass("opened-menu")):(b.show(),$(this).addClass("opened-menu"),$(this).attr("aria-expanded","true"))});b.hide();$(".top-content .button-burger").attr("aria-expanded","false").removeClass("opened-menu");c.find(".menu-item.expanded \x3e a").attr("aria-expanded",
"false");d.on("click keypress",function(a){!0===a11yClick(a)&&(a.preventDefault(),"false"==$(this).attr("aria-expanded")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"))})}
function activeOpenMenu(){$("#filAriane").find("li:not(.home)").each(function(){var a=$(this).children("a")[0],b="";a?b=a.pathname+a.search:(a=$(this).children("strong[aria-current\x3d'page']")[0])&&(b=$(a).attr("data-ref"));b&&(b=$(".main-menu a[href$\x3d'"+b+"']"),0<b.length&&b.each(function(){if(-1<document.URL.indexOf("/cnil/id/CNILTEXT")){var a=document.getElementById("navigation").querySelector('[href\x3d"/contenu/menu/autour-de-la-loi"]'),b=document.getElementById("navigation").querySelector('[title^\x3d"Autorités"]');
null==a||a.parentElement.classList.contains("active-item")||(this.title+=" - actif",$(this).parent().addClass("active-item"),null==b||b.title.includes("actif")||(b.parentNode.classList.add("active-item"),b.title+=" - actif"))}else this.title+=" - actif",$(this).parent().addClass("active-item")}))})}"use strict";$(document).ready(function(){initComparison()});
function initComparison(){$("body").on("shown.bs.modal",function(){var a=$(".compare-content");0<a.length&&a.find("table").each(function(){var a=$(this);if(0==a.parent(".table-scroll").length){var c=$('\x3cdiv class\x3d"table-scroll"\x3e\x3c/div\x3e');c.insertAfter(a);a.appendTo(c)}})})}"use strict";
var DEFAULT_DATE_FORMAT_SEPARATOR="/",DEFAULT_DATE_FORMAT="dd"+DEFAULT_DATE_FORMAT_SEPARATOR+"mm"+DEFAULT_DATE_FORMAT_SEPARATOR+"yyyy",DEFAULT_YEAR_FORMAT="yyyy",DEFAULT_MONTH_FORMAT="mm"+DEFAULT_DATE_FORMAT_SEPARATOR+"yyyy",DEFAULT_DATE_RANGE_SEPARATOR=" \x3e ",DEFAULT_DATE_RANGE_SEPARATOR_TRIM=DEFAULT_DATE_RANGE_SEPARATOR.trim(),DATEPICKER_RESULT_TYPES=["UNIQUE","RANGE"],DEFAULT_DATEPICKER_LABEL="Choisir la date",DEFAULT_DATEPICKER_RANGE_LABEL="Choisir toute cette période",DEFAULT_DATEPICKER_TODAY_LABEL=
"Aujourd'hui";
$(document).ready(function(){initDatepickers();$("#datepicker-calendar-datepicker").find(".datepicker-grid").after('\x3cbutton class\x3d"datepicker-today-button" aria-label\x3d"version d’aujourd’hui" title\x3d"JJ/MM/AAAA" onclick\x3d"todayButton(\'datepicker\')"\x3e'+DEFAULT_DATEPICKER_TODAY_LABEL+"\x3c/button\x3e");$("#datepicker-calendar-datepicker2").find(".datepicker-grid").after('\x3cbutton class\x3d"datepicker-today-button" aria-label\x3d"version d’aujourd’hui" title\x3d"JJ/MM/AAAA" onclick\x3d"todayButton(\'datepicker2\')"\x3e'+DEFAULT_DATEPICKER_TODAY_LABEL+
"\x3c/button\x3e")});function initDatepickers(){$(".date-selector").each(function(a,b){instanciateDp(a,b)})}
function instanciateDp(a,b){var c=$(b).find(".input-date"),d=c.closest(".search-date");a={};a.resultType=DATEPICKER_RESULT_TYPES[0];$(b).hasClass("ds-unique")?a.resultType=DATEPICKER_RESULT_TYPES[0]:$(b).hasClass("ds-range")&&(a.resultType=DATEPICKER_RESULT_TYPES[1]);a.disabledDates=[];a.minDate=null;a.maxDate=null;a.buttonText=DEFAULT_DATEPICKER_LABEL;if($(b).data("disabled-dates")){var f=$(b).data("disabled-dates").split(" ");a.disabledDates=f}$(b).data("min-date")&&(a.minDate=$(b).data("min-date"));
$(b).data("max-date")&&(a.maxDate=$(b).data("max-date"));$(b).data("datepicker-label")&&(a.buttonText=$(b).data("datepicker-label"));instantiateDatepicker(c,a);if(0<c.closest(".search-date-range").length&&0<d.siblings(".search-date").length||0<c.closest("#cnil_search_refine_date_start").length||0<c.closest("#cnil_search_refine_date_end").length)addRangeButton($(b)),c.on("blur",function(a){var f=c.val();if(""===f||""!==f&&formValidators.date_multiple_formats.validationFunction(f,[DEFAULT_DATE_FORMAT,
DEFAULT_YEAR_FORMAT,DEFAULT_MONTH_FORMAT]))if(""!==f&&formValidators.date_year_format.validationFunction(f,[DEFAULT_YEAR_FORMAT]))a=getYearRange(a,f),setDateRange(a,$(b),c);else if(""!==f&&formValidators.date_month_format.validationFunction(f,[DEFAULT_MONTH_FORMAT]))f=f.split(DEFAULT_DATE_FORMAT_SEPARATOR),a=getMonthRange(a,f[1],f[0]),setDateRange(a,$(b),c);else if(""===f||""!==f&&formValidators.date_unique_format.validationFunction(f,[DEFAULT_DATE_FORMAT]))updateDateRange(d,f),changeDateRangeEvent(c.attr("id").replace("_start",
"").replace("_end",""))});d.find(".input-group-addon").on("focusout",function(){1==isCalendarOpen($(this),"ds-range")&&closeCalendar(c)});c.closest(".wrapper-datepicker").find(".input-group-addon").on("focusout",function(){1==isCalendarOpen($(this),"ds-unique")&&closeCalendar(c)})}function isCalendarOpen(a,b){$container=null;$container="ds-unique"==b?a.closest(".ds-unique"):a.closest(".search-date");a=!1;if(0<$container.find(".below").length||0<$container.find(".above").length)a=!0;return a}
function closeCalendar(a){$(document).on("keyup",function(b){9==b.which&&(a.select(),$(document).off("keyup"));b=$(document).find(".below").length;var c=$(document).find(".above").length;0==b&&0==c&&$(document).off("keyup")})}function todayButton(a){$("#"+a).datepicker("hide");$("#"+a).datepicker("setDate",new Date);a11yClick(event)&&navigationDate($("#"+a).val());9!==event.keyCode&&event.preventDefault()}
function instantiateDatepicker(a,b){var c=-1,d=-1;a.datepicker({theme:"",min:b.minDate,max:b.maxDate,datesDisabled:b.disabledDates,buttonLabel:b.buttonText,buttonTitle:b.buttonText,gainFocusOnConstruction:!1,onUpdate:function(f){if(b.resultType===DATEPICKER_RESULT_TYPES[1]){var g=a.datepicker("getDate");c=d;d=g;var h;-1===c&&(c=g);c===d?a.val(f):-1===d?(d=c,a.val(f)):(g=convertDateToString(new Date(Date.UTC(Math.min(c,d)))),h=convertDateToString(new Date(Date.UTC(Math.max(c,d)))),a.val(g+DEFAULT_DATE_RANGE_SEPARATOR+
h))}if(0<a.closest(".search-date-range").length||0<a.closest("#cnil_search_refine_date_start").length||0<a.closest("#cnil_search_refine_date_end").length)g=a.closest(".search-date"),updateDateRange(g,f);f=a.attr("id").replace("_start","").replace("_end","");changeDateRangeEvent(f)}})}
function addRangeButton(a){var b=a.find(".input-date"),c=a.find(".datepicker-calendar"),d=$('\x3cbutton type\x3d"button" class\x3d"btn datepicker-range-button"\x3e'+DEFAULT_DATEPICKER_RANGE_LABEL+"\x3c/button\x3e");c.append(d);a.on("ab.datepicker.opening",function(){setRangeButtonTitle(d,b)});c.find('[class^\x3d"datepicker-"]').on("click",function(){setRangeButtonTitle(d,b)});d.on("click",function(){var c=getDatepickerRange(b);setDateRange(c,a,b)&&b.datepicker("hide")})}
function setRangeButtonTitle(a,b){b=getDatepickerRange(b);a.attr("title",DEFAULT_DATEPICKER_RANGE_LABEL+" : du "+b.start+" au "+b.end)}function changeDateRangeEvent(a){var b=$("#"+a+"_start"),c=$("#"+a+"_end");b.length&&c.length&&(b=b.val(),0<c.val().length&&(b+=DEFAULT_DATE_RANGE_SEPARATOR+c.val()),$("#"+a).val(b))}
function setDateRange(a,b,c){b=b.closest(".search-date");var d=b.prevAll(".search-date").eq(0),f=b.nextAll(".search-date").eq(0);if(0<d.length||0<f.length){var g,h,k;0<d.length&&(k=d,h=a.start,g=a.end);0<f.length&&(g=a.start,k=f,h=a.end);c.val(g);k.find(".date-selector .input-date").val(h);resetDatepickerOptions(b);resetDatepickerOptions(k);updateDateRange(b,g);updateDateRange(k,h);a=c.attr("id").replace("_start","").replace("_end","");changeDateRangeEvent(a);return!0}}
function updateDateRange(a,b){var c=a.prevAll(".search-date").eq(0),d=a.nextAll(".search-date").eq(0),f=a.find("input"),g=!1;""===f.val()&&(g=!0);if(0<c.length||0<d.length){var h,k;0<c.length&&(h="max",k=c.find("input"),updateOtherDate(f,c,b,h,g));0<d.length&&(h="min",k=d.find("input"),updateOtherDate(f,d,b,h,g));!0===g&&null!=k&&""===k.val()&&resetDatepickerOptions(a)}}
function updateOtherDate(a,b,c,d,f){var g=b.find("input");a=a.datepicker("getDate");var h=d+"-date",k={};if(b=b.find(".date-selector").data(h))if(b=getDateFromString(b),!0===f)k[d]=b;else{if("min"===d&&a>b||"max"===d&&a<b)k[d]=a}else k[d]=!0===f?null:a;for(var l in k)k.hasOwnProperty(l)&&g.datepicker(l,k[l]);!1===f&&(""!==g.val()?(f=getDateFromString(g.val()),("min"===d&&a>f||"max"===d&&a<f)&&g.val(c)):g.val(c))}
function resetDatepickerOptions(a){var b=a.find(".input-date"),c=null,d=null;a.find(".date-selector").data("min-date")&&(c=getDateFromString(a.find(".date-selector").data("min-date")));a.find(".date-selector").data("max-date")&&(d=getDateFromString(a.find(".date-selector").data("max-date")));b.datepicker("min",c);b.datepicker("max",d)}function clearDatepickerOption(a){a=a.find(".input-date");a.datepicker("min","null");a.datepicker("max","null")}
function getDatepickerRange(a){var b=a.data("ab.datepicker");a=a.closest(".date-selector").find(".datepicker-calendar");var c=new Date,d=new Date;0===b.gridType?(c=new Date(Date.UTC(b.year,b.month,1)),d=new Date(Date.UTC(b.year,b.month+1,0))):1===b.gridType?(c=new Date(Date.UTC(b.year,0,1)),d=new Date(Date.UTC(b.year+1,0,0))):2===b.gridType&&(b=parseInt(a.find(".datepicker-grid .year").first().text(),10),a=parseInt(a.find(".datepicker-grid .year").last().text(),10),c=new Date(Date.UTC(b,0,1)),d=new Date(Date.UTC(a+
1,0,0)));return{start:convertDateToString(c),end:convertDateToString(d)}}function getYearRange(a,b){b=parseInt(b,10);a=new Date(Date.UTC(b,0,1));b=new Date(Date.UTC(b+1,0,0));return{start:convertDateToString(a),end:convertDateToString(b)}}function getMonthRange(a,b,c){b=parseInt(b,10);c=parseInt(c,10)-1;a=new Date(Date.UTC(b,c,1));b=new Date(Date.UTC(b,c+1,0));return{start:convertDateToString(a),end:convertDateToString(b)}}
function getDateFromString(a){var b=a.split(DEFAULT_DATE_FORMAT_SEPARATOR);a=parseInt(b[2],10);var c=parseInt(b[1],10)-1,b=parseInt(b[0],10);return new Date(Date.UTC(a,c,b))}function convertDateToString(a){var b=a.getUTCFullYear(),c=a.getUTCMonth()+1;a=a.getUTCDate();10>c&&(c="0"+c);10>a&&(a="0"+a);return a+DEFAULT_DATE_FORMAT_SEPARATOR+c+DEFAULT_DATE_FORMAT_SEPARATOR+b}
$.fn.datepicker.Constructor.prototype.populateYearsCalendar=function(){this.$calendar.find(".datepicker-bn-prev-label").html(this.options.prevYearButtonLabel);this.$calendar.find(".datepicker-bn-next-label").html(this.options.nextYearButtonLabel);this.hideObject(this.$fastprev);this.hideObject(this.$fastnext);null!=this.options.min&&this.year-1<this.options.min.getFullYear()?(this.$prev.attr("title",""),this.$prev.addClass("disabled"),this.$prev.removeClass("enabled")):(this.$prev.attr("title",this.options.prevYearButtonLabel),
this.$prev.addClass("enabled"),this.$prev.removeClass("disabled"));this.$monthObj.attr("title",this.options.changeRangeButtonLabel);null!=this.options.max&&this.year+20>this.options.max.getFullYear()?(this.$next.attr("title",""),this.$next.addClass("disabled"),this.$next.removeClass("enabled")):(this.$next.attr("title",this.options.nextYearButtonLabel),this.$next.addClass("enabled"),this.$next.removeClass("disabled"));var a=10*Math.floor(this.year/10),b=a+19,c=1,d=this.$grid.find("tbody");this.$monthObj.html(a+
"-"+b);this.hideObject(this.$grid.find("thead"));d.empty();$("#datepicker-err-msg-"+this.id).empty();for(var f='\t\x3ctr id\x3d"row0-'+this.id+'" role\x3d"row"\x3e\n',g=a;g<=b;g++){var f=g==this.year?f+('\t\t\x3ctd id\x3d"cell'+(g-a+1)+"-"+this.id+'" class\x3d"year curYear selectable"'):null!=this.options.min&&g<this.options.min.getFullYear()?f+('\t\t\x3ctd id\x3d"cell'+(g-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):null!=this.options.max&&g>this.options.max.getFullYear()?f+('\t\t\x3ctd id\x3d"cell'+
(g-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):this.options.isYearDisabled&&this.options.isYearDisabled(g)?f+('\t\t\x3ctd id\x3d"cell'+(g-a+1)+"-"+this.id+'" class\x3d"year unselectable"'):f+('\t\t\x3ctd id\x3d"cell'+(g-a+1)+"-"+this.id+'" class\x3d"year selectable"'),f=f+(' data-value\x3d"'+g+'"'),f=f+(' title\x3d"'+g+'"'),f=f+(' role\x3d"gridcell" tabindex\x3d"-1" aria-selected\x3d"false"\x3e'+g),f=f+"\x3c/td\x3e",h=g-a;if(4==h||9==h||14==h)f+='\t\x3c/tr\x3e\n\t\x3ctr id\x3d"row'+c+"-"+this.id+
'" role\x3d"row"\x3e\n',c++}d.append(f+"\t\x3c/tr\x3e");this.gridType=2};$.fn.datepicker.Constructor.prototype.showYearsOfPrevRange=function(a){if(null!=this.options.min&&this.year-1<this.options.min.getFullYear())return!1;this.year-=20;this.populateYearsCalendar();null!=a&&(a="cell"+(20-a)+"-"+this.id,this.$grid.attr("aria-activedescendant",a),this.selectGridCell(a));return!0};
function blurDate(a,b,c){a=$(a);b=$(b);var d=a.closest(".search-date"),f=a.val();if(""===f||""!==f&&formValidators.date_multiple_formats.validationFunction(f,[DEFAULT_DATE_FORMAT,DEFAULT_YEAR_FORMAT,DEFAULT_MONTH_FORMAT]))""!==f&&formValidators.date_year_format.validationFunction(f,[DEFAULT_YEAR_FORMAT])?(c=getYearRange(c,f),setDateRange(c,b,a)):""!==f&&formValidators.date_month_format.validationFunction(f,[DEFAULT_MONTH_FORMAT])?(d=f.split(DEFAULT_DATE_FORMAT_SEPARATOR),c=getMonthRange(c,d[1],d[0]),
setDateRange(c,b,a)):(""===f||""!==f&&formValidators.date_unique_format.validationFunction(f,[DEFAULT_DATE_FORMAT]))&&updateDateRange(d,f)}"use strict";var monthNames=new Map([[" janvier ","/01/"],[" février ","/02/"],[" mars ","/03/"],[" avril ","/04/"],[" mai ","/05/"],[" juin ","/06/"],[" juillet ","/07/"],[" août ","/08/"],[" septembre ","/09/"],[" octobre ","/10/"],[" novembre ","/11/"],[" décembre ","/12/"]]);$(document).ready(function(){initDateSelects()});
function handleMediaChange(a){var b=$("select.print-vigor-title-selector option");if(b)for(var c={i:0};c.i<b.length;c={i:c.i},c.i++)a.matches?monthNames.forEach(function(a){return function(c,d){b[a.i].text=b[a.i].text.replaceAll(d,c)}}(c)):monthNames.forEach(function(a){return function(c,d){b[a.i].text=b[a.i].text.replaceAll(c,d)}}(c))}
function initDateSelects(){var a=window.matchMedia("(max-width: 47.938em)");a.addListener(handleMediaChange);handleMediaChange(a);$(".date-select").each(function(){var a=$(this),c=a.find(".form-select").first(),d=a.find(".form-select").last();c.on("change",function(a){a=c.find("option:selected").index();var b=d.find("option:selected"),f=b.index(),k=d.find("option").eq(a);if(f>a||0===f)b.prop("selected",!1),k.prop("selected",!0);k.nextAll("option").prop("disabled",!0);k.prop("disabled",!1);k.prevAll("option:not(:empty)").prop("disabled",
!1);$("#endDateDefaultOption").prop("disabled",!0);d.prop("disabled",!1)})})}"use strict";$(document).ready(function(){initRadioSwitch()});
function initRadioSwitch(){$("body").on("click",".form-radio-switch label",function(a){a.preventDefault();var b=$(this);a=b.closest(".form-radio-switch");b=b.closest(".form-radio-switch").find("input");!0!==b.prop("disabled")&&(!0===b.prop("checked")?(b.prop("checked",!1),a.siblings(".form-radio-switch").first().find("input").prop("checked",!0)):b.prop("checked",!0))})}"use strict";$(document).ready(function(){initCollapsible()});
function initCollapsible(){$("body").on("click",".js-collapsible-cta",function(a){a=$(this);var b=a.closest(".js-collapsible");"false"===a.attr("aria-expanded")?openCollapsible(b):closeCollapsible(b)});$("body").on("mouseenter",".js-collapsible-cta",function(a){a=$(this);var b=a.closest(".js-collapsible"),c=b.find(".js-collapsible-cta").first().attr("class").includes("collapse_mini_bar"),d=b.find(".js-collapsible-cta").first().attr("id");void 0==d||"false"!==a.attr("aria-expanded")||c||d.includes("select-refine-")||
d.includes("search-select-and-or-")||d.includes("search-select-filter-field-")||openCollapsible(b)});$("body").on("mouseleave",".js-collapsible",function(a){var b=$(this),c=b.find(".js-collapsible-cta"),d=b.offset(),f=c.attr("class").includes("collapse_mini_bar"),g=c.attr("id"),h=Math.trunc(d.left+b.width());void 0==g||"true"!==c.attr("aria-expanded")||f||g.includes("select-refine-")||g.includes("search-select-and-or-")||g.includes("search-select-filter-field-")||!(d.top>a.pageY||d.left>a.pageX||
h<=a.pageX)||closeCollapsible(b)});$("body").on("mouseleave",".js-collapsible-content",function(a){a=$(this).closest(".js-collapsible");var b=a.find(".js-collapsible-cta").first().attr("class").includes("collapse_mini_bar"),c=a.find(".js-collapsible-cta").first().attr("id");void 0==c||b||b||c.includes("select-refine-")||c.includes("search-select-and-or-")||c.includes("search-select-filter-field-")||closeCollapsible(a)});$("body").on("click focusin",function(a){a=$(a.target).parents(".js-collapsible");
$(".js-collapsible.is-expanded").not(a).each(function(){var a=$(this);"true"===a.attr("data-collapsible-close")&&closeCollapsible(a)})});$("body").on("keypress",".js-collapsible-content",function(a){var b=$(a.target).closest(".js-collapsible"),c=b.find(".js-collapsible-cta").first();27===(a.charCode||a.keyCode)&&(closeCollapsible(b),focusTarget(c))})}
function openCollapsible(a){var b=a.find(".js-collapsible-cta").first(),c=$("#"+b.attr("aria-controls"));b.attr("aria-expanded","true");a.addClass("is-expanded");c.attr("aria-hidden","false");a.trigger("collapsible-open")}function closeCollapsible(a){var b=a.find(".js-collapsible-cta").first(),c=$("#"+b.attr("aria-controls"));b.attr("aria-expanded","false");a.removeClass("is-expanded");c.attr("aria-hidden","true");a.trigger("collapsible-close")}
function toogleEltById(a){a=document.getElementById(a);a.style.display="none"===a.style.display?"block":"none"}"use strict";
$(document).ready(function(){initSearchAutocomplete();initSiretSearchAutocomplete();initSearchSelects();initFilterAutocomplete();initSearchProximity();initSearchCriterion();initSearchFacetSubmit();initSearchTagFilter();loadFieldForResultSearch();initDemoOnboarding();initClickAndArrowEventOnSelect();addDisabledAttribute();initPreciseSearchButton();toutCocherToutDecocher();$(".one-rule").on("change",function(a){$("#all-info-content").remove();"all"==$("input[name\x3d'tab_selection']:checked").val()&&
document.getElementsByClassName("one-rule")[0]?($(".one-rule").css("margin-bottom","0px"),document.getElementsByClassName("one-rule")[0].insertAdjacentHTML("afterend",'\x3cdiv id\x3d"all-info-content" class\x3d"info-bulle"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"/resources/images/fr-icon-info-line.svg" alt\x3d"Information"\x3e\x3c/span\x3e\x3cdiv id\x3d"courriel-error" class\x3d"info-content" title\x3d"Information : sélectionnez un fonds documentaire pour afficher tous les filtres de recherche qui lui correspondent"\x3e\x3cstrong\x3eSélectionnez un fonds documentaire pour afficher tous les filtres de recherche qui lui correspondent\x3c/strong\x3e\x3c/div\x3e\x3c/div\x3e'),
$(".stickyBarFormPreference").css("position","static"),$(".stickyBarFormPreference").css("bottom","200px")):($(".one-rule").css("margin-bottom","30px"),$(".stickyBarFormPreference").css("position","fixed"),$(".stickyBarFormPreference").css("bottom","30px"))});$(".page-advanced-search-form").on("click touch keypress keyup",function(a){if("text-input"==a.target.className||"form-submit search launch-search-btn"==a.target.className||"text"==a.target.className||"icon"==a.target.className){var b=$(".text-input");
if(1==a.which||13==a.which)for(a=$jscomp.makeIterator(b),b=a.next();!b.done;b=a.next())if(b=b.value,0!==b.value.length){var d=b.parentElement.parentElement.className;validateQuoteMark(b.value,b.id,d,"launch-search-btn-all")}else applyOrHideQuoteMarkErrorMsg(!1,b.id,d,"launch-search-btn-all");else applyOrHideQuoteMarkErrorMsg(!1,a.target.id,a.target.parentElement.parentElement.className,"launch-search-btn-all")}});$(".text-input, .form-submit").on("click touch keypress keyup",function(a){if(0==$(".page-advanced-search-form").length){var b=
a.currentTarget;if("submitPreciseSearch"==b.id||"reload-search-button-fond"==b.id)b=b.previousSibling.querySelector(".search-input input"),"*"==b.value&&(b.value="");var d=b.value;0===d.length||1!=a.which&&13!=a.which?"query"==b.id?applyOrHideQuoteMarkErrorMsg(!1,"query","search-base","submitPreciseSearch"):"query-result"==b.id&&applyOrHideQuoteMarkErrorMsg(!1,"query-result","search-input","reload-search-button-fond"):"query"==b.id?validateQuoteMark(d,"query","search-base","submitPreciseSearch"):
"query-result"==b.id&&validateQuoteMark(d,"query-result","search-input","reload-search-button-fond")}});$("#query-result").on("keypress",function(a){if(13==a.which){var b=validateTroncatureSearchPreciseQueryResult(""),d=isValidQuoteMark(a.currentTarget.value);b&&d&&(removeDisabledAttribute(),b=window.location.pathname.split("/")[2],d=document.getElementById("search-select-filter-field-00").value,("lawarticledecree"==d?"lois":d)==b?facetteSoumission("/search"):generatePreciseQueryFonds(),a.preventDefault());
"*"==$(this).val()&&$(this).val("")}});$("#query").on("keypress",function(a){13==a.which&&(validateTroncatureSearchPrecise("","")||a.preventDefault())});$("#facetteSiret").on("keypress",function(a){13==a.which&&formFacetteSoumission($("#form_acco"))});$("#fonds").on("change",function(a){initPreciseSearchButton()});$("#reload-search-button").on("click touch keypress",function(a){if(a11yClick(a)){var b=validateTroncatureSearchPreciseQueryResult("");a=isValidQuoteMark(a.currentTarget.previousSibling.querySelector(".search-input input").value);
b&&a&&(removeDisabledAttribute(),facetteSoumission("/search"))}});$("#reload-search-button-fond").on("click touch keypress",function(a){if(a11yClick(a)){var b=validateTroncatureSearchPreciseQueryResult(""),d=isValidQuoteMark(a.currentTarget.previousSibling.querySelector(".search-input input").value);b&&d&&(removeDisabledAttribute(),b=window.location.pathname.split("/")[2],a=a.currentTarget.previousSibling.querySelector("#search-select-filter-field-00").value,("lawarticledecree"==a?"lois":a)==b?facetteSoumission("/search"):
generatePreciseQueryFonds())}});$("#cassationTypePublicationBulletin").on("change",function(){initJurisBulletin()});$("#cassationTypePublicationBulletin").find(".search-reset-cta").on("click",function(){$("#searchJuriAnneeBulletinFieldset").hide();$("#searchJuriAnneeBulletin").val("");$("#searchJuriNumeroBulletinFieldset").hide();$("#searchJuriNumeroBulletin").val("")});$("#searchJuriNumeroBulletin").on("keypress",function(a){a11yClick(a)&&formFacetteSoumission(this)});$("#searchJuriAnneeBulletin").on("keypress",
function(a){a11yClick(a)&&formFacetteSoumission(this)});initJurisBulletin();$(".search-resume input[name\x3d'searchField']").on("click touch keypress",function(a){a11yClick(a)&&(a=$(this).filter(":checked").data("default-rule"),0<a.length&&$("input[name\x3d'searchType'][type\x3d'hidden']").val(a))});var a=!1;$("#form_sommaire_jo .search-filter-criterion fieldset").each(function(){if(!1===a){var b=$(this).attr("id");0<getUrlParameter(b).length&&(a=!0,facetteJorfSoumission(null))}});initLinkSeeAllArticles();
$(".form-check-label").keydown(function(a){var b=!!document.documentMode;32==a.keyCode&&(a.preventDefault(),a=$(this).closest(".search-select"),$(this).parent().find("input").click(),b&&$(a).find("button").click())})});var myFacette=null,myFacetteNotReload=null;
function initSearchAutocomplete(){var a=!1,b="",c="",d={url:function(a){return"/suggest/search?"+$("#searchForm").serialize()},getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,minCharNumber:3,template:{type:"custom",method:function(a,b){return'\x3cspan class\x3d"autocomplete-item '+b.className+'"\x3e\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e'+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:11,onKeyEnterEvent:function(){if(a){var d=$("#query").getSelectedItemData().value;
c=$('#searchForm .form-check-input[name\x3d"tab_selection"]').serialize();d=d.replace("{endpoint}",getEndpoint(c));window.location.replace(d)}else $("#query").val(encodeURIComponent(b)),$("#searchForm").submit()},onClickEvent:function(){var a=$("#query").getSelectedItemData().value;-1!==a.substring("{endpoint}")&&(c=$('#searchForm .form-check-input[name\x3d"tab_selection"]').serialize(),a=a.replace("{endpoint}",getEndpoint(c)));window.location.replace(a)},onSelectItemEvent:function(){a=!0},onHideListEvent:function(){a=
!1}},ajaxSettings:{error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des suggestions")}}};window.matchMedia("screen and (min-width: 75em)").matches&&$("#query").easyAutocomplete(d);$("#query").keyup(function(){b=$("#query").val()});$("#query-result").keyup(function(){b=$("#query-result").val()});mobileToggleAutocomplete(d)}
function initSiretSearchAutocomplete(){var a=!1,b="";$("#facetteSiret").easyAutocomplete({url:function(a){return"/searchAcco/siret?"+$("#facetteSiret").serialize()},minCharNumber:3,getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,template:{type:"custom",method:function(a,b){return"\x3cspan\x3e"+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:10,onKeyEnterEvent:function(){if(a){var c=$("#facetteSiret").getSelectedItemData().value;$("#facetteSiret").val(c)}else $("#facetteSiret").val(encodeURIComponent(b));
formFacetteSoumission($("#form_acco"))},onClickEvent:function(){var a=$("#facetteSiret").getSelectedItemData().value;$("#facetteSiret").val(a);formFacetteSoumission($("#form_acco"))},onSelectItemEvent:function(){$("#facetteSiret").val($("#facetteSiret").getSelectedItemData().value);a=!0},onHideListEvent:function(){a=!1}},ajaxSettings:{error:function(a,b,f){}}});$("#facetteSiret").keyup(function(){b=$("#facetteSiret").val()})}
function errorCallBack(a,b,c,d){null!=a&&0<a.readyState&&($("#search-precise-facet").empty(),$("#search-precise-facet").append("\x3cp style\x3d'color:red;'\x3e\x3cstrong\x3e"+d+"\x3c/strong\x3e\x3c/p\x3e"))}
function initSearchSelects(){$("body").on("collapsible-open",".search-select",function(){var a=$(this),b=a.find(".arrow"),f=a.find(".search-select-content"),g=a.closest(".search-base, .one-rule"),h=a.position().left,k=0-h,h=h+a.innerWidth()/2,l=g.innerWidth();a.is(".type-word")||a.is(".type-and-or")||0==g.length||0<g.closest(".search-resume").length?h=a.innerWidth()/2:f.css({width:l+"px",left:k+"px"});b.css({left:h+"px"})});updateSearchBlock($('#searchForm input[name\x3d"tab_selection"][checked\x3d"checked"]').val(),
"#searchForm");$(".search-select").each(function(){changeSearchSelectLabel($(this))});var a=!1,b=!1;$("body").on("change","#searchForm .search-select .form-check-input",function(){var c=$(this),d=c.closest(".search-select"),f=c.closest(".filter-autocomplete");f.length&&(myFacetteNotReload=myFacette=f,majFacetHTML(f,!1),myFacette=null);b=0<d.find("#searchField-control").length;a&&b||changeSearchSelectLabel(d);a=0<d.find("#search-select-filter-content").length;"tab_selection"===c.attr("name")&&(updateSearchBlock(c.val(),
"#searchForm"),$("#search-select-tip-content").attr("aria-hidden",!1));"tab_selection"!==document.activeElement.getAttribute("name")&&$("#search-select-tip-content").attr("aria-hidden",!0)});$("body").on("change",".search-resume .search-select .form-check-input",function(){var a=$(this).closest(".search-select");changeSearchSelectLabel(a)})}
function changeSearchSelectLabel(a){var b=[],c="",d="",f="",g=a.find(".search-select-cta");a.find(".form-check-input").each(function(a,c){$(c).is(":checked")&&(a=$(c).next("label.form-check-label").text().trim(),b.push(a),f=$(c).val(),(c=$(c).attr("data-icon"))&&(d=c))});c=0<b.length?b.join(", "):g.attr("data-text");0<a.find(".form-check-input").length&&(g.find(".text").text(c),g.attr("data-simpletooltip-text")!==c?a.find("span.js-simpletooltip[role\x3d'tooltip']").text(g.attr("data-simpletooltip-text")+
" : "+c):a.find("span.js-simpletooltip[role\x3d'tooltip']").text(c),g.attr("data-icon",d),g.val(f))}function getEndpoint(a){return a.split("\x26")[0].split("\x3d")[1].replace("lawarticledecree","lois").replace("cetat%7Cconstit%7Cjuri","constit")}function getUrlParameter(a,b){if(void 0===b||0>=b.length)b=window.location.search;return unescape(b.replace(new RegExp("^(?:.*[\x26\\?]"+escape(a).replace(/[\.\+\*]/g,"\\$\x26")+"(?:\\\x3d([^\x26]*))?)?.*$","i"),"$1"))}
function updateSearchBlock(a,b){var c=getConfigFromBaseSelected(a),d=[],f=$(b).find("#search-precise-facet");if(null!=c){$("#searchForm").attr("action",c.url);d=c.targets.split(",");$(b).find("input.radio-target").each(function(){showHideTargetAccordingToBase(this,d,c)});var g=!1,h=!1,k=!1,l;$(b).find(".search-select").each(function(){if(h=0<$(this).find("#searchField-control").length)l=$(this).find("#searchField-control").val(),$(this).find(".form-check-input").each(function(a,b){$(b).val()!==l||
$(b).is(":disabled")||(k=!0)});g&&h&&k?$("#searchField-input-"+l).click():changeSearchSelectLabel($(this));g=0<$(this).find("#search-select-filter-content").length})}0<f.length&&updateFacet(a)}function showHideTargetAccordingToBase(a,b,c){0>$.inArray(a.value,b)?(a.disabled=!0,$(a).parent().hide(),$(a).parent().attr("aria-hidden","true")):(a.disabled=!1,a.value===c.defaultTarget&&(a.checked=!0,$(a).trigger("change")),$(a).parent().show(),$(a).parent().attr("aria-hidden","false"))}
function getConfigFromBaseSelected(a){var b=null;if(void 0===a||0>=a.length)a="all";if("undefined"!==typeof searchConfigs&&0<searchConfigs.length)for(var c=0;c<searchConfigs.length;c++)if(searchConfigs[c].value===a){b=searchConfigs[c];break}return b}function strUcFirst(a){return(a+"").charAt(0).toUpperCase()+a.substr(1)}
function getResultConfigFromBaseSelected(a){var b=null;if(void 0===a||0>=a.length)a="all";if("undefined"!==typeof resultSearchConfigs&&0<resultSearchConfigs.length)for(var c=0;c<resultSearchConfigs.length;c++)if(resultSearchConfigs[c].value===a){b=resultSearchConfigs[c];break}return b}
function updateFacet(a){a=getConfigFromBaseSelected(a);null!=a&&$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),d=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(d,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/searchbase/facets/"+a.base+"/",type:"GET",dataType:"html",success:function(a,c){$("#search-precise-facet").empty();$("#search-precise-facet").append(a);$("#search-precise-facet").find(".date-selector").each(function(a,
b){instanciateDp(a,b)});$("#search-precise-facet").find(".openClose-options").each(function(){$(this).on("click keypress touch",function(a){openCloseLink(a,$(this))})});$(".search-reset-cta").on("click keypress touch",function(a){if(a11yClick(a)){resetInput(this);var b=$(this).closest("form").attr("id"),c=$(this).closest(".search-reset").siblings(".filter-autocomplete");"true"===c.attr("data-facette")?(removeDisabledAttribute(),myFacetteNotReload=myFacette=c,"form_sommaire_jo"===b?facetteJorfSoumission(null):
facetteSoumission(c.attr("data-url")),reinitJsonFacet(c),addDisabledAttribute()):("form_sommaire_jo"===b?facetteJorfSoumission(null):formFacetteSoumission(this),c.hasClass("filter-autocomplete")&&(reinitJsonFacet(c),b=c.closest(".search-select"),changeSearchSelectLabel(b)),a.preventDefault());disCheckedBtnAllOfFacet(c);"/search/all"===window.location.pathname&&$(".search-resume-modify-precise").hide()}});$("#search-precise-facet").find(".filter-autocomplete").each(function(){var a=$(this);instantiateFilterAutocomplete(a)});
$(".js-simple-tooltip").each(function(){accessibleSimpleTooltipAria.apply(this)});$("#search-precise-facet").find(".search-select").each(function(){changeSearchSelectLabel($(this))})},error:function(a,c,d){errorCallBack(a,c,d,"Erreur de chargement des facettes")}})}
function reinitJsonFacet(a){for(var b=a.attr("data-autocomplete"),b=JSON.parse(b),c=0;c<b.length;c++)if(b[c].checked="",0<b[c].childs.length){b[c].checked="";for(var d=0;d<b[c].childs.length;d++)b[c].childs[d].checked=""}a.attr("data-autocomplete",JSON.stringify(b));majFacetHTML(a,!1,"resetAll")}
function checkAllJsonFacet(a){for(var b=a.attr("data-autocomplete"),b=JSON.parse(b),c=0;c<b.length;c++)"0"!=b[c].nb&&(b[c].checked="checked");a.attr("data-autocomplete",JSON.stringify(b));majFacetHTML(a,!1)}function initFilterAutocomplete(){$(".filter-autocomplete").each(function(){var a=$(this);instantiateFilterAutocomplete(a)})}
function instantiateFilterAutocomplete(a){var b=a.find(".form-control"),c=a.find(".filter-autocomplete-content"),d=a.attr("data-url"),f=[],g=a.attr("data-autocomplete"),f=JSON.parse(g);b.on("keyup",function(){a.attr("data-facette")&&(myFacetteNotReload=myFacette=a);majFacetHTML(a,!1);myFacette=null});a.attr("data-facette")&&(myFacette=a);majFacetHTML(a,!0);myFacette=null;$("body").on("change",".filter-autocomplete .form-check-input",function(){setChangeHandler(this,a,f)});c.on("keypress",'.form-check-label[role\x3d"button"]',
function(a){if(a11yClick(a)){var b=$(this).prev();b.prop("checked",function(){return!b.prop("checked")});b.trigger("change");a.preventDefault()}});c.off("change",".form-check-input.displayNone");c.on("change",".form-check-input.displayNone",function(b){b=$(this);a.attr("data-facette")&&(myFacetteNotReload=myFacette=a);0<$("#form_sommaire_jo").length?(majFacetHTML(a,!1),facetteJorfSoumission(b)):(removeDisabledAttribute(),majFacetHTML(a,!1),facetteSoumission(d));disCheckedBtnAllOfFacet(a);myFacette=
null})}
function addChilds(a,b,c,d,f,g,h,k){var l="",l=l+"\x3cfieldset ";null==c&&(l+="class\x3d'form-check-collapsible-content js-collapsible-content'");l=!0===k?l+" aria-hidden\x3d'false' ":l+" aria-hidden\x3d'true' ";l+="id\x3d'"+f+"'\x3e \x3clegend class\x3d'hidden-element'\x3e"+d+"\x3c/legend\x3e";$.each(a,function(a,d){var f="form-check";"radio"==d.type&&(f="form-radio");a=d.label;null!==c&&(a=a.replace(c,"\x3cmark\x3e$\x26\x3c/mark\x3e"));var m="";null!=d.childs&&0<d.childs.length&&(m="form-check-collapsible js-collapsible");var r=
"",n="";g&&(r="displayNone",0<=d.nb&&(a+=" \x3cem\x3e("+d.nb+")\x3c/em\x3e"),1>d.nb&&"true"!==h||0==d.nb&&"true"===h)&&(n="disabled",f+=" disabled-check",0==d.nb&&(d.checked=""));l+='\x3cdiv class\x3d"'+f+" "+m+'"\x3e';l+='\x3cinput class\x3d"form-check-input '+r+'" id\x3d"'+d.id+'" type\x3d"'+d.type+'" name\x3d"'+b+'" value\x3d"'+d.value+'" '+d.checked+" "+n+"\x3e";l+='\x3clabel class\x3d"form-check-label"';g&&(f=!1,"checked"===d.checked&&(f=!0),l+='role\x3d"button" tabindex\x3d"0" aria-pressed\x3d"'+
f+'" ');l+=' for\x3d"'+d.id+'"\x3e'+a+"\x3c/div\x3e";null!=d.childs&&0<d.childs.length&&(a="fieldset-"+d.id,l+='\x3cbutton type\x3d"button" class\x3d"form-check-collapsible-cta js-collapsible-cta" aria-controls\x3d"'+a+'" aria-expanded\x3d"false"\x3e',l+='\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e',l+='\x3cspan class\x3d"hidden-element"\x3eAfficher/masquer les sous-éléments\x3c/span\x3e',l+="\x3c/button\x3e",l+=addChilds(d.childs,d.value,c,d.label,a,g,h,k));l+="\x3c/label\x3e"});
return l+="\x3c/fieldset\x3e"}function removeDisabledAttribute(){$('.filter-autocomplete[data-facette\x3d"true"]').each(function(){null!=myFacetteNotReload&&myFacetteNotReload.attr("data-name")===$(this).attr("data-name")||$(this).find(".form-check-input:disabled").each(function(){$(this).prop("disabled",!1)})})}function addDisabledAttribute(){$(".disabled-check").each(function(){$(this).find(".form-check-input").prop("disabled","disabled")})}
function majFacetHTML(a,b,c){var d=[],d=[],f=[],d=[],g=[],h=a.find(".form-control"),k=a.find(".filter-autocomplete-content"),l=a.attr("data-name"),d=a.attr("data-autocomplete"),m=a.attr("data-facette"),n=a.attr("data-liste"),h=h.val(),p=null;h&&(p=new RegExp(createDiacriticsRegExp(h,!1),"i"));d=JSON.parse(d);f=jQuery.grep(d,function(d,f){0<d.childs.length&&"true"===a.find("button[aria-controls\x3d'fieldset-"+d.id+"']").attr("aria-expanded")&&g.push(d.id);if(!m||null!=myFacette&&myFacette.attr("data-name")===
a.attr("data-name")){if(b&&"checked"===d.checked||a.find("#"+d.id).is(":checked"))return b||"resetAll"===c||(d.checked="checked"),0<d.childs.length&&$.grep(d.childs,function(d,f){if(b&&"checked"===d.checked||a.find("#"+d.id).is(":checked"))return b||"resetAll"===c||(d.checked="checked"),!0;b||(d.checked="");return!1}),!0;b||(d.checked="");return 0<d.childs.length&&0<$.grep(d.childs,function(c,d){if(b&&"checked"===c.checked||a.find("#"+c.id).is(":checked"))return b||(c.checked="checked"),!0;b||(c.checked=
"");return!1}).length?!0:!1}});d=$.grep(d,function(a,b){return null!=p?null!==a.label.match(p)?!0:0<a.childs.length&&0<$.grep(a.childs,function(a,b){return null!==a.label.match(p)?!0:!1}).length?!0:!1:!0});d=d.filter(function(a){return 0<=$.inArray(a,f)?!1:!0});d=f.concat(d);k.html("");$.each(d,function(b,c){var d="",f=0,h=$.grep(c.childs,function(a,b){if(null!=p)return null!==a.label.match(p)||"checked"===a.checked?("checked"===a.checked&&(d="indeterminateInput",f++),!0):!1;"checked"===a.checked&&
(d="indeterminateInput",f++);return!0});f===c.childs.length&&(d="");var r="form-check";"radio"==c.type&&(r="form-radio");var q=c.label;null!=p&&(q=q.replace(p,"\x3cmark\x3e$\x26\x3c/mark\x3e"));var x="";null!=c.childs&&0<c.childs.length&&null==p&&(x="form-check-collapsible js-collapsible");var t="",u="";m&&(t="displayNone",0<=c.nb&&(q+=" \x3cem\x3e("+c.nb+")\x3c/em\x3e"),1>c.nb&&"true"!==n&&"nomCode"!==a.attr("data-name")||0==c.nb&&"true"===n||0==c.nb&&"nomCode"===a.attr("data-name"))&&(u="disabled",
r+=" disabled-check",0==c.nb&&(c.checked=""));b=$('\x3cdiv class\x3d"search-choice"\x3e\x3c/div\x3e');r=$("\x3cdiv\x3e\x3c/div\x3e").addClass(r+" "+x);t=$("\x3cinput\x3e").addClass("form-check-input "+d+" "+t);t.attr({id:c.id,type:c.type,name:l,value:c.value});"checked"==c.checked&&t.prop("checked",!0);"disabled"==u&&t.prop("disabled",!0);r.append(t);q=$("\x3clabel\x3e\x3c/label\x3e").addClass("form-check-label").html(q).attr("for",c.id);m&&(q.attr("role","button").attr("tabindex","0"),t=!1,"checked"==
c.checked&&(t=!0),q.attr("aria-pressed",t));"disabled"==u&&q.attr("aria-disabled","true");r.append(q);if(null!=h&&0<c.childs.length){u="fieldset-"+c.id;q=0<=$.inArray(c.id,g);if(null==p){var w=$("\x3cbutton\x3e\x3c/button\x3e").addClass("form-check-collapsible-cta js-collapsible-cta").attr({type:"button","aria-controls":u,"aria-expanded":q}),t=$('\x3cspan class\x3d"icon" aria-hidden\x3d"true"\x3e\x3c/span\x3e');w.append(t);t=$('\x3cspan class\x3d"hidden-element"\x3eAfficher/masquer les sous-éléments\x3c/span\x3e');
w.append(t)}r.append(w);c=$(addChilds(h,c.value,p,c.label,u,m,n,q));r.append(c)}b.append(r);k.append(b)});0===k.children().length&&k.append("\x3cspan\x3e\x3c/span\x3e");setIndeterminateState(a);enableDisableBtnAllOfFacets()}function setIndeterminateState(a){a.find(".form-check-input").each(function(){$(this).hasClass("indeterminateInput")?(this.indeterminate=!0,$(this).next('label[role\x3d"button"]').attr("aria-pressed","mixed")):this.indeterminate=!1})}
function setChangeHandler(a,b,c){var d=!1,f=0;a.indeterminate=!1;$(a).is(":checked")?$(a).siblings("fieldset").find(".form-check-input").each(function(){this.indeterminate=!1;$(this).prop("checked",!0)}):$(a).siblings("fieldset").find(".form-check-input").each(function(){this.indeterminate=!1;$(this).prop("checked",!1)});var g=null;$.each(c,function(b,c){c.id===$(a).closest("fieldset").prevAll(".form-check-input").first().attr("id")&&(g=c)});null!=g&&($(a).closest("fieldset").find(".form-check-input").each(function(){$(this).is(":checked")&&
(f++,d=!0)}),d&&g.childs.length!==f?($(a).closest("fieldset").prevAll(".form-check-input").first().addClass("indeterminateInput"),$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!1)):($(a).closest("fieldset").prevAll(".form-check-input").first().removeClass("indeterminateInput"),g.childs.length===f?$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!0):0===f&&$(a).closest("fieldset").prevAll(".form-check-input").first().prop("checked",!1)),setIndeterminateState(b))}
function initSearchProximity(){$(".search-select.type-word .form-check-input:checked").each(function(){var a=$(this);updateProximity(a)});$("body").on("change",".search-select.type-word .form-check-input",function(){var a=$(this);a.is(":checked")&&updateProximity(a)})}function updateProximity(a){var b=a.closest(".form-radio");a=b.find(".search-proximity");b=b.siblings(".form-radio").find(".search-proximity");a.show();a.attr("aria-hidden","false");b.hide();b.attr("aria-hidden","true")}
function initSearchCriterion(){$(".search-filter-criterion-title .form-check-input:checked").each(function(){var a=$(this);updateSearchCriterion(a)});$("body").on("change",".search-filter-criterion-title .form-check-input",function(){var a=$(this);a.is(":checked")&&updateSearchCriterion(a)})}
function updateSearchCriterion(a){var b=a.closest(".search-filter-criterion");a=b.find(".search-filter-criterion-content");b=b.siblings(".search-filter-criterion").find(".search-filter-criterion-content");a.find("input, button").prop("disabled",!1);a.find(".filter-autocomplete-content").removeAttr("tabindex");b.find("input, button").prop("disabled",!0);a.find(".filter-autocomplete-content").attr("tabindex","-1")}
function loadFieldForResultSearch(){var a=$(".col-left-header").find(".result-search-field");if(a.length){var b=a.data("base"),b=getResultConfigFromBaseSelected(b),c=[];null!=b&&(c=b.targets.split(","),a.find(".form-check-input").each(function(){0>$.inArray(this.value,c)?(this.disabled=!0,$(this).parent().hide(),$(this).parent().attr("aria-hidden","true")):(this.disabled=!1,$(this).parent().show(),$(this).parent().attr("aria-hidden","false"))}))}}var eventclick=0;
function initClickAndArrowEventOnSelect(){$("body").on("keydown",".form-radio .form-check-input[data-autoclose]",function(a){37!==a.which&&38!==a.which&&39!==a.which&&40!==a.which||eventclick++});$("body").on("click",".form-radio .form-check-input[data-autoclose]",function(a){if("true"===$(this).attr("data-autoclose")){eventclick++;var b=$($(this).closest(".js-collapsible"));setTimeout(function(){closeCollapsibleAfterClick(b)},100)}else eventclick=0})}
function closeCollapsibleAfterClick(a){0<eventclick&&2>eventclick&&closeCollapsible(a);eventclick=0}function initSearchFacetSubmit(){$("body").on("click",".search-facet-submit",function(){$(".js-hide-col-in").trigger("click")})}function updateSearchLive(){var a=$(".search-facet-live"),b=$("\x3cp\x3eLa liste de résultats et les filtres ont été mis à jour.\x3c/p\x3e");a.append(b);window.setTimeout(function(){a.empty()},1E3);updateNbResultHidden()}
function initSearchTagFilter(){$(".search-filter").each(function(){var a=$(this);updateSearchTagFilter(a)});$("body").on("click change",".search-filter input",function(a){a.stopImmediatePropagation();var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)});$("body").on("click change",".search-filter option",function(a){a.stopImmediatePropagation();var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)});$("body").on("click",
".search-filter button",function(a){var b=$(this).closest(".search-filter");window.setTimeout(function(){updateSearchTagFilter(b)},100)});$(".form-advanced-search .search-filter .search-filter-criterion .search-filter-criterion-content .search-text input[class\x3d'form-control']").on("keypress",function(a){13!=a.which||$(".launch-search-btn").attr("disabled")?13==e.keyCode&&checkOtherErrors($(".search-input"),!0):(0<$(".search-remove").length?$(".search-input input").attr("data-validation","required"):
$(".search-input input").removeAttr("data-validation"),0==isValidForm($(".search-input"),!0)?a.preventDefault():generateQuery())});focusOn()}
function updateSearchTagFilter(a){var b=0,c=a.find(".search-filter-title");a.find("input").each(function(){var a=$(this);0==a.closest(".search-filter-criterion-title").length&&((a.is(".form-control")||a.is(".input-date"))&&""!==a.val()&&0==a.closest(".filter-autocomplete").length?b++:a.is(":checked")?b++:a.is(":selected")&&a.is("option")?b++:"pdcSearchArbo"==a.attr("id")&&""!==a.val()&&0==$("#pdcError").length&&b++)});a.find("select.form-select-multiple \x3e option").each(function(){var a=$(this);
0==a.closest(".search-filter-criterion-title").length&&a.is(":selected")&&a.is("option")&&b++});0<b?(a.addClass("is-active"),a=c.text().trim().replace(/\r?\n|\r/g," ").replace(/\s+/g," "),c.attr("title",a)):(a.removeClass("is-active"),c.removeAttr("title"));enableDisableBtnAllOfFacets()}
function createDiacriticsRegExp(a,b){var c=b?"":"i",d=b?"aàáảãạăằắẳẵặâầấẩẫậäåāą AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ cçćč CÇĆČ dđď DĐĎ eèéẻẽẹêềếểễệëěēę EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ iìíỉĩịîïī IÌÍỈĨỊÎÏĪ lł LŁ nñňń NÑŇŃ oòóỏõọôồốổỗộơởỡớờợöøō OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ rř RŘ sšśșş SŠŚȘŞ tťțţ TŤȚŢ uùúủũụưừứửữựûüůū UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ yýỳỷỹỵÿ YÝỲỶỸỴŸ zžżź ZŽŻŹ".split(" "):"aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ cçćčCÇĆČ dđďDĐĎ eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ iìíỉĩịîïīIÌÍỈĨỊÎÏĪ lłLŁ nñňńNÑŇŃ oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ rřRŘ sšśșşSŠŚȘŞ tťțţTŤȚŢ uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ yýỳỷỹỵÿYÝỲỶỸỴŸ zžżźZŽŻŹ".split(" "),
f=[];a.split("").forEach(function(b){d.every(function(d){if(-1!==d.indexOf(b)){if(-1<f.indexOf(d))return!1;a=a.replace(new RegExp("["+d+"]","gm"+c),"["+d+"]");f.push(d)}return!0})});return a}
function initJurisBulletin(){$("input[name\x3d'cassationTypePublicationBulletin'][value\x3d'T']").is(":checked")?($("#searchJuriAnneeBulletinFieldset").show(),$("#searchJuriNumeroBulletinFieldset").show(),$("#searchJuriAnneeBulletinFieldset").attr("aria-hidden","false"),$("#searchJuriNumeroBulletinFieldset").attr("aria-hidden","false")):($("#searchJuriAnneeBulletinFieldset").hide(),$("#searchJuriAnneeBulletin").val(""),$("#searchJuriNumeroBulletinFieldset").hide(),$("#searchJuriNumeroBulletin").val(""),
$("#searchJuriAnneeBulletinFieldset").attr("aria-hidden","true"),$("#searchJuriNumeroBulletinFieldset").attr("aria-hidden","true"))}function removeUrlParam(a,b){var c=b.split("?")[0],d;b=-1!==b.indexOf("?")?b.split("?")[1]:"";if(""!==b){d=b.split("\x26");for(var f=d.length-1;0<=f;--f)b=d[f].split("\x3d")[0],b===a&&d.splice(f,1);0<d.length&&(c=c+"?"+d.join("\x26"))}return c}
function stripListFromEmptyParam(a){var b="";a=-1!==a.indexOf("?")?a.split("?")[1]:a;if(""!==a&&(a=a.split("\x26"),0<a.length)){for(var c=a.length-1;0<=c;--c)b=a[c].split("\x3d")[1],void 0!==b&&0>=b.length&&a.splice(c,1);b=a.join("\x26")}return b}function initPreciseSearchButton(){var a=0;$("#fonds").find(".form-check-input:checked").each(function(b,c){a++});1===a?$(".search-resume-modify-precise").show():$(".search-resume-modify-precise").hide()}
function initLinkSeeAllArticles(){$(".seeAllArticles a").each(function(){var a=$(this).attr("href"),b=/[?&]etatArticle=([^&#]*)/g,c,d=/[?&]numArticle=([^&#]*)/g;if(a){for(;null!==(c=b.exec(window.location.search));)a+="\x26etatArticle\x3d"+encodeURIComponent(c[1]);for(;null!==(b=d.exec(window.location.search));)a+="\x26numArticle\x3d"+encodeURIComponent(b[1]);$(this).attr("href",a)}})}
function mobileToggleAutocomplete(a){var b=null;$(window).resize(function(){null!==b&&clearTimeout(b);b=setTimeout(function(){if(window.matchMedia("screen and (min-width: 75em)").matches)0==$("#query").closest($(".easy-autocomplete")).length&&$("#query").easyAutocomplete(a),0==$("#query-result").closest($(".easy-autocomplete")).length&&$("#query-result").easyAutocomplete(a);else{if($("#query").closest($(".easy-autocomplete")).length){var b=$("#query").clone();$("#query").closest($(".easy-autocomplete")).replaceWith(b)}$("#query-result").closest($(".easy-autocomplete")).length&&
(b=$("#query-result").clone(),$("#query-result").closest($(".easy-autocomplete")).replaceWith(b))}},50)})}
function initDemoOnboarding(a){a=void 0===a?!1:a;var b=window.location.pathname,c=[{url:"^/$",urlJson:"/demoJson/000-accueil.json",cookie:"lf-demo-accueil"},{url:"^/recherche",urlJson:"/demoJson/001-recherche-avancee.json",cookie:"lf-demo-recherche-avancee"},{url:"^/search/all",urlJson:"/demoJson/100-rr-transverse.json",cookie:"lf-demo-rr-transverse"},{url:"^/search/code",urlJson:"/demoJson/101-rr-codes.json",cookie:"lf-demo-rr-codes"},{url:"^/search/lois",urlJson:"/demoJson/102-rr-textes-consolides.json",
cookie:"lf-demo-rr-textes-consolides"},{url:"^/search/jorf",urlJson:"/demoJson/103-rr-jorf.json",cookie:"lf-demo-rr-jorf"},{url:"^/search/constit",urlJson:"/demoJson/104-rr-jurisprudence-constitutionnelle.json",cookie:"lf-demo-rr-jurisprudence-constitutionnelle"},{url:"^/search/cetat",urlJson:"/demoJson/105-rr-jurisprudence-administrative.json",cookie:"lf-demo-rr-jurisprudence-administrative"},{url:"^/search/juri",urlJson:"/demoJson/106-rr-jurisprudence-judiciaire.json",cookie:"lf-demo-rr-jurisprudence-judiciaire"},
{url:"^/search/circ",urlJson:"/demoJson/107-rr-circulaires.json",cookie:"lf-demo-rr-circulaires"},{url:"^/search/kali",urlJson:"/demoJson/108-rr-conventions-collectives.json",cookie:"lf-demo-rr-conventions-collectives"},{url:"^/search/acco",urlJson:"/demoJson/109-rr-accords-entreprises.json",cookie:"lf-demo-rr-accords-entreprises"},{url:"^/codes/texte_lc",urlJson:"/demoJson/200-consult-codes-sommaire.json",cookie:"lf-demo-consult-codes-sommaire"},{url:"^/codes/section_lc",urlJson:"/demoJson/201-consult-codes-section.json",
cookie:"lf-demo-consult-codes-section"},{url:"^/codes/article_lc",urlJson:"/demoJson/202-consult-codes-article.json",cookie:"lf-demo-consult-codes-article"},{url:"^/loda/id",urlJson:"/demoJson/210-consult-textes-consolides-texte.json",cookie:"lf-demo-consult-textes-consolides-texte"},{url:"^/loda/article_lc",urlJson:"/demoJson/211-consult-textes-consolides-article.json",cookie:"lf-demo-consult-textes-consolides-article"},{url:"^/conv_coll/id/KALICONT",urlJson:"/demoJson/220-consult-conventions-collectives-sommaire.json",
cookie:"lf-demo-consult-conventions-collectives-sommaire"},{url:"^/conv_coll/id/KALITEXT",urlJson:"/demoJson/221-consult-conventions-collectives-texte-base.json",cookie:"lf-demo-consult-conventions-collectives-texte-base"},{url:"^/conv_coll/id/KALISCTA",urlJson:"/demoJson/222-consult-conventions-collectives-texte-base-section.json",cookie:"lf-demo-consult-conventions-collectives-texte-base-section"},{url:"^/conv_coll/(article|id/KALIARTI)",urlJson:"/demoJson/223-consult-conventions-collectives-texte-base-article.json",
cookie:"lf-demo-consult-conventions-collectives-texte-base-article",regex:/(?:conv_coll\/id\/)((.[\s\S]*))(?:\?)/g},{url:"^/jorf/jo",urlJson:"/demoJson/230-consult-jorf.json",cookie:"lf-demo-consult-jorf"}];urlMapping=c.find(function(a){return b.match(a.url)});if(void 0!==urlMapping&&"/demoJson/221-consult-conventions-collectives-texte-base.json"===urlMapping.urlJson){var d=document.querySelector("#liste-sommaire-noeud \x3e li.montrer-noeud \x3e a");null===d||"Textes Attachés"!==d.innerHTML.substr(0,
15)&&"Textes Salaires"!==d.innerHTML.substr(0,15)||(urlMapping=c.find(function(a){return"/demoJson/222-consult-conventions-collectives-texte-base-section.json"===a.urlJson}))}void 0!==urlMapping&&($(".start-demo-block").css("display","inline-block"),$(".display-demo-mobile").css("display","block"),(a||displayOnboarding&&""===getCookie(urlMapping.cookie))&&startIntroJs(urlMapping.urlJson,urlMapping.regex),setCookieDemo(urlMapping.cookie,"1"))}
function removeDataAnchor(a){a&&(0===a.lastIndexOf("LEGISCTA",0)?(a=document.querySelector("main [id\x3d'"+a+"']"))&&a.removeAttribute("id"):(a=document.querySelector("main [data-anchor\x3d'"+a+"']"))&&a.removeAttribute("data-anchor"))}
function startIntroJs(a,b){b?(b=b.exec(window.location.href))&&void 0!==b&&0<b.length&&removeDataAnchor(b[1]):window.location.hash&&(b=window.location.hash.replace("#",""))&&removeDataAnchor(b);$.ajax({headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:a,type:"GET",dataType:"json",success:function(a,b){b=introJs();a={steps:a.steps.filter(function(a){return!a.element||$(a.element).length&&$(a.element).is(":visible")}),nextLabel:"Suivant",prevLabel:"Précédent",
doneLabel:"Fermer",skipLabel:"Fermer",highlightClass:"demo-helper-layer",helperElementPadding:30,tooltipPosition:"bottom",scrollTo:"tooltip",scrollPadding:50,overlayOpacity:.4,disableInteraction:!0};a.steps.length&&(b.setOptions(a),b.start())},error:function(a,b,f){console.log("Fichier de démo introuvable ou erroné")}})}function setCookieDemo(a,b){var c=new Date,c="expires\x3d"+(new Date(c.setMonth(c.getMonth()+13))).toUTCString();document.cookie=a+"\x3d"+b+";"+c+";path\x3d/;secure"}
function setCookie(a,b,c){var d=new Date;c="expires\x3d"+(new Date(d.setMonth(d.getMonth()+c))).toUTCString();document.cookie=a+"\x3d"+b+";"+c+";path\x3d/;secure"}function getCookie(a){a+="\x3d";for(var b=decodeURIComponent(document.cookie).split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return""}
function selectAllfilterOfFacet(a){a=getfacetteNameOfBloc(a);var b=$(".chboxALL-content-"+a),c=b.length?!0:!1;if(c&&(b=b.find(".search-filter-criterion-content").find(".filter-autocomplete").find(".filter-autocomplete-content"),c=b.length?!0:!1)){var d=$("#select-filter-all-"+a).prop("checked"),c=b.find(".search-choice").find(".form-check").find(".form-check-input");Array.from(c).forEach(function(a){a.checked=d?"checked":!1});c=b.find(".search-choice").find(".form-check").find(".form-check-label");
Array.from(c).forEach(function(a){a.setAttribute("aria-pressed",d)});var f="/search",g=null;$(".chboxALL-content-"+a).find(".search-filter-criterion-content").find(".filter-autocomplete").each(function(){g=myFacette=$(this);myFacetteNotReload=$(this);removeDisabledAttribute();majFacetHTML($(this),!1);f=$(this).attr("data-url");facetteSoumission(f)});$(".filter-autocomplete").each(function(){myFacette=$(this);removeDisabledAttribute();majFacetHTML($(this),!1)});myFacette=g;removeDisabledAttribute();
facetteSoumission(f);myFacette=null}}
function enableDisableBtnAllOfFacets(){$(".facetteCheckboxALL").each(function(){var a=$(this),b=a.attr("data-name");if($("#select-filter-all-"+b).length){var c=!0,d=0,f=0;a.find(".filter-autocomplete-content").find(".search-choice").find(".form-check").find(".form-check-input").each(function(){f+=1;var a=$(this).is(":disabled");c&&!a&&"cassDecisionAttaquee"!=$(this).prop("name")&&(c=$(this).prop("checked"));if(a||"cassDecisionAttaquee"==$(this).prop("name"))d+=1});0==f?($("#select-filter-all-"+b).prop("checked",
!1),$("#select-filter-all-"+b).prop("disabled",!0)):f==d?($("#select-filter-all-"+b).prop("checked",!1),$("#select-filter-all-"+b).prop("disabled",!0),a.find(".filter-autocomplete").attr("data-autocomplete","[]"),a=a.find(".filter-autocomplete-content"),a.html(""),a.append("\x3cspan\x3e\x3c/span\x3e")):($("#select-filter-all-"+b).prop("checked",c),$("#select-filter-all-"+b).prop("disabled",!1))}});updateDateIconSearch()}
function disCheckedBtnAllOfFacet(a){null!=a&&(a=a.attr("data-name"),a=getfacetteNameOfBloc(a),$("#select-filter-all-"+a).length&&$("#select-filter-all-"+a).prop("checked",!1))}function getfacetteNameOfBloc(a){return"cassDecision"==a||"cassFormation"==a||"cassDecisionAttaquee"==a?"cassPubliBulletin":a}
function updateDateIconSearch(){$(".search-filter").each(function(){var a=$(this),b=a.find(".search-filter-title"),c=a.find(".facetteCheckboxALL");c.length&&(c=c.attr("data-name"),c=$("#select-filter-all-"+c),!c.prop("checked")&&c.prop("disabled")&&(a.removeClass("is-active"),b.removeAttr("title")))})}
function addSearchParameterToLink(a){var b=window.location.href,c=window.location.href,d=$("#"+a).attr("href"),f=d.split(/\?(.+)/),g=f[0],h;!g.includes("#")&&"undefined"!==typeof f[1]&&""!==f[1]&&f[1].includes("#")&&(g=g+"#"+f[1].split("#")[1]);g=g.replace("/#","#");g=g.split("#");h="undefined"!==typeof g[1]?g[1]:"";g=g[0];c.includes("isAbrogated\x3d")&&(c=c.replace("\x26isAbrogated\x3dtrue",""),c=c.replace("isAbrogated\x3dtrue",""));d.includes("highlight\x3d")&&(c=deleteParmeterAndValueInsideHref(c,
"highlight"));var c=deleteParmeterAndValueInsideHref(c,"redirectionFrom"),c=deleteParmeterAndValueInsideHref(c,"anchor"),k="";"undefined"!==typeof f[1]&&""!==f[1]&&f[1].includes("isAbrogated\x3d")&&(k="isAbrogated\x3d"+f[1].replace("\x26","#").replace("/#","#").split("isAbrogated\x3d")[1].split(/\#(.+)/)[0]+"\x26");c=c.split(/\?(.+)/);d.split("highlight\x3d");"undefined"!==typeof c[1]&&""!==c[1]?("/"==g[g.length-1]&&(g=g.substring(0,g.length-1)),c=g+"?"+k+c[1]):c=g+""+(""==k?"":"?"+k.substring(0,
k.length-1));"undefined"!==typeof h&&""!==h&&(c=c.split("#"),c=c[0].includes("?")&&c[0].includes("searchField")?c[0]+"\x26anchor\x3d"+h+"#"+h:c[0].includes("?")?c[0]+"#"+h:c[0]+"/#"+h);c=cleanCaracteres(c);$("#"+a).attr("href",c);history.replaceState({page:1},"",d);history.replaceState({page:1},"",b)}function deleteParmeterAndValueInsideHref(a,b){a.includes(b+"\x3d")&&(a=a.split(b+"\x3d"),b=a[1].split(/\&(.+)/)[1],a=a[0]+("undefined"!=typeof b?b:""));return a}
function cleanCaracteres(a){a=a.replace("/?","?");a=a.replace("?\x26","?");a=a.replace("\x26\x26","\x26");a=a.replace("\x26#","#");return a=a.replace("?#","/#")}
function contactUsTreatment(){var a=$(window).height(),b=$(window).width(),c=document.getElementById("resolutionEcran"),d=document.getElementById("previousUrl");c.value=b+" * "+a;d.value=document.referrer;a=document.getElementById("description");a.value=a.value.replace(/\\r\\n/g,"\x3cbr/\x3e").replace(/\\n/g,"\x3cbr/\x3e").replace(/\\r/g,"\x3cbr/\x3e");a.value=a.value.replace(/\r\n/g,"\x3cbr/\x3e").replace(/\n/g,"\x3cbr/\x3e").replace(/\r/g,"\x3cbr/\x3e")}
Math.trunc||(Math.trunc=function(a){return 0>a?Math.ceil(a):Math.floor(a)});String.prototype.includes=function(a){var b=!1;-1!==this.indexOf(a)&&(b=!0);return b};$.urlParam=function(a){a=(new RegExp("[?\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.href);return null==a?null:decodeURI(a[1])||0};
Array.from||(Array.from=function(){var a;try{$jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),a=Symbol.iterator?Symbol.iterator:"Symbol(Symbol.iterator)"}catch(g){a="Symbol(Symbol.iterator)"}var b=Object.prototype.toString,c=function(a){return"function"===typeof a||"[object Function]"===b.call(a)},d=Math.pow(2,53)-1,f=function(b,c){var d=b&&c[a]();return function(a){return b?d.next():c[a]}};return function(b){var g=Object(b),k=c(g[a]);if(null==b&&
!k)throw new TypeError("Array.from requires an array-like object or iterator - not null or undefined");var l=1<arguments.length?arguments[1]:void 0,m;if("undefined"!==typeof l){if(!c(l))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(m=arguments[2])}var n;n=Number(g.length);n=isNaN(n)?0:0!==n&&isFinite(n)?(0<n?1:-1)*Math.floor(Math.abs(n)):n;n=Math.min(Math.max(n,0),d);var p=c(this)?Object(new this(n)):Array(n);a:{for(var g=f(k,g),q=0;q<
n||k;){var r=g(q),v=k?r.value:r;if(k&&r.done){k=p;break a}else p[q]=l?"undefined"===typeof m?l(v,q):l.call(m,v,q):v;q+=1}if(k)throw new TypeError("Array.from: provided arrayLike or iterator has length more then 2 ** 52 - 1");p.length=n;k=p}return k}}());
function toutCocherToutDecocher(){$(document).on("click keypress touch",".search-checkall-cta",function(a){if(a11yClick(a)){resetInput(this);a=$(this).closest("form");var b=$(this).closest("fieldset");a=a.attr("id");var b=b.find(".search-choice").find(".form-check").find(".form-check-input"),c=$(this).closest(".search-reset").siblings(".filter-autocomplete");checkAllJsonFacet(c);Array.from(b).forEach(function(a){0!=$(".page-advanced-search-form").length&&1!=$(a).attr("checked")?$("#"+$(a).attr("id")).attr("checked",
"checked"):$(a).attr("disabled")||0!=$(a).attr("checked")&&"undefined"!=typeof $(a).attr("checked")||$(a).attr("checked","checked")});"form_sommaire_jo"===a?facetteJorfSoumission(null):facetteSoumission(c.attr("data-url"))}})}
function focusOn(){$(".search-reset-cta").on("click keypress touch",function(a){a=$(this).closest("fieldset")[0];var b=a.querySelector(".form-control");b||(b=a.querySelector(".form-select"));b||(b=a.querySelector(".text-input"),$("#pdcSearchArbo").val(""));b.focus()});$(".reset-link-search").on("click keypress touch",function(a){$(this).closest("fieldset")[0].querySelector(".text-input").focus()})}"use strict";$(document).ready(function(){initAlert()});
function initAlert(){$("body").on("click",".alert-close-cta",function(){$(this).closest(".alert").remove()})}var openedFacetteChild=[],openedFacetteLink=[],requestWaiting=[],lastRequestLoad=null,firstLoad=!0,isSafari=/constructor/i.test(window.HTMLElement)||function(a){return"[object SafariRemoteNotification]"===a.toString()}(!window.safari||"undefined"!==typeof safari&&safari.pushNotification),idCaptcha,timeoutRefreshCaptcha,isScroll=!1,listSafe="all acco cetat circ cnil code constit lois jorf juri kali docAdmin idcc debatsParlementaires questionsEcritesParlementaires bocc boccTexts jufi bodmr".split(" ");
function scrollToAnchor(a){var b=$('[data-anchor\x3d"'+a+'"]'),c=$("#stickyScroll").length&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()+15:0;0<b.length&&(a=$('[data-anchor\x3d"'+a+'"]').first(),$("html, body").animate({scrollTop:a.offset().top-c},"slow"))}
function scrollToRenvoi(a){var b=$('[name\x3d"'+a+'"]'),c=$("#stickyScroll").length&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()+15:0;0<b.length&&(b=$('[name\x3d"'+a+'"]').first(),$("html, body").animate({scrollTop:b.offset().top-c},"slow"));history.pushState(null,"",window.location.pathname+"#"+a)}function getSafeName(a){var b="";a=jQuery.inArray(a,listSafe);0<=a&&(b=listSafe[a]);return b}
function updateSuggestFacette(a,b,c){var d=!1,f=c?c:"/search";a={data:a.allLabels,requestDelay:500,highlightPhrase:!0,list:{match:{enabled:!0},onKeyEnterEvent:function(){if(d){var a=$("#"+b+"_suggest").getSelectedItemData();$('[id\x3d"'+a+"__"+b+'"]').attr("aria-pressed",!0);facetteSoumission(f);$("#"+b+"_suggest").val("")}},onClickEvent:function(){var a=$("#"+b+"_suggest").getSelectedItemData();$('[id\x3d"'+a+"__"+b+'"]').attr("aria-pressed",!0);facetteSoumission(f);$("#"+b+"_suggest").val("")},
onSelectItemEvent:function(){d=!0},onHideListEvent:function(){d=!1}}};$("#"+b+"_suggest").easyAutocomplete(a)}
function addCheckValueToForm(a){a.find('.checkboxes-container.button-checkboxes span[role\x3d"button"].option-parent ').each(function(){var b=$(this).closest("fieldset");$('[id\x3d"value_'+$(this).attr("id")+'"]').length&&$('[id\x3d"value_'+$(this).attr("id")+'"]').remove();"true"==$(this).attr("aria-pressed")&&$("\x3cinput\x3e").attr({type:"hidden",id:"value_"+$(this).attr("id"),name:b.attr("id").split("__")[0],value:$(this).attr("id").split("__")[0]}).appendTo(a)});a.find('.checkboxes-container.button-checkboxes span[role\x3d"button"].option-enfant').each(function(){var b=
$(this).parent().parent().prev().prev().attr("id").split("__")[0];$('[id\x3d"value_'+$(this).attr("id")+'"]').length&&$('[id\x3d"value_'+$(this).attr("id")+'"]').remove();"true"==$(this).attr("aria-pressed")&&$("\x3cinput\x3e").attr({type:"hidden",id:"value_"+$(this).attr("id"),name:b,value:$(this).attr("id").split("__")[0]}).appendTo(a)})}function formFacetteSoumissionValidation(a,b){0==document.getElementById(b).value.trim().length?document.getElementById(b).value="":formFacetteSoumission(a)}
function formFacetteSoumission(a){$(a).closest("form").hasClass("form-liste")?facetteSoumission("/liste"):facetteSoumission("/search")}
function facetteSoumission(a,b){removeDisabledAttribute();var c=window.location.pathname,d="",f="",g=c.split("/");c.includes("boccTexts")?(d=$.urlParam("id"),f="boccTexts"):g.length&&(f=g[g.length-1].split(";")[0],""===f&&2<=g.length&&(f=g[g.length-2].split(";")[0]));f=sanitizeAlpha(f);c=getSafeName(f);if(""!==c){g=$("#form_"+c);isValidForm(g);$("#page_"+c).val(1);addCheckValueToForm(g);g=g.serialize();if(0<=g.indexOf("typeRecherche\x3ddate")&&0>=g.indexOf("\x26dateVersion\x3d"))var h=encodeURIComponent($("#dateVersion").val()),
g=g+("\x26dateVersion\x3d"+h);g=stripListFromEmptyParam(g);d=computeDataToSend(f,d,g);launchAjaxRequest(a+"/"+c,a+c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()+"/ajax",d,c,"facette",!0,b)}}function computeDataToSend(a,b,c){(new String(a)).valueOf()==(new String("boccTexts")).valueOf()&&(c+="\x26id\x3d"+b);return c}function sanitizeAlpha(a){return sanitizeString(/[a-zA-Z0-9]*/g,a)}function sanitizeString(a,b){a=b.match(a);return 0<a.length?a[0]!==b?"":a[0]:""}
function ouvrirElement(a){a=$("#"+a).children("div").last();var b=$("#label_"+a.attr("id"));a.attr("data-hidden","false");b.attr("aria-expanded","true");b.removeClass("is-opened")}function videChampDate(a){reinitFacetteChamp(a)}
function reinitFacetteChamp(a){if("dateVersion"==a){var b=new Date,c=String(b.getDate()).padStart(2,"0"),d=String(b.getMonth()+1).padStart(2,"0"),b=b.getFullYear(),b=c+"/"+d+"/"+b;document.getElementById(a).value=b;document.getElementById(a).placeholder=b}else document.getElementById(a).value="";a=window.location.pathname.split("/");c="";a.length&&(c=a[a.length-1]);c=sanitizeAlpha(c);a=getSafeName(c);""!==a&&(c=$("#form_"+a),addCheckValueToForm(c),d=c.serialize(),b="/search",c.hasClass("form-liste")&&
(b="/liste"),launchAjaxRequest(b+"/"+a,b+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",d,a,"facette",!0))}function clickParDate(a){$("#etatChoice"+a).prop("checked",!1);$("#dateChoice"+a).prop("checked",!0);ouvrirElement("loiTypeRechercheDateVersion");facetteSoumission("/search")}function clickParEtat(a){$("#etatChoice"+a).prop("checked",!0);$("#dateChoice"+a).prop("checked",!1);ouvrirElement("loiTypeRechercheEtatJuridique");facetteSoumission("/search")}
function convertMapToArray(a){var b=[];$.each(a,function(a,d){var c={};c.key=a;c.value=d;b.push(c)});return b}
function constructFacette(a,b,c,d){var f=0,g=-1<$.inArray("link_"+c,openedFacetteChild);$("#"+c+"_suggest").length&&updateSuggestFacette(a,c,d?d:"/search");d=convertMapToArray(a.values);!0===a.reverseOrder&&d.reverse();$(d).each(function(){f++;var d="\x3cli class\x3d'"+(10<f&&!g?"option-cachee":"")+"'\x3e",k=this;a.hasSelectedValue?0<k.value.nombre||-1==k.value.nombre?0==k.value.cochee?(d+='\x3cspan id\x3d"'+k.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",d+=" tabindex\x3d'0'\x3e",
d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d=-1!=k.value.nombre?d+("\x3ci\x3e "+k.value.label+" ("+k.value.nombre+")\x3c/i\x3e"):d+("\x3ci\x3e "+k.value.label+"\x3c/i\x3e")):(d+='\x3cspan id\x3d"'+k.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'true' class\x3d'option-parent' tabindex\x3d'0'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_check.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",
d=-1!=k.value.nombre?d+("\x3cb\x3e "+k.value.label+" \x3ci\x3e("+k.value.nombre+")\x3c/i\x3e\x3c/b\x3e"):d+("\x3cb\x3e "+k.value.label+"\x3c/b\x3e")):(d+='\x3cspan id\x3d"'+k.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",d+=" tabindex\x3d'-1' disabled\x3d'' \x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_null.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+="\x3ci\x3e "+k.value.label+" ("+k.value.nombre+")\x3c/i\x3e"):
(d+='\x3cspan id\x3d"'+k.key+"__"+c+"\" role\x3d'button' aria-pressed\x3d'false' class\x3d'option-parent' ",0<k.value.nombre||-1==k.value.nombre?(d+=" tabindex\x3d'0'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d=-1!=k.value.nombre?d+(" "+k.value.label+" \x3ci\x3e("+k.value.nombre+")\x3c/i\x3e"):d+(" "+k.value.label)):(d+=" tabindex\x3d'-1' disabled\x3d'' \x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_null.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",
d+=" "+k.value.label+" \x3ci\x3e("+k.value.nombre+")\x3c/i\x3e"));var d=d+"\x3c/span\x3e",l=-1<$.inArray("link_"+this.key+"__"+c,openedFacetteChild),m=-1<$.inArray(k.key+"__"+c,openedFacetteLink);if(k.value.enfants){var d=d+("\x3cbutton tabindex\x3d'0' type\x3d'button' aria-describedby\x3d'"+k.key+"__"+c+"' class\x3d'openClose-options expanded"),d=m?d+" opened' aria-expanded\x3d'true'\x3e\x3cspan class\x3d'hidden-element'\x3eDéplier\x3c/span\x3e\x3c/button\x3e":d+"' aria-expanded\x3d'false'\x3e\x3cspan class\x3d'hidden-element'\x3eReplier\x3c/span\x3e\x3c/button\x3e",
d=d+('\x3cul aria-label\x3d"'+k.value.label+'"\x3e'),n=0;$.each(k.value.enfants,function(a,b){if(0<b.nombre){n++;var f=10<n&&!l?"option-cachee":"";m||(f+=" list-option-cachee");d+="\x3cli class\x3d'"+f+"'\x3e";0==b.cochee?(d+='\x3cspan id\x3d"'+a+"__"+k.key+"__"+c+"\" class\x3d'option-enfant' ",d+=" tabindex\x3d'0' aria-pressed\x3d'false' role\x3d'button'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_empty.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+=
"\x3ci\x3e "+b.label+" ("+b.nombre+")\x3c/i\x3e"):(d+='\x3cspan id\x3d"'+a+"__"+k.key+"__"+c+"\" class\x3d'option-enfant' ",d+=" tabindex\x3d'0' aria-pressed\x3d'true' role\x3d'button'\x3e",d+="\x3cimg aria-hidden\x3d'true' src\x3d'/resources/images/checkbox_check.svg' alt\x3d'' height\x3d'16' width\x3d'16'\x3e\x3c/img\x3e",d+="\x3cb\x3e "+b.label+" \x3ci\x3e("+b.nombre+")\x3c/i\x3e\x3c/b\x3e");d+="\x3c/span\x3e";d+="\x3c/li\x3e"}});d+="\x3c/ul\x3e";if(10<n){var p=l?"opened":"closed";m||(p+=" list-option-cachee");
d+="\x3ca href\x3d'#' role\x3d'button' class\x3d'see-more-link more-link-child "+p+"' id\x3d'link_"+k.key+"__"+c+"'\x3eAfficher plus de termes\x3c/a\x3e"}}d+="\x3c/li\x3e";$(b).append(d)});10<f?$("#link_"+c).show():$("#link_"+c).hide()}
function launchAjaxRequest(a,b,c,d,f,g,h){var k={id:d,data:c,time:Date.now()};a=encodeURI(a);isRequestAlreadyLaunch(k)||(requestWaiting.push(k),$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"application/json","Content-Type":"application/json"},url:b,type:"GET",data:c,dataType:"json",success:function(b,m){requestWaiting.splice(getIndexRequest(k),1);if(null==lastRequestLoad||
lastRequestLoad.time<k.time)lastRequestLoad=k,history.pushState(null,"",a+"?"+c+"#"+d),b.content?($("#main_"+d).replaceWith(b.content),g&&($.each(b.formData.mapFacets,function(a,b){"check"==b.typeField?$("#"+a).find(".filter-autocomplete").each(function(){if(null==myFacetteNotReload||myFacetteNotReload.attr("data-name")!==$(this).attr("data-name")||"facetteDepartment"==myFacetteNotReload.attr("data-name")||"facetteIdcc"==myFacetteNotReload.attr("data-name")||"juridiction"==myFacetteNotReload.attr("data-name"))$(this).find(".filter-autocomplete-content").empty(),
$(this).attr("data-autocomplete",b.jsonFormat),instantiateFilterAutocomplete($(this))}):"inputPdcArbo"==b.typeField&&$("#"+a).length&&$(this).val(b.values.label)}),$("#form_"+d).find("input[name\x3d'init']").remove()),$("#nbResults_"+d).text(b.nbResult),$("#default_"+d).val()==b.nbResult?($("#filtre_"+d).hide(),$("#filtre_"+d).attr("aria-hidden","true")):($("#filtre_"+d).show(),$("#filtre_"+d).attr("aria-hidden","false")),addEventListCode()):$("#main_"+d).replaceWith("\x3cp\x3eErreur de chargement\x3c/p\x3e"),
"onglet"==f&&($("#label_"+d).off("click"),$("#label_"+d).off("touch"),$("#label_"+d).on("click touch",function(){history.pushState(null,"",a+"?"+c+"#"+d)})),$(".download-link-secure").each(function(){$(this).on("click touch keypress",{id:$(this).data("textid")},captchaLink)});updateSearchLive();myFacetteNotReload=null;h&&h();managePageTitle();initLinkSeeAllArticles();"lien"!==f&&"facette"!==f||initPagerLinks()},error:function(){requestWaiting.splice(getIndexRequest(k),1)}}))}
function changeFilter(a,b){$("#page_"+a).val(1);var c=function(){focusTarget("#"+b)};$("#form_"+a).hasClass("form-liste")?facetteSoumission("/liste",c):facetteSoumission("/search",c)}function chargeComparaison(a){$("#modaleComparaisonContenu").html('\x3cdiv class\x3d"loader"\x3e\x3c/div\x3e');chargeComparaisonGenerale("rien",$(this).data("article"))}
function chargeComparaisonGenerale(a,b){a=sanitizeAlpha(a).replace(/\.\;/g,"");b=sanitizeAlpha(b).replace(/\.\;/g,"");a={articleGauche:encodeURIComponent(a),articleDroite:encodeURIComponent(b)};$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/articleComparaison",type:"GET",data:a,dataType:"html",
success:function(a,b){$("#modaleComparaisonContenu").html(a);trapFocus($("#modaleComparaisonContenu"))},error:function(a,b,f){$("#"+idContent).replaceWith("\x3cdiv id\x3d'"+idContent+"'\x3eErreur de chargement\x3c/div\x3e")}})}
function loadRevision(a){if(a11yClick(a)){var b=a.data.id,c="",d=b.split("-"),f;f=window.location.href;var g=f.includes("article_lc")||f.includes("article_jo")?!1:!0;for(f=0;f<d.length-1;f++)c+=d[f]+"-";c+="content";d={articleCid:encodeURIComponent(sanitizeAlpha(a.data.articleCid)),articleId:encodeURIComponent(sanitizeAlpha(a.data.articleId)),texteCid:encodeURIComponent(sanitizeAlpha(a.data.texteCid)),num:void 0===a.data.num?"":encodeURIComponent(a.data.num),dateConsult:encodeURIComponent(a.data.date),
idComplement:encodeURIComponent(a.data.complement),abrogated:encodeURIComponent(a.data.abrogated),isInContext:g};"CODE"===a.data.fond&&(d.loadAll="true");"LODA"===a.data.fond&&(d.loadAll="true");ajaxRequestReloadContent(c,"/articleRevision",d);$("#"+b).off("click keypress touch",loadRevision)}}
function loadLien(a){if(a11yClick(a)){var b=a.data.id,c="",d=b.split("-"),f;for(f=0;f<d.length-1;f++)c+=d[f]+"-";a={articleId:encodeURIComponent(sanitizeAlpha(a.data.articleId)),dateConsult:encodeURIComponent(a.data.date),idButton:encodeURIComponent(b)};ajaxRequestReloadContent(c+"content","/articleLiens",a);$("#"+b).off("click keypress touch",loadLien)}}
function loadLienServicePublic(a){if(a11yClick(a)){var b=a.data.id,c="",d=b.split("-"),f;for(f=0;f<d.length-1;f++)c+=d[f]+"-";a={idButtonSP:encodeURIComponent(b),articleId:void 0===a.data.articleId?"":encodeURIComponent(sanitizeAlpha(a.data.articleId)),articleCid:void 0===a.data.articleCid?"":encodeURIComponent(sanitizeAlpha(a.data.articleCid)),texteCid:encodeURIComponent(sanitizeAlpha(a.data.texteCid)),dateConsult:encodeURIComponent(a.data.date),fond:encodeURIComponent(a.data.fond),context:encodeURIComponent(a.data.context)};
ajaxRequestReloadContent(c+"content","/articleLiensServicePublic",a);$("#"+b).off("click keypress touch",loadLien)}}
function ajaxRequestReloadContent(a,b,c){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:b,type:"GET",data:c,dataType:"html",success:function(b,c){c=$("#"+a).parent().attr("id");$("#"+a).replaceWith(b);openDefaultSection(c)},error:function(b,c,g){$("#"+a).replaceWith("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}
function ajaxRequestReloadContentArticle(a,b,c){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:b,type:"GET",data:c,dataType:"html",success:function(a,b){0<=a.indexOf("modal-content")?($(".modal-dialog.chronolegi.timeline-modal").html(a),bindChronoDetailButtonOfParent($(".modal-dialog.chronolegi.timeline-modal")),
bindNavDateChronoLinkOfParent($(".modal-dialog.chronolegi.timeline-modal")),openDefaultSection("modal-timeline"),trapFocus($(".modal-dialog.chronolegi.timeline-modal")),$("#btnAfficheChronoArticle").off("click keypress touch",loadChronolegiArticle)):$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html(a)},error:function(a,b,c){$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}
function activeMoreLink(a,b){if(a11yClick(a)){b.prev().children("li").each(function(a){b.hasClass("closed")?$(this).removeClass("option-cachee"):10<=a&&$(this).addClass("option-cachee")});var c=b.attr("id");b.hasClass("closed")?(b.removeClass("closed"),b.addClass("opened"),b.html("Afficher moins de termes"),openedFacetteChild.push(c)):(b.removeClass("opened"),b.addClass("closed"),b.html("Afficher plus de termes"),openedFacetteChild.splice($.inArray(c,openedFacetteChild),1))}a.preventDefault()}
function openCloseLink(a,b){if(a11yClick(a)){var c=b.prev().attr("id");b.hasClass("opened")?(b.next().children().addClass("list-option-cachee"),b.next().next().addClass("list-option-cachee"),b.removeClass("opened"),b.attr("aria-expanded","false"),openedFacetteLink.splice($.inArray(c,openedFacetteLink),1)):(b.next().children().removeClass("list-option-cachee"),b.next().next().removeClass("list-option-cachee"),b.addClass("opened"),b.attr("aria-expanded","true"),openedFacetteLink.push(c))}a.preventDefault()}
function navigationRevision(a){a11yClick(a)&&navigationDate(a.data.date)}
function navigationDate(a){if(isValidForm($(".wrapper-datepicker"))){var b=window.location.pathname,c=b.split("/"),d="",f=/^[0-9]{4}\-[0-9]{2}\-[0-9]{2}$/,g=$(".urlNavigation").val(),h="";if(b.includes("article_lc")){b=c;g="";b[2]="article_lc";for(var k=0;4>k;k++)g+=b[k]+"/"}else if(b.includes("article_jo"))for(b=c,g="",b[2]="article_jo",k=0;4>k;k++)g+=b[k]+"/";else if(b.includes("id")){if(!b.includes("/jorf/id"))for(b=c,g="",b[2]="id",k=0;4>k;k++)g+=b[k]+"/"}else 0<=g.indexOf("cidSection\x3d")&&
(h=getUrlParameter("cidSection",g),g=removeUrlParam("cidSection",g));if(c.length){if(void 0!==g&&"null"!==g&&""!==g)d=g;else if(f.test(c[c.length-2]))for(f=0;f<c.length-2;f++)d+=c[f]+"/";else if(0<=c[c.length-1].indexOf("TEXT")||0<=c[c.length-1].indexOf("SCT"))for(f=0;f<c.length;f++)d+=c[f]+"/";else for(f=0;f<c.length-1;f++)d+=c[f]+"/";a=a.split("/");d+=a[2]+"-"+a[1]+"-"+a[0]+"/";0<h.length&&(d+="?cidSection\x3d"+h);window.location.href=d}}}
function openDefaultSection(a){$("#"+a).find(".current-version-opened").each(function(){$(this).parents("div.js-to_expand").each(function(){var a=$(this).attr("id");$('*[data-controls\x3d"'+a+'"]').each(function(){if(!$(this).hasClass("is-opened")){var a=jQuery.Event("click");a.jQuery=!0;$(this).trigger(a)}})})});$(".lancerComparaisonBouton").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),article:$(this).data("article"),num:$(this).data("num")},chargeComparaison)})}
$(function(){$(".init-arg-aware").one("click keypress touch",function(a){a11yClick(a)&&$(this).closest("form").append('\x3cinput type\x3d"hidden" name\x3d"init" value\x3d"true" /\x3e')});$("#etatChoice").is(":visible")&&($("#etatChoice").is(":checked")?clickParEtat():clickParDate());$(".see-more-link").each(function(){$(this).on("click keypress touch",function(a){activeMoreLink(a,$(this))})});$(".openClose-options").each(function(){$(this).on("click keypress touch",function(a){openCloseLink(a,$(this))})});
$(".ajax-load-tab-liens-service-public").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleId:$(this).data("articleid"),articleCid:$(this).data("articlecid"),texteCid:$(this).data("textecid"),date:$("#dateConsultation").val(),fond:location.pathname.split("/")[1],context:$(this).data("context")},loadLienServicePublic)});$(".ajax-load-tab-liens").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleId:$(this).data("articleid"),date:$("#dateConsultation").val()},
loadLien)});$(".ajax-load-tab-revision").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleCid:$(this).data("articlecid"),articleId:$(this).data("articleid"),texteCid:$(this).data("textecid"),complement:$(this).data("complement"),abrogated:$(this).data("abrogated"),num:$(this).data("num"),date:$("#dateConsultation").val(),fond:$(this).data("fond")},loadRevision)});bindNavDateChronoLink();$("#label_lois").on("click touch",function(){var a=$("#form_lois");isErrorTemplate(a)||
($("#page_lois").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/lois","/searchLois/ajax",a,"lois","onglet",!0))});$("#label_all").on("click touch",function(){var a=$("#form_all");isErrorTemplate(a)||($("#page_all").val(1),a=a.serialize(),launchAjaxRequest("/search/all","/searchAll/ajax",a,"all","onglet",!1))});$("#label_code").on("click touch",function(){var a=$("#form_code");isErrorTemplate(a)||($("#page_code").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/code",
"/searchCode/ajax",a,"code","onglet",!0))});$("#label_kali").on("click touch",function(){var a=$("#form_kali");isErrorTemplate(a)||($("#page_kali").val(1),a=a.serialize(),launchAjaxRequest("/search/kali","/searchKali/ajax",a,"kali","onglet",!0))});$("#label_constit").on("click touch",function(){var a=$("#form_constit");isErrorTemplate(a)||($("#page_constit").val(1),a=a.serialize(),launchAjaxRequest("/search/constit","/searchConstit/ajax",a,"constit","onglet",!1))});$("#label_cetat").on("click touch",
function(){var a=$("#form_cetat");isErrorTemplate(a)||($("#page_cetat").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/cetat","/searchCetat/ajax",a,"cetat","onglet",!0))});$("#label_juri").on("click touch",function(){var a=$("#form_juri");isErrorTemplate(a)||($("#page_juri").val(1),a=a.serialize(),launchAjaxRequest("/search/juri","/searchJuri/ajax",a,"juri","onglet",!1))});$("#label_jorf").on("click touch",function(){var a=$("#form_jorf");isErrorTemplate(a)||($("#page_jorf").val(1),
addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/jorf","/searchJorf/ajax",a,"jorf","onglet",!0))});$("#label_cnil").on("click touch",function(){var a=$("#form_cnil");isErrorTemplate(a)||($("#page_cnil").val(1),a=a.serialize(),launchAjaxRequest("/search/cnil","/searchCnil/ajax",a,"cnil","onglet",!1))});$("#label_jufi").on("click touch",function(){var a=$("#form_jufi");isErrorTemplate(a)||($("#page_jufi").val(1),addCheckValueToForm(a),a=a.serialize(),launchAjaxRequest("/search/jufi",
"/searchJufi/ajax",a,"jufi","onglet",!0))});$(window).on("popstate",function(){!1!==firstLoad&&!1!==isSafari||location.reload(!0);firstLoad=!1});$(".search-filter-criterion-submit .input-date, .search-filter-criterion-submit .input-single").on("keypress",function(a){13==a.which&&formFacetteSoumission(this)});$(".search-chrono").on("click keypress touch",function(a){a11yClick(a)&&navigationDate($("#datepicker").val());9!==a.keyCode&&a.preventDefault()});$(".search-chrono-sticky").on("click keypress touch",
function(a){a11yClick(a)&&navigationDate($("#datepicker2").val());9!==a.keyCode&&a.preventDefault()});$(".input-date-chrono").on("keypress",function(a){13==a.which&&navigationDate($("#datepicker").val())});$(".input-date-chrono2").on("keypress",function(a){13==a.which&&navigationDate($("#datepicker2").val())});$(".search-facet .search-filter-criterion-title .form-check-input").on("change",function(a){$(this).is(":checked")&&formFacetteSoumission(this)});$(".js-tablist__link.tabs__link*[aria-selected\x3dtrue]").each(function(){var a=
!1,c=$(this).attr("id");$("*[aria-labelledby\x3d"+c+"]").each(function(){0<$(this).find(".loader").length&&(a=!0)});a&&$(this).trigger("click")});$("#recherche-sommaire").on("click touch keypress",function(a){a11yClick(a)&&(rechercheSommaireCode(),getResultCount())});$("#small-search").on("keypress",function(a){13===a.keyCode&&(rechercheSommaireCode(),getResultCount())});$("#seeAbrogatedSummary").on("click touch keypress",function(a){""!=$(document).find(".nbResult").text()&&getResultCount()});$("#reset-link-sommaire").on("click touch keypress",
function(a){a11yClick(a)&&(reinitSearchSommaire(),$(".js-toggle-sommary").click(),$("#small-search").val(""))});$("#recherche-noeud").on("click touch keypress",function(a){a11yClick(a)&&(rechercheNoeudCode(),getResultCount())});$("#small-search-noeud").on("keypress",function(a){13===a.keyCode&&(rechercheNoeudCode(),getResultCount())});$("#reset-link-noeud").on("click touch keypress",function(a){a11yClick(a)&&(reinitSearchNoeud(),$("#small-search-noeud").val(""))});$(".download-link-secure").each(function(){$(this).on("click touch keypress",
{id:$(this).data("textid")},captchaLink)});$("#btnAfficheChrono").on("click touch keypress",loadChronolegi);$("#btnAfficheChronoArticle").on("click touch keypress",loadChronolegiArticle);addEventListCode();$(".facette-auto-suggest").length&&updateSuggestFacette(facetteSuggestion,facetteSuggestionGroup);$(".facette-liste-auto-suggest").length&&updateSuggestFacette(facetteSuggestion,facetteSuggestionGroup,"/liste");$("#recherche-dossiers-legislatifs").on("click touch keypress",function(a){a11yClick(a)&&
rechercheListeDossiersLegislatifs()});$("#small-search-dossiers-legislatifs").on("keypress",function(a){13===a.keyCode&&rechercheListeDossiersLegislatifs()});$("#reset-link-dossiers-legislatifs").on("click touch keypress",function(a){a11yClick(a)&&(reinitRechercherListeDossiersLegislatifs(),$("#small-search-dossiers-legislatifs").val(""),$("#liste-dossiers-legislatifs").find(".js-expandmore-button").first().click())});if($("#anchor-to-go").length&&""!==$("#anchor-to-go").val()){var a=window.location.hash.substr(1);
a&&a!==$("#anchor-to-go").val()?goToAnchor(a):goToAnchor($("#anchor-to-go").val())}else null!=window.location.hash&&""!==window.location.hash&&(a=window.location.hash.substr(1),goToAnchor(a));$(window).scroll(function(){isScroll=!0});$("#numLoiDef").on("keypress",function(a){a11yClick(a)&&formFacetteSoumission(this)});$(".is-opened-desktop").each(function(){if(!isDeviceMobile()){var a=$(this).get(0).id;$("#"+a).attr("data-hidden","false");$("#label_"+a).attr("aria-expanded","true")}});$("button.js-simple-tooltip").on("click touch",
function(a){a.preventDefault()})});
function pliDepliSommaireNoeud(a){a=$("#"+a);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off");b==c?(a.attr("aria-expanded","false"),a.attr("aria-pressed","false"),$(".cacher-noeud").hide(),$(".cacher-noeud .articles-code").children(".abrogated").hide(),a.addClass("closed"),a.removeClass("opened"),$(".scroll-sommaire").css("max-height",""),$(".scroll-sommaire").css("overflow-y",""),$(".decalScrollBar").css("margin-left",""),$("[name\x3d'seeAbrogated']").is(":checked")?$("a.articleLink.abrogated").hide():
$("a.articleLink.abrogated").show(),a.text(d)):(a.attr("aria-expanded","true"),a.attr("aria-pressed","true"),$("[name\x3d'seeAbrogated']").is(":checked")?($(".cacher-noeud").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),b=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id"),window.location.href.includes("conv_coll")?showHideAbrogatedKali($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),b):showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),
b)):($(".cacher-noeud[data-sa\x3d'false'], .cacher-noeud:not(.abrogated)").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").show(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").show()),a.addClass("opened"),a.removeClass("closed"),$(".scroll-sommaire").css("max-height","300px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left","15px"),a.text(c));updateSeeAbrogated()}
function pliDepliSommaireNoeudLodaJorf(a){a=$("#"+a);var b=a.text(),c=a.attr("data-on"),d=a.attr("data-off");b==c?(a.attr("aria-expanded","false"),$(".cacher-noeud").show(),$("[name\x3d'seeAbrogated']").is(":checked")&&$("[data-sa\x3d'true']").hide(),$(".cacher-noeud[data-sa\x3d'false'], .cacher-noeud:not(.abrogated)").hide(),a.addClass("closed"),a.removeClass("opened"),$(".scroll-sommaire").css("max-height","150px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left",
"15px"),a.text(d)):(a.attr("aria-expanded","true"),$("[name\x3d'seeAbrogated']").is(":checked")?($(".cacher-noeud").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide()):($(".cacher-noeud[data-sa\x3d'false'], .cacher-noeud:not(.abrogated)").show(),$(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").show(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").show()),a.addClass("opened"),a.removeClass("closed"),$(".scroll-sommaire").css("max-height",
"300px"),$(".scroll-sommaire").css("overflow-y","auto"),$(".decalScrollBar").css("margin-left","15px"),a.text(c));updateSeeAbrogated()}function isSommaireExists(){return 1===$("#navigationSommaire").length?!0:!1}function isSommaireDeplie(){var a=$("#navigationSommaire");return a.text()===a.attr("data-on")}function isRequestAlreadyLaunch(a){return 0>getIndexRequest(a)?!1:!0}function getIndexRequest(a){var b=-1;$.each(requestWaiting,function(c,d){d.id===a.id&&d.data===a.data&&(b=c)});return b}
function rechercheSommaireCode(){var a=removeSpecialCar($("#small-search").val()),b=$("#liste-sommaire");reinitSearchSommaire();if(null!=a&&""!==$.trim(a))if($("#searchInAllCode").is(":checked"))redirectSearchCode($("#small-search").val());else if($("#searchInAllKali").is(":checked"))redirectSearchKali($("#small-search").val());else if($("#searchInAllLoda").is(":checked"))redirectSearchLoda($("#small-search").val());else if($("#searchInAllJorf").is(":checked"))redirectSearchJorf($("#small-search").val());
else{var c=window.location.href;c.includes("article_lc")?(b=$("#liste-sommaire-noeud"),$("article.list-article-consommation").each(function(){searchNodeArticle($(this).children("div"),a)})):(b.children("li").each(function(){searchNode($(this),a)}),c.includes("conv_coll")||c.includes("codes/texte_lc")||b.children("li").each(function(){searchNodeArticle($(this),a)}));"undefined"!==typeof $("#navigationSommaire").attr("class")&&$("#navigationSommaire").attr("class").includes("closed")&&$("#navigationSommaire").trigger("click");
markRecursif(null)}$("html, body").animate({scrollTop:b.offset().top},800);$("#recherche-sommaire").focus()}function getResultCount(){var a=$("#liste-sommaire,#liste-sommaire-noeud,#liste-article-noeud").find("mark"),b=[];$("#seeAbrogatedSummary").is(":checked")?showNbHighlight(a.length):(a.each(function(){$(this).parent().hasClass("abrogated")||b.push($(this))}),showNbHighlight(b.length))}
function showNbHighlight(a){var b=$(document).find(".nbResult");0==a?b.text("Aucun résultat trouvé"):1==a?b.text("1 résultat trouvé"):b.text(a+" résultats trouvés")}
function searchNode(a,b){var c=!1;a.children(".js-child").each(function(){$(this).children("li").each(function(){c=searchNode($(this),b)||c});$(this).children("ul.js-child").each(function(){$(this).children("li").each(function(){c=searchNode($(this),b)||c})})});var d=a.children("a").first();null!=d.html()&&(c=highLight(d,b)||c);null==d.html()&&(d=a.children("span").children("a").first(),c=highLight(d,b)||c);null==d.html()&&a.children("li").each(function(){var a=!1,a=highLight($(this).children("a").last(),
b)||a;pliDepliNoeud($(this),a);var c=$(this);$(this).children("ul.js-child").each(function(){$(this).children("li").each(function(){var a=!1,a=highLight($(this).children("a").last(),b)||a;pliDepliNoeud($(c),a);1==a&&pliDepliNoeud($(c),!0)})})});d=a.children("a.section-non-selectionne").first();c=highLight(d,b)||c;a.children(".js-child").first().children("p.articles-code").first().children("a").each(function(){c=highLight($(this),b)||c});d=a.children("button").first();c?(a.addClass("opened"),d.addClass("opened"),
d.attr("aria-expanded","true")):(a.removeClass("opened"),d.removeClass("opened"),d.attr("aria-expanded","false"));return c}function pliDepliNoeud(a,b){var c=a.children("button").first();b?(a.addClass("opened"),c.addClass("opened"),c.attr("aria-expanded","true")):(a.removeClass("opened"),c.removeClass("opened"),c.attr("aria-expanded","false"))}
function searchNodeArticle(a,b){var c=!1;a.children(".js-child").each(function(){$(this).children("li, div").each(function(){c=searchNodeArticle($(this),b)||c});$(this).children("ul.js-child, article.js-child").each(function(){$(this).children("li, div").each(function(){c=searchNodeArticle($(this),b)||c})})});var d=a.children("h3").first(),c=highLight(d,b)||c,d=a.children("div.content").first(),c=highLight(d,b)||c,d=a.children("button").first();c?(a.addClass("opened"),d.addClass("opened"),d.attr("aria-expanded",
"true")):(a.removeClass("opened"),a.addClass("hidden-section"),d.removeClass("opened"),d.attr("aria-expanded","false"));return c}function rechercheListeDossiersLegislatifs(){var a=removeSpecialCar($("#small-search-dossiers-legislatifs").val()),b=$("#liste-dossiers-legislatifs");reinitRechercherListeDossiersLegislatifs();null!=a&&""!==$.trim(a)&&b.children(".expandmore__to_expand").each(function(){searchDossiersLegislatifsNode($(this),a)})}
function searchDossiersLegislatifsNode(a,b){var c=!1;a.find(".dossier-legislatif-item-link a").each(function(){c=highLight($(this),b)||c});c&&(a=a.children(".js-expandmore").children(".js-expandmore-button"),"false"===a.attr("aria-expanded")&&a.click());return c}
function reinitRechercherListeDossiersLegislatifs(){var a=$("#liste-dossiers-legislatifs");a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.find(".js-expandmore-button").each(function(){"true"===$(this).attr("aria-expanded")&&$(this).click()})}
function removeSpecialCar(a){for(var b=[["[àáâãäå]","a"],["ç","c"],["[èéêë]","e"],["[ìíîï]","i"],["ñ","n"],["[òóôõö]","o"],["[ùúûü]","u"],["[ýÿ]","y"]],c=0;c<b.length;++c)a=a.replace(new RegExp(b[c][0],"gi"),function(a){return a.toUpperCase()===a?b[c][1].toUpperCase():b[c][1]});return a}
function reinitSearchSommaire(){$("#seeHighlightConsult").is(":checked")&&$("#seeHighlightConsult").attr("checked",!1);var a=$("#liste-sommaire");a.find("mark").each(function(){$(this).replaceWith($(this).html())});$("#conteneurSommaire #liste-sommaire-noeud").find("mark").each(function(){$(this).replaceWith($(this).html())});a.find("li").each(function(){reInitExpanded($(this),!0,!0)});$("#conteneurSommaire #liste-sommaire-noeud").find("li").each(function(){reInitExpanded($(this),!1,!0)});$("#conteneurSommaire #liste-sommaire-noeud").find("li.montrer-noeud").each(function(){reInitExpanded($(this),
!0,!1)});a.find("mark").each(function(){$(this).replaceWith($(this).html())});a.children("li, div").each(function(){reInitExpandedArticle($(this),!0)});window.location.href.includes("article_lc")&&($(".list-article-consommation").find("mark").each(function(){$(this).replaceWith($(this).html())}),$(".list-article-consommation").children("li, div").each(function(){reInitExpandedArticle($(this),!0)}));"true"===$("#navigationSommaire").attr("aria-expanded")&&$("#navigationSommaire").trigger("click")}
function reInitExpanded(a,b,c){var d=!1;a.children(".js-child").each(function(){$(this).children("li").each(function(){d=reInitExpanded($(this),b&&c,c)||d})});b=b||d;var f=a.children("button").first();b?(a.addClass("opened"),f.addClass("opened"),f.attr("aria-expanded","true")):(a.removeClass("opened"),f.removeClass("opened"),f.attr("aria-expanded","false"));"listeSectionCourante"===a.attr("id")&&(b=!0);return b}
function reInitExpandedArticle(a,b){a.children(".js-child").each(function(){$(this).children("li, div").each(function(){b=reInitExpandedArticle($(this),!0)})});var c=a.children("button").first();"listeSectionCourante"===a.attr("id")&&$("div.js-child").children("ul").each(function(){$(this).addClass("hidden-section")});b?(a.addClass("opened"),c.addClass("opened"),c.attr("aria-expanded","true"),a.removeClass("hidden-section")):(a.removeClass("opened"),c.removeClass("opened"),c.attr("aria-expanded",
"false"));return b}
function rechercheNoeudCode(){var a=removeSpecialCar($("#small-search-noeud").val());$("#liste-sommaire-noeud");var b=$("#liste-article-noeud");reinitSearchNoeud();if(null!=a&&""!==$.trim(a)){if($("#searchInAllCode").is(":checked"))redirectSearchCode($("#small-search-noeud").val());else if($("#searchInAllKali").is(":checked"))redirectSearchKali($("#small-search-noeud").val());else if($("#searchInAllLoda").is(":checked"))redirectSearchLoda($("#small-search-noeud").val());else if($("#searchInAllJorf").is(":checked"))redirectSearchJorf($("#small-search-noeud").val());else{var c=
window.location.href;c.includes("article_lc")||c.includes("article_jo")||c.includes("loda")&&c.includes("id")?(b=$("article.list-article-consommation"),b.each(function(){searchNodeArticle($(this).children("div"),a)})):c.includes("jorf")&&c.includes("id")?(b=$("article.list-article-consommation"),$("article").each(function(){searchNodeArticle($(this).children("div"),a)})):b.children("li").each(function(){searchNodeArticle($(this),a)});$("#navigationSommaire").attr("class").includes("closed")&&$("#navigationSommaire").trigger("click");
markRecursif("-noeud")}$("html, body").animate({scrollTop:b.offset().top},800,function(){$("#recherche-noeud").focus()})}}
function markRecursif(a){if("true"===$("#navigationSommaire").attr("aria-expanded")){var b=window.location.href;null!=a?$("#conteneurSommaire #liste-sommaire-noeud").children("li").each(function(){searchNode($(this),removeSpecialCar($("#small-search-noeud").val()))}):b.includes("loda/article_lc")?$("#conteneurSommaire #liste-sommaire-noeud").children("li").each(function(){searchNode($(this),removeSpecialCar($("#small-search").val()))}):$("#conteneurSommaire #liste-sommaire-noeud").each(function(){searchNode($(this),
removeSpecialCar($("#small-search").val()))})}else setTimeout(function(){markRecursif(a)},300)}
function reinitSearchNoeud(){$("#seeHighlightConsult").is(":checked")&&$("#seeHighlightConsult").attr("checked",!1);var a=$("#liste-sommaire-noeud"),b=window.location.href,c=$("#listeSectionCourante");a.find("mark").each(function(){$(this).replaceWith($(this).html())});b.includes("/article_jo")&&($("#conteneurSommaire #liste-sommaire-noeud").find("mark").each(function(){$(this).replaceWith($(this).html())}),$("#conteneurSommaire #liste-sommaire-noeud").children("li").each(function(){reInitExpanded($(this),
!1,!0)}));a.children("li").each(function(){reInitExpanded($(this),!1,!0)});b.includes("article_lc")||b.includes("article_jo")||b.includes("loda")&&b.includes("id")||b.includes("jorf")&&b.includes("id")?(b=$(".list-article-consommation"),b.find("mark").each(function(){$(this).replaceWith($(this).html())}),b.each(function(){reInitExpandedArticle($(this),!0)}),$(".summary-preface").find("mark").each(function(){$(this).replaceWith($(this).html())}),$("h2").find("mark").each(function(){$(this).replaceWith($(this).html())}),
a.children("li, div").each(function(){reInitExpandedArticle($(this),!0)}),"item-current opened"===c.attr("class")&&c.removeClass("opened")):(b=$("#liste-article-noeud"),b.find("mark").each(function(){$(this).replaceWith($(this).html())}));b.children("li, div").each(function(){reInitExpandedArticle($(this),!0)});"true"===$("#navigationSommaire").attr("aria-expanded")&&$("#navigationSommaire").trigger("click")}
function highLight(a,b){var c=!1,d=!1,f=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$\x26"),f=new RegExp(f,"gi"),g=a.html();null!=g&&""!==g?(a.children().each(function(){c=highLight($(this),b)||c;d=!0}),g=a.html()):g=a.text();if(""!==g){var h=removeSpecialCar(g);if(d)for(var k=/(<[^/][^>]*>)[^><]*(<\/[^>]*>)|(<(br|img)[^>]*>)/gi;h.match(k);)for(var l,m=/(<[^/][^>]*>)[^><]*(<\/[^>]*>)|(<(br|img)[^>]*>)/gi;null!==(l=m.exec(h));){var n=l[0].length;l=l.index;for(var p="",q=0;q<n;q++)p+=" ";h=h.substr(0,l)+
p+h.substr(l+n)}k=[];if(h.match(f)){for(c=!0;null!==(m=f.exec(h));)k.push(m.index);f="";for(m=m=h=0;m<k.length;m++)n=g.substr(h,k[m]-h),f+=n,f+="\x3cmark\x3e"+g.substr(k[m],b.length)+"\x3c/mark\x3e",h+=b.length+n.length;f+=g.substr(h,g.length-h);a.html(f)}}return c}
function redirectSearchCode(a){a="/search/code?query\x3d"+encodeURIComponent(a);a+="\x26typeRecherche\x3ddate\x26dateVersion\x3d"+encodeURIComponent($("#datepicker").val());a+="\x26nomCode\x3d"+encodeURIComponent($("#codeTitleInput").val());window.location.href=a+"\x26searchField\x3dALL\x26tab_selection\x3dcode\x26page\x3d1#code"}
function redirectSearchKali(a){a="/search/kali?query\x3d"+encodeURIComponent(a);a+="\x26cidKaliCont\x3d"+encodeURIComponent($("#kaliIdContInput").val());window.location.href=a+"\x26searchField\x3dALL\x26searchProximity\x3d\x26searchType\x3dALL\x26tab_selection\x3dkali\x26page\x3d1#kali"}
function redirectSearchLoda(a){a="/search/lois?query\x3d"+encodeURIComponent(a);a+="\x26typeRecherche\x3ddate\x26dateVersion\x3d"+encodeURIComponent($("#datepicker").val());window.location.href=a+"\x26searchField\x3dALL\x26tab_selection\x3dlawarticledecree\x26page\x3d1\x26init\x3dtrue#loda"}
function redirectSearchJorf(a){a="/search/jorf?query\x3d"+encodeURIComponent(a);a+="\x26typeRecherche\x3ddate\x26dateVersion\x3d"+encodeURIComponent($("#datepicker").val());window.location.href=a+"\x26searchField\x3dALL\x26tab_selection\x3djorf\x26page\x3d1\x26init\x3dtrue#jorf"}function changementComparaison(){var a=document.getElementById("selectGauche").value,b=document.getElementById("selectDroite").value;chargeComparaisonGenerale(a,b)}
function loadChronolegi(a){if(a11yClick(a)){a="cidText\x3d"+$("#btnAfficheChrono").data("chronoid");a+="\x26libText\x3d"+$("#btnAfficheChrono").data("libtext");a+="\x26dateConsult\x3d"+$("#btnAfficheChrono").data("dateconsult");a+="\x26type\x3d"+$("#btnAfficheChrono").data("type");var b=$("#btnAfficheChrono").data("navigation");a=b?a+("\x26navigation\x3d"+b):a+"\x26navigation\x3dfalse";b=$("#btnAfficheChrono").data("chronocidsection");null!=b&&""!==b&&"undefined"!==b&&(a=a+("\x26cidSection\x3d"+b)+
("\x26libSection\x3d"+$("#btnAfficheChrono").data("libsection")));b=$("#btnAfficheChrono").data("chronoidsection");null!=b&&""!==b&&"undefined"!==b&&(a+="\x26idSection\x3d"+b);(b=$("#btnAfficheChrono").data("dateconsult"))&&(a=a+("\x26startYear\x3d"+b)+("\x26endYear\x3d"+b));$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},
url:"/chronolegi",type:"GET",data:a,dataType:"html",success:function(a,b){0<=a.indexOf("modal-content")?($(".modal-dialog.chronolegi.timeline-modal").html(a),bindChronoDetailButtonOfParent($(".modal-dialog.chronolegi.timeline-modal")),bindNavDateChronoLinkOfParent($(".modal-dialog.chronolegi.timeline-modal")),openDefaultSection("modal-timeline"),trapFocus($(".modal-dialog.chronolegi.timeline-modal")),$("#btnAfficheChrono").off("click keypress touch",loadChronolegi),$(".accordion-timeline-item:not(.version-init)").on("click touch keypress",
function(){"false"===$(this).attr("data-is-detail-loaded")&&updateChronoLegiYearDetails($(this))})):$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html(a)},error:function(a,b,f){$(".modal-dialog.chronolegi.timeline-modal").find(".modal-body").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}}
function loadChronolegiArticle(a){if(a11yClick(a)&&(a=$(".ajax-load-tab-revision"),0!=a.length)){var b=!window.location.href.includes("article"),b={articleCid:encodeURIComponent(sanitizeAlpha(a.data("articlecid"))),articleId:encodeURIComponent(sanitizeAlpha(a.data("articleid"))),texteCid:encodeURIComponent(sanitizeAlpha(a.data("textecid"))),num:void 0===a.data("num")?"":encodeURIComponent(a.data("num")),dateConsult:encodeURIComponent($("#dateConsultation").val()),idComplement:encodeURIComponent("-M"+
a.data("complement")),abrogated:encodeURIComponent(a.data("abrogated")),isInContext:b,showInModal:!0};"CODE"===a.data("fond")&&(b.loadAll="true");"LODA"===a.data("fond")&&(b.loadAll="true");ajaxRequestReloadContentArticle("","/articleRevision",b)}}function bindNavDateChronoLink(){$(".version-navigation").each(function(){$(this).on("click keypress touch",{date:$(this).data("date")},navigationRevision)})}
function bindNavDateChronoLinkOfParent(a){$(a).find(".version-navigation").each(function(){$(this).on("click keypress touch",{date:$(this).data("date")},navigationRevision)})}function bindChronoDetailButtonOfParent(a){$(a).find(".detail-timeline button").click(function(a){a.preventDefault();a=$(this).parents(".detail-timeline").siblings(".content-detail-timeline").find(".content-tip-timeline");toggleTip($(this),a)})}
function bindSubmissionCaptchaEvent(){$(".legifrance-captcha-form").submit(function(a){a=$(this).find('input[name\x3d"captcha"]').first().val();verifyCaptcha(a);return!1})}function verifyCaptcha(a){isScroll=!1;secureLinkValidation(idCaptcha,a)}function errorCaptcha(){secureLinkValidation(idCaptcha,"invalid")}
function captchaLink(a){if(a11yClick(a)){a=a.data.id;var b=$("#secure-download-"+a);$(".secure-download").not(b).fadeOut(0,function(){$(this).addClass("hidden-div");$(this).html("")});$("#secure-download-"+a).hasClass("hidden-div")?(secureLinkValidation(a),b.parent().children("a").attr("aria-expanded","true")):(b.fadeOut("slow",function(){b.addClass("hidden-div");b.html("")}),b.parent().children("a").attr("aria-expanded","false"))}}
function secureLinkValidation(a,b,c){var d=$("#secure-download-"+a),f={id:encodeURIComponent(a)};null!=b&&(f.captcha=encodeURIComponent(b));(b=$("#pagePdf").val())&&(f.pagePdf=encodeURIComponent(b));$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:"/download/url",type:"GET",cache:!1,data:f,
dataType:"html",success:function(b,f){d.replaceWith(b);bindSubmissionCaptchaEvent();idCaptcha=a;clearTimeout(timeoutRefreshCaptcha);timeoutRefreshCaptcha=setTimeout(function(){secureLinkValidation(a,null,null)},305E3);d=$("#secure-download-"+a);d.hasClass("hidden-div")&&d.fadeIn("slow",function(){d.removeClass("hidden-div")});(null==c||!c)&&0<$("#jo-"+a).length&&$("html, body").animate({scrollTop:$("#jo-"+a).offset().top},0)},error:function(a,b,c){}})}
function addEventListCode(){if($("#quick-search-input").length){var a=!1,b={data:listeCodeName,requestDelay:500,highlightPhrase:!0,minCharNumber:1,list:{match:{enabled:!0,method:function(a,b){a=removeSpecialCar(a);b=removeSpecialCar(b);return-1<a.search(b)}},onKeyEnterEvent:function(){if(a){var b=$("#quick-search-input").serialize();launchAjaxRequest("/liste/code","/listeCode/ajax",b,"code","facette",!0)}},onClickEvent:function(){var a=$("#quick-search-input").serialize();launchAjaxRequest("/liste/code",
"/listeCode/ajax",a,"code","facette",!0)},onSelectItemEvent:function(){a=!0},onHideListEvent:function(){a=!1}}};$("#quick-search-input").easyAutocomplete(b)}$("#quick-search-input").on("keypress",function(a){13===a.keyCode&&(searchInCodeList(this),a.preventDefault())});$("#quick-search-submit").on("click",function(a){searchInCodeList($("#quick-search-input"))})}function searchInCodeList(a){a=$(a).serialize();launchAjaxRequest("/liste/code","/listeCode/ajax",a,"code","facette",!0)}
function changePageSize(a){var b=decodeURIComponent(encodeURIComponent(window.location.toString()));a=$("#"+a).val();if(-1<b.indexOf("?")){for(var c=b.split("?")[1].split("\x26"),d=/page=(\d+)/g,f=/pageSize=(\d+)/g,g="",h=0;h<c.length;h++)c[h].match(d)||c[h].match(f)||(g+=c[h]+"\x26");window.location.href=b.split("?")[0]+"?"+g+"page\x3d1\x26pageSize\x3d"+a}else window.location.href=b+"?page\x3d1\x26pageSize\x3d"+a}
function showHideAbrogated(a,b){Cookies.set("seeAbrogated-"+b,a,{secure:!0});b=$("[data-a\x3d'true']");var c=$(".code-consommation-list button.expanded").attr("aria-expanded");!0===a?(b.hide(),b.attr("aria-hidden","true"),b.each(function(){var a=$(this).closest("ul");0>=a.find("[data-a\x3d'true']").length&&(a.hide(),a.attr("aria-hidden","false"))}),isSommaireDeplie()?($(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()):
$("a.articleLink.abrogated").hide()):(b.show(),b.attr("aria-hidden","false"),b.each(function(){var a=$(this).closest("ul");1==c&&a.show();a.attr("aria-hidden","false")}),isSommaireDeplie()?($("[data-sa\x3d'true'], .abrogated").show(),$("[data-sa\x3d'true'], .abrogated").attr("aria-hidden","true")):$("a.articleLink.abrogated").show());updateSeeAbrogated()}
function showHideAbrogatedKali(a,b){Cookies.set("seeAbrogated-"+b,a,{secure:!0});b=$("[data-a\x3d'true']");!0===a?(b.show(),b.attr("aria-hidden","false"),isSommaireDeplie()?($("[data-sa\x3d'true'], .abrogated").show(),$("[data-sa\x3d'true'], .abrogated").attr("aria-hidden","false")):isSommaireExists()?$("[data-sa\x3d'true']").hide():$("[data-sa\x3d'true']").show()):(b.hide(),b.attr("aria-hidden","true"),isSommaireDeplie()?($("[data-sa\x3d'true'], .abrogated").hide(),$(".articles-code").children("[data-sa\x3d'true'], .abrogated").hide()):
$("[data-sa\x3d'true']").hide());updateSeeAbrogated()}
function showHideAbrogatedLodaJorf(a,b){Cookies.set("seeAbrogated-"+b,a,{secure:!0});b=$("[data-a\x3d'true']");!0===a?(b.hide(),b.attr("aria-hidden","true"),b.each(function(){var a=$(this).closest("ul");0>=a.find("[data-a\x3d'false']").length&&(a.hide(),a.attr("aria-hidden","false"))}),isSommaireDeplie()?($(".cacher-noeud[data-sa\x3d'true'], .cacher-noeud.abrogated").hide(),$(".cacher-noeud .articles-code").children("[data-sa\x3d'true'], .abrogated").hide()):$("[data-sa\x3d'true']").hide()):(b.show(),
b.attr("aria-hidden","false"),b.each(function(){var a=$(this).closest("ul");a.show();a.attr("aria-hidden","false")}),isSommaireDeplie()?($("[data-sa\x3d'true'], .abrogated").show(),$("[data-sa\x3d'true'], .abrogated").attr("aria-hidden","false")):$("[data-sa\x3d'true']").show());updateSeeAbrogated()}
function updateSeeAbrogated(){if(0!==$("[name\x3d'seeAbrogated']").length){var a=$("[name\x3d'seeAbrogated']").parent(".see-abrogated");0<$("[data-a\x3d'true']").length||0<$("[data-sa\x3d'true']").length?(a.show(),a.attr("aria-hidden","false")):(a.hide(),a.attr("aria-hidden","true"))}}function deleteAdvancedFilter(a,b){a=document.getElementById(a);a.parentNode.removeChild(a);$("#"+b+":not(:has(li))").remove();$(".advanced-filter:not(:has(li))").remove();facetteSoumission("/search")}
function goToAnchor(a){var b=window.location.pathname.split("/");window.location.hash.substr(1);var c=0,d,f,g="undefined"!==typeof InstallTrigger,h=!!document.documentMode;if(!isEmpty(a)&&a.startsWith("JORFTEXT")||a.startsWith("LEGITEXT")){if(d=$("[data-anchor\x3d'topAnchor']"),0<d.length){f=d.first();if("codes"==b[1])c=120+f.position().top-$("[id\x3d'seeAbrogatedSummary']").not(":hidden").position().top;else if(void 0!=$("[id\x3d'navigationSommaire']").not(":hidden").position())c=80+f.position().top-
$("[id\x3d'navigationSommaire']").not(":hidden").position().top;else var k=$("#stickyScroll").length?!0:!1,c=k&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()-9:0;setTimeout(function(){$("html, body").animate({scrollTop:f.offset().top-c},0,function(){focusTarget(f)})},500)}}else{d=$("[data-anchor\x3d'"+a+"']").not(":hidden");0==d.length&&(d=$("[id\x3d'"+a+"']").not(":hidden"));k=$("#stickyScroll").length?!0:!1;if(a.startsWith("LEGISCTA")&&"codes"==b[1]&&void 0!=$("[id\x3d'navigationSommaire']").not(":hidden").position())if(void 0!=
d.first().position())if(0!=$("[data-anchor\x3d'"+a+"']").not(":hidden").length){if(c=k&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()+10:0,g||h)c=k&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()+10:0}else{if(c=$("[id\x3d'navigationSommaire']").not(":hidden").position().top-d.first().position().top,g||h)c=30+$("[id\x3d'navigationSommaire']").not(":hidden").position().top-d.first().position().top}else d=$("[data-anchor\x3d'"+$("h2").attr("data-anchor")+
"']").not(":hidden"),c=80+d.first().position().top-$("[id\x3d'navigationSommaire']").not(":hidden").position().top;else c="article_lc"==b[2]||"article_jo"==b[2]?void 0!=$("[id\x3d'navigationSommaire']").not(":hidden").position()?73+d.first().position().top-$("[id\x3d'navigationSommaire']").not(":hidden").position().top:k&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height():0:k&&window.pageYOffset>=$("#stickyScroll").offset().top?$("#stickyScroll").height()+10:0;0<d.length&&
(f=d.first(),setTimeout(function(){$("html, body").animate({scrollTop:f.offset().top-c},0,function(){focusTarget(f)})},500))}}function isErrorTemplate(a){return 0!==a.find("header").length}
function updatePasswordInfo(a){var b=$("#passwordInfo");if(""===a)b.text("");else{a=zxcvbn(a).score;var c='\x3cspan class\x3d"';0===a&&(c+='password-insuffisant"\x3einsuffisant\x3c/span\x3e');1===a&&(c+='password-faible"\x3efaible\x3c/span\x3e');2===a&&(c+='password-correct"\x3ecorrect\x3c/span\x3e');3===a&&(c+='password-bon"\x3ebon\x3c/span\x3e');4===a&&(c+='password-excellent"\x3eexcellent\x3c/span\x3e');b.html("Mot de passe "+c)}}
function submitActivation(a){cleanError();var b=$("form").find("button[type\x3dsubmit]");b.prop({disabled:a});b.attr("aria-disabled",a)}function cleanError(){$(".alert-danger").remove()}
function updateChronoLegiYearDetails(a){var b=a.attr("data-year"),c=a.attr("data-is-detail-loaded"),d=$("#btnAfficheChrono").data("navigation");d||(d="false");var f=$("#btnAfficheChrono").data("chronoid"),g=$("#btnAfficheChrono").data("libtext"),b={cidText:f,year:b,navigation:d,libText:g};"false"==c&&$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml",
"Content-Type":"text/html, application/xhtml+xml"},url:"/chronolegi/getYear",type:"GET",data:b,dataType:"html",success:function(b,c){0<=b.indexOf('class\x3d"isDetailLoaded"')?(a.find("[id^\x3dexpand_]").html(b),bindChronoDetailButtonOfParent(a),bindNavDateChronoLinkOfParent(a),a.attr("data-is-detail-loaded","true")):a.find("[id^\x3dexpand_]").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")},error:function(b,c,d){a.find("[id^\x3dexpand_]").html("\x3cdiv\x3eErreur de chargement\x3c/div\x3e")}})}
function toogleDlListe(a,b){a=$(a);var c,d;"true"==a.attr("aria-expanded")?(d="Afficher les dossiers législatifs plus anciens",a.text("[+]"),c=$("\x3cspan\x3e\x3c/span\x3e").text(d),c.addClass("displayNone"),a.attr("title",d),a.append(c),a.attr("aria-expanded",!1)):(d="Cacher les dossiers législatifs plus anciens",a.text("[-]"),c=$("\x3cspan\x3e\x3c/span\x3e").text(d),c.addClass("displayNone"),a.attr("title",d),a.append(c),a.attr("aria-expanded",!0));a.closest(".links-categories").children().not(":first").toggleClass("displayNone");
b.preventDefault()}function trapFocus(a){a=a.find("button, a, select").filter(":visible");var b=a.first(),c=a.last();b.focus();c.on("keydown",function(a){9!==a.which||a.shiftKey||(a.preventDefault(),b.focus())});b.on("keydown",function(a){9===a.which&&a.shiftKey&&(a.preventDefault(),c.focus())})}
function checkAnchor(a,b){a=$(a).attr("href");var c=window.location.href;if(a===window.location.pathname+window.location.search+window.location.hash||a===c)a=window.location.hash.substr(1),goToAnchor(a),b.preventDefault()}
function managePageTitle(){var a=window.location.pathname.split("/");if(a.length)if(a=a[1],""==a)$(document).attr("title","Légifrance - Le service public de la diffusion du droit");else if("recherche"==a)$(document).attr("title","Recherche avancée - Légifrance");else if("search"==a){var a=$("main [name\x3dpage]").val(),b=$("strong span").next().text();a&&/^\d+$/.test(a)&&$(document).attr("title","Résultats de recherche, page "+a+" - "+b+" - Légifrance")}}$(document).ready(function(){bindSubmissionCaptchaEvent()});
function buildSummary(a){if(event instanceof KeyboardEvent&&"Enter"!==event.key&&13!=event.keyCode&&" "!==event.key&&"Spacebar"!==event.key&&32!=event.keyCode)return!1;var b=$("#navigationSommaire").attr("isSummaryLoaded"),c=a.summaryFund,d=getTargetUrl(c);if("ARTICLE_PAGE_CODE"==c){a.articleId=window.location.pathname.split("/")[3];try{var f=isEmpty($("#btnAfficheChrono").attr("data-chronoid"))?$("#btnAfficheChronoArticle").attr("data-chronoid"):$("#btnAfficheChrono").attr("data-chronoid");isEmpty(f)||
(a.textId=f)}catch(g){}a.sctCid=$("#listeSectionCourantebutton").attr("aria-describedby")}isSommaireDeplie()||"0"!=b?"1"==b&&handleSummaryBehaviour("navigationSommaire",c):(getOverlaySummaryOn(),$.ajax({type:"GET",contentType:"application/json; charset\x3dUTF-8",url:d,data:a,success:function(a){if(null!=a.content){$("#conteneurSommaire").replaceWith(a.content);handleSummaryBehaviour("navigationSommaire",c);showHideElementForSummaryOnDemand();if(0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length){a=
$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id");$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a));var b=window.location.href;b.split("/");b.includes("conv_coll")?showHideAbrogatedKali($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a):showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)}$("#navigationSommaire").attr("isSummaryLoaded",
"1")}getOverlaySummaryOff()},error:function(a){console.log("Erreur survenue : "+a);getOverlaySummaryOff()}}))}function getTargetUrl(a){if("SECTION_CODE"===a||"LODA_TEXT"===a||"ARTICLE_PAGE_CODE"===a||"ARTICLE_PAGE_LODA"===a)return"/sommaire/textdto";if("JORF_TEXT"===a||"ARTICLE_PAGE_JORF"===a)return"/sommaire/jorfTextdto";if("KALI_TEXT"===a||"ARTICLE_PAGE_KALI"===a)return"/sommaire/kaliTextdto"}
function handleSummaryBehaviour(a,b){"SECTION_CODE"===b||"KALI_TEXT"===b||"ARTICLE_PAGE_CODE"===b||"ARTICLE_PAGE_KALI"===b?pliDepliSommaireNoeud(a):"LODA_TEXT"!==b&&"JORF_TEXT"!==b&&"ARTICLE_PAGE_JORF"!==b&&"ARTICLE_PAGE_LODA"!==b||pliDepliSommaireNoeudLodaJorf(a)}
function showHideElementForSummaryOnDemand(){$(".decalScrollBar").find("button.expanded").click(function(a){a.preventDefault();var b=$(this);a=b.find("span");var c=b.parent(),d=c.find("\x3e .js-child"),f=b.parents(".decalScrollBar").attr("data-on"),b=b.parents(".decalScrollBar").attr("data-off");d.is(":visible")||0==d.is(":visible")&&0===d.length&&c.hasClass("opened")?($(this).removeClass("opened").attr("aria-expanded","false"),c.removeClass("opened"),a.text(b)):($(this).addClass("opened").attr("aria-expanded",
"true"),c.addClass("opened"),a.text(f))})}function updateNbResultHidden(){$("#nb_result_hidden").text($(".nb-result").html())}
function getOverlaySummaryOn(){var a=$(".summary-recall").innerWidth(),b=$(".summary-recall").innerHeight(),c=$(".summary-recall").position().top,d=$(".summary-recall").position().left;$("#overlaySummary").fadeIn("slow");$("#overlaySummary").css("width",a);$("#overlaySummary").css("height",b);$("#overlaySummary").css("top",c);$("#overlaySummary").css("left",d);$("#overlaySummary #spin").css("position","absolute");$("#overlaySummary #spin").css("top",b/2)}
function getOverlaySummaryOff(){$("#overlaySummary").fadeOut("slow")}
function dealWithCheckValue(a){var b=[];a.each(function(){var a=getSelectedItems($(this)),a={id:$(this).attr("id"),liste:a};b.push(a)});showOrHideElements(b);hideEmptyTitles();a.each(function(){var a=$(this).attr("id"),d=[],f=[];$(b).each(function(){this.id!=a&&f.push(this.liste)});if(f.length)for(var g=f[0],h=0;h<g.length;h++){for(var k=!0,l=1;l<f.length;l++)0>$.inArray(g[h],f[l])&&(k=!1);k&&d.push(g[h])}$(this).find(".search-filter-criterion-content .filter-autocomplete").each(function(){var b=jQuery.parseJSON($(this).attr("data-autocomplete"));
if(null==myFacetteNotReload||myFacetteNotReload.attr("data-name")!==$(this).attr("data-name")){var c=$(this).find(".filter-autocomplete-content .search-choice .form-check .form-check-input"),f=[];$(d).each(function(){this.length&&f.push($("#"+this)[0])});c.each(function(){var c=0,d=$(this).attr("value");$(f).each(function(){"Inconnu"!=d&&null!=this.attributes&&null!=this.attributes.getNamedItem("data-"+a)&&this.attributes.getNamedItem("data-"+a).value===d?c++:"Inconnu"===d&&null!=this.attributes&&
null==this.attributes.getNamedItem("data-"+a)&&c++});var g=$(this),k=jQuery.grep(b,function(a){return a.id===g.attr("id")})[0];k.nb=c;k.checked=g.is(":checked")?"checked":""});$(this).find(".filter-autocomplete-content").empty();$(this).attr("data-autocomplete",JSON.stringify(b));instantiateFilterAutocomplete($(this))}})})}
function getSelectedItems(a){var b=a.find(".search-filter-criterion-content .filter-autocomplete .filter-autocomplete-content .search-choice .form-check input.form-check-input:checked"),c=[],d=a.attr("id");b.length?b.each(function(){var a=$(this).attr("value");("Inconnu"!=a?$("div[data-noeud-jorf] li[data-"+d+'\x3d"'+a+'"]'):$("div[data-noeud-jorf] li:not([data-"+d+"])")).each(function(){c.push($(this).attr("id"))})}):$("div[data-noeud-jorf] li").each(function(){c.push($(this).attr("id"))});return c}
function hideEmptyTitles(){$("div[data-noeud-jorf]").each(function(){$(this).find("li[aria-hidden\x3d'false']").length?($(this).show(),$(this).attr("aria-hidden","false")):($(this).hide(),$(this).attr("aria-hidden","true"))})}
function showOrHideElements(a){var b=[],c=[];$(a).each(function(){c.push(this.liste)});if(c.length){a=c[0];for(var d=0;d<a.length;d++){for(var f=!0,g=1;g<c.length;g++)0>$.inArray(a[d],c[g])&&(f=!1);f&&b.push(a[d])}}$("div[data-noeud-jorf] li").each(function(){0<=$.inArray($(this).attr("id"),b)?($(this).show(),$(this).attr("aria-hidden","false")):($(this).hide(),$(this).attr("aria-hidden","true"))})}
function facetteJorfSoumission(a){var b=$("#form_sommaire_jo"),c=b.find(".search-filter .search-filter-content .search-filter-criterion fieldset:has(.search-filter-criterion-content .filter-autocomplete)");null!=a&&a.attr("disabled")&&"disabled"==a.attr("disabled")||dealWithCheckValue(c);updateHistoryUrlWithSearch(b);updateSearchLive();myFacetteNotReload=null}
function updateHistoryUrlWithSearch(a){addCheckValueToForm(a);a=a.find("input[type\x3d'hidden'], .search-filter .search-filter-content .search-filter-criterion .search-filter-criterion-content .filter-autocomplete .filter-autocomplete-content .search-choice .form-check input.form-check-input:checked").serialize();history.pushState(null,"",window.location.pathname+"?"+a)}var charList="/\\\x26;\x3c\x3e".split("");
function deleteBlock(a){if("group-initial"!==a&&"undefined"!==typeof a&&"block-rule-0-1"!==a){var b;b=0<=a.indexOf("group")?$("#"+a).parent().closest("fieldset"):$("#"+a).closest("fieldset");$("#"+a).remove();1>b.children(".item-advanced-search").children(".group-rules").length&&1>b.children(".item-advanced-search").children(".one-rule").length&&deleteBlock(b.attr("id"))}updateSwitch()}function deleteRule(a){deleteBlock(a)}
function createRule(a,b,c,d){b="idLevel\x3d"+b+"\x26numRegle\x3d"+c;2>d&&(b+="\x26firstChild\x3dtrue");ajaxConstruct("/search/createRule",b,a)}function createBlock(a,b,c){b="idLevel\x3d"+b;2>c&&(b+="\x26firstChild\x3dtrue");ajaxConstruct("/search/createBlock",b,a)}
function ajaxConstruct(a,b,c){$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:a,type:"GET",data:b,dataType:"html",success:function(a,b){$("#group-"+c).children("fieldset").children(".item-advanced-search").append(a);a=$("#group-"+c).children("fieldset").children(".item-advanced-search").children().last();
addEvent(a);updateSwitch();updateActions();focusTarget(a)},error:function(a,b,c){}})}
function updateActions(){$(".advanced-search-form .addRule").each(function(a,b){5<=$("#"+$(this).data("cible")).children("fieldset").children(".item-advanced-search").children(".one-rule,.group-rules").length?($(this).parent(".search-action-item").hide(),$(this).parent(".search-action-item").attr("aria-hidden","true")):($(this).parent(".search-action-item").show(),$(this).parent(".search-action-item").attr("aria-hidden","false"))});$(".advanced-search-form .addGroup").each(function(a,b){b=$("#"+$(this).data("cible"));
a=b.children("fieldset").children(".item-advanced-search").children(".one-rule,.group-rules").length;b=b.attr("id").split("group-")[1];5<=a||"initial"!==b&&!b.match(/^block-[0-9]$/gm)&&!b.match(/^block-[0-9]-[0-9]$/gm)?($(this).parent(".search-action-item").hide(),$(this).parent(".search-action-item").attr("aria-hidden","true")):($(this).parent(".search-action-item").show(),$(this).parent(".search-action-item").attr("aria-hidden","false"))})}
function addEvent(a){a.find(".addRule").on("click",function(a){a=$("#"+$(this).data("cible"));var b=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+a.children("fieldset").children(".item-advanced-search").children(".group-rules").length,d=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+1;if(6>d){var f="0",g=a.attr("id").split("group-")[1];"group-initial"!==a.attr("id")&&(f=g);createRule(g,f,d,b)}});a.find(".addGroup").on("click",
function(a){a=$("#"+$(this).data("cible"));var b=a.children("fieldset").children(".item-advanced-search").children(".one-rule").length+a.children("fieldset").children(".item-advanced-search").children(".group-rules").length,d=a.children("fieldset").children(".item-advanced-search").children(".group-rules").length+1,f="1",g=a.attr("id").split("group-")[1];6>d&&("initial"===g||g.match(/^block-[0-9]$/gm)||g.match(/^block-[0-9]-[0-9]$/gm))&&("group-initial"!==a.attr("id")&&(f=g),createBlock(g,f+("-"+
d),b))});a.find(".removeGroup").on("click keypress touch",function(a){a11yClick(a)&&(deleteBlock($(this).data("cible")),updateActions(),updateAlerts())});a.find(".removeRule").on("click keypress touch",function(a){a11yClick(a)&&(deleteRule($(this).data("cible")),updateActions(),updateAlerts())});a.find(".search-select-content").each(function(){checkTargets(this)});a.find(".text-input").on("paste input keydown",function(a){$(".alert")?"":$(".search-advanced-submit button[disabled]").removeAttr("disabled");
if(13==a.keyCode&&!$(".launch-search-btn").attr("disabled")&&0<$(".page-advanced-search-form").length){0<$(".search-remove").length?$(".search-input input").attr("data-validation","required"):$(".search-input input").removeAttr("data-validation");var b=$(".alert-danger").length?!0:!1,d=isValidForm($(".search-input"),!0);$(".launch-search-btn").attr("disabled")||!b&&0!=d?validQuote()&&generateQuery():a.preventDefault()}else 13==a.keyCode&&checkOtherErrors($(".search-input"),!0)});$(".removeRule").click(function(){document.getElementById("input-search-0-1-error")||
($("#input-search-0-1")[0].style.border="0")})}function validQuote(){var a=!0;$(".text-input").each(function(b,c){a&=isValidQuoteMark($(c).val())});return a}function updateSwitch(){$(".item-advanced-search").each(function(){var a=$(this),b=a.find(".type-and-or button");1>=a.children(".one-rule, .group-rules").length?(a.addClass("single"),b.prop("disabled",!0)):(a.removeClass("single"),b.removeAttr("disabled"))})}
function reinitSearch(){$("#group-block-0-radio-and").click();$("#group-initial").children("fieldset").children(".item-advanced-search").children(".group-rules").each(function(){deleteBlock($(this).attr("id"))});$("#group-initial").children("fieldset").children(".item-advanced-search").children(".one-rule").each(function(){deleteRule($(this).attr("id"))});$("#input-search-0-1").val("");$("#select-filter-content-all").click();$("#select-target-group-0-1-input-ALL").click();$("#select-filter-word-0-1-ALL").click();
reinitPreciseFacet();initSearchTagFilter();updateActions()}function updateAlerts(){0===$(".removeRule").length&&0==$("#input-search-0-1").val().length&&($("#input-search-0-1-error").parent().remove(),$("#launch-search-btn-all").removeAttr("disabled"));0===$("alert-danger").length&&$("#launch-search-btn-all").removeAttr("disabled")}
function generateQuery(){var a=generateQueryGroup($("#group-initial")),b=window.location.search,c,d="";c=$("input[name\x3d'tab_selection']:checked").val();"lawarticledecree"===c&&(c="lois");0>=a.length&&(a='{(@ALL[t"*"])}');if(isValidForm($("#form_facette_"+c))){var f="/search/"+c,g=$("#form_facette_"+c).find("select, textarea, input").serialize(),g=g+("\x26"+$("#form_preference_affichage_"+c).find("select, textarea, input").serialize()),g=stripListFromEmptyParam(g),g=0>g.indexOf("etatTexte\x3d\x26")&&
!1===strEndWith(g,"etatTexte\x3d")&&0<=g.indexOf("etatTexte\x3d")||0>g.indexOf("etatArticle\x3d\x26")&&!1===strEndWith(g,"etatArticle\x3d")&&0<=g.indexOf("etatArticle\x3d")?0<g.length?g+"\x26typeRecherche\x3detat":g+"typeRecherche\x3detat":0<g.length?g+"\x26typeRecherche\x3ddate\x26init\x3dtrue":"typeRecherche\x3ddate\x26init\x3dtrue",g=g+"\x26page\x3d1";1<b.split("origine\x3d").length&&(d=b.split("origine\x3d")[1].split("\x26")[0]);1<b.split("searchField\x3d").length&&(d=b.split("searchField\x3d")[1].split("\x26")[0]);
if(""!==b&&$("#select-tab").val()===d){for(var b=b.substring(1),b=b.split("\x26"),d="",h=0;h<b.length;h++){var k=!1,l=b[h].split("\x3d")[0];if("query"===l)d+="query\x3d"+encodeURIComponent(a),k=!0;else if("tab_selection"===l)"lois"===c&&(c="lawarticledecree"),d+="tab_selection\x3d"+c,k=!0;else if(0<l.length){var m=$("select[name\x3d"+l+"],input[name\x3d"+l+"]");0>g.indexOf(l)&&0>=m.length&&(d+=b[h],k=!0)}h<b.length-1&&!0===k&&(d+="\x26")}c=d;0>=c.indexOf("query\x3d")&&(c+="\x26query\x3d"+encodeURIComponent(a))}else"lois"===
c&&(c="lawarticledecree"),c="tab_selection\x3d"+c+("\x26query\x3d"+encodeURIComponent(a));$(".eac-item .pdcSuggest").each(function(){$(this).text()==$("#pdcSearchArbo").val()&&$(".launch-search-btn").attr("value","T")});isEmpty($("#pdcSearchArbo").val())||"F"!=$(".launch-search-btn").attr("value")?0<g.length?(!1===strEndWith(c,"\x26")&&(c+="\x26"),window.location.href=f+"?"+c+g):window.location.href=f+"?"+c:0==$("#pdcError").length?$("#pdcSearchArbo").before('\x3cdiv id\x3d"pdcError" role\x3d"alert" class\x3d"alert alert-danger block-input-errors" aria-live\x3d"assertive" aria-relevant\x3d"additions removals"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv class\x3d"alert-content"\x3e Le mot-clé n\'a pas été trouvé dans le plan de classement\x3c/div\x3e\x3c/div\x3e'):
""}}function strEndWith(a,b){return a.lastIndexOf(b)===a.length-b.length}function generateEntryUrl(){var a=window.location.search,b=window.location.pathname.split("/"),c="";0>a.indexOf("isAdvancedResult\x3dtrue")&&(a=adaptForAdvancedSearch(a));b.length&&(c=b[b.length-1].split(";")[0]);""!==a?0>a.indexOf("origine\x3d")&&(a+="\x26origine\x3d"+c):a="?origine\x3d"+c;window.location.href="/recherche"+a}
function generateQueryRule(a){var b="";a=a.attr("id").split("block-rule-")[1];var c=$("#input-search-"+a).val().replace(/[\(\)]/g,"");if(""!==c){var d=$("#select-refine-"+a).val();"ALL"===d?b=generateALLQuery(c,a):"ONE"===d?b=generateONEQuery(c):"EXCEPT"===d?b=generateEXCEPTQuery(c,a):"EXACT"===d?b=generateEXACTQuery(c,a):"EXACTEXCEPT"===d&&(b=generateEXACTEXCEPTQuery(c,a))}""!==b&&($("#select-target-group-"+a+"-control").length&&(b="@"+$("#select-target-group-"+a+"-control").val()+"["+b+"]"),b="("+
b+")");return b}function generateALLQuery(a,b){var c="";b=$("#select-filter-word-"+b+"-proximity").val();c+='t"'+a+'"';0<b.length&&(c+="~"+b);return c}function generateONEQuery(a){return""+('u"'+a+'"')}function generateEXCEPTQuery(a,b){return""+('s"'+a+'"')}function generateEXACTQuery(a,b){return'e"'+a+'"'}function generateEXACTEXCEPTQuery(a,b){return'r"'+a+'"'}
function generateQueryGroup(a){var b="",c="";if(null!=a.attr("id")){var d=a.attr("id").replace("initial","block-0"),c=$("#"+d+"-radio-and").is(":checked")?" \x26\x26 ":" || ",f=!0;a.children("fieldset").children(".item-advanced-search").children(".one-rule").each(function(){if(f)b+=generateQueryRule($(this)),f=!1;else{var a=generateQueryRule($(this));""!==a&&(b+=c+a)}});a.children("fieldset").children(".item-advanced-search").children(".group-rules").each(function(){if(f)b+=generateQueryGroup($(this)),
f=!1;else{var a=generateQueryGroup($(this));""!==a&&(b+=c+a)}})}""!==b&&(b="{"+decodeURIComponent(encodeURIComponent(b))+"}",$("#select-target-group-"+a.attr("id")+"-control").length&&(b="@"+$("#select-target-group-"+a.attr("id")+"-control").val()+"["+b+"]"));return b}
function generatePreciseQuery(){var a=window.location.search,b="all";$("#fonds").find(".form-check-input:checked").each(function(a,c){b=$(c).val().toLowerCase()});"legi"===b?(b="lois",a=a.replace(/tab_selection=all/g,"tab_selection\x3dlawarticledecree"),a+="\x26init\x3dtrue"):a=a.replace(/tab_selection=all/g,"tab_selection\x3d"+b);var c="/search/"+b;"kali"===b&&(a+="\x26init\x3dtrue");a=a.replace(/[?&]fonds=([^&#]*)/g,"");a.startsWith("?")||(a="?"+a);window.location.href=c+a}
function checkTargets(a){var b,c=$("input[name\x3d'tab_selection']:checked").val(),d=getConfigFromBaseSelected(c),f=[];"lawarticledecree"===c&&(c="lois");for(var g=0;g<tabTarget.length;g++)if(tabTarget[g].tabName.toLowerCase()===c.toLowerCase()){b=tabTarget[g];break}null!=d&&(f=d.targets.split(","),$(a).each(function(){$(this).find("input.radio-target").each(function(){showHideTargetAccordingToBase(this,f,d)})}),$(".form-advanced-search").each(function(){$(this).hide();$(this).attr("aria-hidden",
"true")}));null!=b&&($("#form_facette_"+b.tabName).show(),$("#form_facette_"+b.tabName).attr("aria-hidden","false"),$("#form_preference_affichage_"+b.tabName).show(),$("#form_preference_affichage_"+b.tabName).attr("aria-hidden","false"))}
function reinitPreciseFacet(){$(".search-filter-criterion input[type\x3d'text'], .search-filter-criterion input[type\x3d'hidden']").each(function(){$(this).val("")});$(".search-filter-criterion input[type\x3d'checkbox']").each(function(){this.checked=!1});$(".search-filter-criterion select option:selected").each(function(){this.selected=!1})}
$(function(){addEvent($(".page-advanced-search-form"));$(".advanced-search-reset-link").on("click keypress touch",function(a){a11yClick(a)&&reinitSearch()});$(".launch-search-btn").on("click keypress touch",function(a){0<$(".search-remove").length?$(".search-input input").attr("data-validation","required"):$(".search-input input").removeAttr("data-validation");if(0===$(".alert-danger").length){if(0==isValidForm($(".search-input"),!0))return!1;a11yClick(a)&&validQuote()&&generateQuery()}checkOtherErrors($(".search-input"),
!0)});$(".page-advanced-search-form .search-reset-cta").on("click keypress touch",function(a){a11yClick(a)&&resetInput(this)});$(".search-resume-modify").on("click keypress touch",function(a){a11yClick(a)&&generateEntryUrl()});$(".search-resume-modify-precise").on("click keypress touch",function(a){a11yClick(a)&&generatePreciseQuery()});$("body").on("change","#group-initial .search-select .form-check-input",function(){var a=$(this),b=$("#group-initial .search-select").attr("class").includes("is-expanded");
"tab_selection"===a.attr("name")?(updateAdvancedFacet(a.attr("value")),b?changeSearchSelectLabel($("#select-tab").closest(".search-select")):$("#group-initial .search-select").each(function(){changeSearchSelectLabel($(this))}),checkTargets($(".search-select-content")),$("#group-initial .btn-field-search").each(function(){var a=$(this),b=a.val(),f=!1,g=$("#"+a.attr("id").replace("-control","-input-")+b);$("#select-target-group-0-1-tip .form-check-input").each(function(){$(this).val()===b&&$(this).is(":disabled")&&
(changeSearchSelectLabel(a.closest(".search-select")),f=!0)});f||g.click()}),$("#search-select-tip-content").attr("aria-hidden",!1)):(a=a.closest(".search-select"),b||changeSearchSelectLabel(a))});$(".form-advanced-search\x3einput[type\x3d'text']").on("keypress",function(a){13==a.keyCode&&generateQuery()});$(".form-advanced-search\x3einput[data-validation]").on("keyup",function(a){a=$(this).closest("div");isValidForm(a)});$("input[type\x3d'radio'][checked\x3d'checked']").each(function(){var a=jQuery.Event("click");
a.jQuery=!0;$(this).trigger(a)});$("body").hasClass("page-advanced-search-form")&&updateAdvancedFacet();$(window).resize(function(){adjustWidth()});adjustWidth();updateSwitch();initializeFacetValue();initSearchTagFilter();initFacetCollapse();updateActions()});
function resetInput(a){$(a).closest("fieldset").find("input[type\x3d'text']").val("");$(a).closest("fieldset").find("input[type\x3d'text']").trigger("keyup");$(a).closest("fieldset").find("input[type\x3d'checkbox']").each(function(){$(this).is(":checked")&&(this.checked=!1)});$(a).closest("fieldset").find("input[type\x3d'radio'][data-default\x3d'true']").click();clearDatepickerOption($(a).closest("fieldset"))}
function changeDateRangeEvent(a){var b=$("#"+a+"_start"),c=$("#"+a+"_end");b.length&&c.length&&(b=b.val(),0<c.val().length&&(b+=DEFAULT_DATE_RANGE_SEPARATOR+c.val()),$("#"+a).val(b))}
function initializeFacetValue(){if($("body").hasClass("page-advanced-search-form")){var a=location.search,b=getUrlParameter("origine"),c=getUrlParameter("typeRecherche");0<c.length&&"date"===c&&(a=removeUrlParam("etatTexte",a),a=removeUrlParam("etatArticle",a));a=a.substring(1);a=a.split("\x26");for(c=0;c<a.length;c++){var d=a[c].split("\x3d");if(1<d.length){var f=decodeURIComponent(d[1]).replace(/\+/g," "),f=f.replace(/"/g,'\\"');isCheckboxToBeInitialized(a,d)&&$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"checkbox"][name\x3d"'+
d[0]+'"][value\x3d"'+f+'"]').prop("checked","checked");$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"text"][name\x3d"'+d[0]+'"]').val(f);$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"hidden"][name\x3d"'+d[0]+'"]').val(f);var g=$('div[id\x3d"form_facette_'+b+'"] input[type\x3d"hidden"][name\x3d"'+d[0]+'"]');if(g.length&&$("#"+g.attr("id")+"_start").length){var h=f.split(DEFAULT_DATE_RANGE_SEPARATOR);$("#"+g.attr("id")+"_start").val(h[0]);1<h.length&&$("#"+g.attr("id")+"_end").val(h[1])}$('div[id\x3d"form_facette_'+
b+'"] select[name\x3d"'+d[0]+'"] option[value\x3d"'+f+'"]').prop("selected",!0)}}}}function initFacetCollapse(){$(".form-advanced-search:visible .search-advanced-precise .search-filter .js-expandmore").each(function(){$(this).find(".tag-filter.is-visible").length&&$(this).click()})}function isNumberKey(a){a=a.which?a.which:event.keyCode;return 48>a||57<a?!1:!0}
function isCheckboxToBeInitialized(a,b){for(var c in a)if(!(!0!==c.includes("tab_selection\x3dlawarticledecree")&&!0!==c.includes("tab_selection\x3dcode")||!0===c.includes("typeRecherche\x3detat")||"facetteEtatArticle"!==b[0]&&"facetteEtatTexte"!==b[0]))return!1;return!0}
function adaptForAdvancedSearch(a){var b=/[?&]searchField=([^&#]*)/g,c=/[?&]query=([^&#]*)/g,d=!0,f,g,h,k;if(h=b.exec(a))f=decodeURIComponent(h[1]);if(h=c.exec(a))g=decodeURIComponent(h[1]);(h=/[?&]tab_selection=([^&#]*)/g.exec(a))&&decodeURIComponent(h[1]);if(void 0!==f&&void 0!==g){switch(f){case "NUM_ARTICLE":k="numArticle";break;case "NOR":k="nor";break;case "NUM":k="num";break;case "NUM_DEC":k="numDecision";break;case "NUM_AFFAIRE":k="numAffaire";break;case "IDCC":k="idcc";break;default:d=!1}!0===
d&&(a=a.replace(b,""),a=a.replace(c,""),a+="\x26"+encodeURIComponent(k)+"\x3d"+encodeURIComponent(g))}return a+"\x26isAdvancedResult\x3dtrue"}
function updateAdvancedFacet(a){var b=/[?&]tab_selection=([^&#]*)/g,c=$("input[name\x3d'tab_selection']:checked").val(),d;void 0===a&&(a=(d=b.exec(window.location.search))?d[1]:c?c:"all");b=getConfigFromBaseSelected(a);"lawarticledecree"===a&&(a="lois");if("juri"===a||"cetat"===a)$("#pdcSearchArbo").length?$("#pdcSearchArbo").parents("div.search-filter").first().remove():"",$("#form_facette_"+a).attr("data-loaded","false");var f=$("#form_facette_"+a);if("true"!=f.attr("data-loaded")&&null!=b){c="";
if("code"===a||"lois"===a||"kali"===a)c=getValueOfParmeter(window.location.search,"tab_selection"),"lawarticledecree"===c&&(c="lois"),c=window.location.pathname.includes("recherche")&&c!=a?isEmpty(window.location.search)?"?init\x3dtrue":"\x26init\x3dtrue":"";b="/search/advancedFacet/"+b.base+"/"+window.location.search+c;$("#form_preference_affichage_"+a).hide();$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,
b)},headers:{Accept:"text/html, application/xhtml+xml","Content-Type":"text/html, application/xhtml+xml"},url:b,type:"GET",dataType:"html",success:function(b,c){f.empty();f.append(b);f.attr("data-loaded","true");f.attr("aria-hidden","false");f.show();$("#form_preference_affichage_"+a).show();$("#form_preference_affichage_"+a).attr("aria-hidden","false");$("#form_facette_"+a).find(".date-selector").each(function(a,b){instanciateDp(a,b)});$("#form_facette_"+a).find(".filter-autocomplete").each(function(){var a=
$(this);instantiateFilterAutocomplete(a)});$("form_facette_"+a).find(".search-select").each(function(){changeSearchSelectLabel($(this))});$("form_facette_"+a).find(".text-input").on("keydown",function(a){13==a.keyCode&&generateQuery()});$(".page-advanced-search-form .search-reset-cta").on("click keypress touch",function(a){a11yClick(a)&&resetInput(this)});$(".js-simple-tooltip").each(function(){accessibleSimpleTooltipAria.apply(this)});initializeFacetValue();if("juri"==a||"cetat"==a)b=$(".launch-search-btn"),
initPlanClassement(),initPdcSearchAutocomplete(b);initSearchTagFilter();initCollapsibleRegions()},error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des facettes")}})}}function computeOperatorMessage(a,b){var c=document.getElementById("search-select-and-or-"+a);null!=c&&(c=c.textContent,document.getElementById("operator-message-"+a+"-"+b).innerHTML="\x3cstrong\x3e"+c+"\x3c/strong\x3e modifier l'opérateur")}
function renitFocusAdvencedSearch(){document.getElementById("select-tab").focus({preventScroll:!1})}function adjustWidth(){var a=$(".main-col").width();$(".stickyBarFormPreference").width(a)}"use strict";$(document).ready(function(){initPager()});
function initPager(){$("body").on("click keypress touch",".pager.type-ajax .pager-item a",function(a){if(a11yClick(a)){a.preventDefault();var b=$(this).attr("data-id"),c=$(this).attr("data-num");ajaxReloadForLink(b,a,c)}});$("body").on("click keypress touch",".pager.type-ajax .pager-previous a",function(a){if(a11yClick(a)){a.preventDefault();var b=$(this).attr("data-id");goToPreviousPage(b,a)}});$("body").on("click keypress touch",".pager.type-ajax .pager-next a",function(a){if(a11yClick(a)){a.preventDefault();
var b=$(this).attr("data-id");goToNextPage(b,a)}});$("body").on("click keypress touch",".pager.type-reload a",function(a){a11yClick(a)&&(a.preventDefault(),a=$(this).attr("data-num"),window.location.href=getUrl(a))});initPagerLinks()}
function sendFromLink(a){var b=$("#form_"+a);addCheckValueToForm(b);var c=b.serialize();if(a.valueOf()==(new String("boccTexts")).valueOf())var d=$.urlParam("id"),c=c+("\x26id\x3d"+d);b.hasClass("form-liste")?launchAjaxRequest("/liste/"+a,"/liste"+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",c,a,"lien",!1):launchAjaxRequest("/search/"+a,"/search"+a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()+"/ajax",c,a,"lien",!1);$("html, body").stop().animate({scrollTop:$("#main_"+a).offset().top},
2E3)}function ajaxReloadForLink(a,b,c){$("#page_"+a).val(c);sendFromLink(a)}function goToPreviousPage(a,b){b=$("#page_"+a).val();b=1*b-1;$("#page_"+a).val(b);sendFromLink(a)}function goToNextPage(a,b){b=$("#page_"+a).val();b=1*b+1;$("#page_"+a).val(b);sendFromLink(a)}
function getUrl(a){var b=window.location.toString();if(-1<b.indexOf("?")){var c=/&page=(\d+)/g,d=/\?page=(\d+)/g;return b.match(c)?b.replace(c,"\x26page\x3d"+a):b.match(d)?b.replace(d,"?page\x3d"+a):b+"\x26page\x3d"+a}return b+"?page\x3d"+a}
function initPagerLinks(){$(".pager .pager-item a").each(function(){var a=$(this).attr("data-num");isNaN(a)||$(this).attr("href",getUrl(a))});$(".pager .pager-previous a").each(function(){var a=$(this).attr("data-id"),a=$("#page_"+a).val(),a=parseInt(a,10)-1;isNaN(a)||$(this).attr("href",getUrl(a))});$(".pager .pager-next a").each(function(){var a=$(this).attr("data-id"),a=$("#page_"+a).val(),a=parseInt(a,10)+1;isNaN(a)||$(this).attr("href",getUrl(a))})}"use strict";$(document).ready(function(){});
function showHideHighlight(a){var b=window.location,c=b.href,d=b.pathname,b="/highlight/ajax"+d,f=getFond(d),d=getValueOfParmeter(c,"query");saveHighlightCookie(f,a);var f=getValueOfParmeter(window.location.search,"anchor"),g=/\[/g;(c.includes("isAdvancedResult")||d.includes("@ALL"))&&1==(d.match(g)||[]).length&&(d.includes('[t"')&&d.includes('"]')&&(d=d.substring(d.indexOf('[t"')+3,d.indexOf('"]'))),d.includes('[u"')&&d.includes('"]')&&(d=d.substring(d.indexOf('[u"')+3,d.indexOf('"]'))));a={highlight:d,
checked:a,anchor:f};addAlreadyCalculatedVariable(a);getOverlayOn();$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,b)},headers:{Accept:"application/json","Content-Type":"application/json"},url:b,type:"GET",data:a,dataType:"json",success:function(a){setMainColHighlighted(a);getOverlayOff()},error:function(){getOverlayOff()}})}
function setMainColHighlighted(a){isEmpty(a.content)||($(".main-col").replaceWith(a.content),initDatepickers(),initBtnActions(),showHideElement())}function getTitleClass(){return $(".main-title").length?".main-title":".main-title-light"}function getValueOfParmeter(a,b){var c="";a.includes(b+"\x3d")&&(a=a.split(b+"\x3d"),c=a[1].split(/\&(.+)/)[0]);c=c.replace(/\+/g," ");return c=decodeURIComponent(c)}function getFond(a){a.toLowerCase();return a.split("/")[1]}
function getOverlayOn(){var a=$(".main-col").innerWidth(),b=$(".main-col").innerHeight(),c=$(".main-col").position().top;$("#overlayContent").fadeIn("slow");$("#overlayContent").css("width",a);$("#overlayContent").css("height",b);$("#overlayContent").css("top",c)}function getOverlayOff(){$("#overlayContent").fadeOut("slow")}function addAlreadyCalculatedVariable(a){var b=$(".vigor-title").length?!0:!1;a.vigor_title=b?$(".vigor-title").html():""}
String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a};function isEmpty(a){switch(a){case "":case "null":case null:case "undefined":case void 0:case "undefined"==typeof a:case !1:case "false":return!0;default:return!1}}
function initBtnActions(){if(0<$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").length){var a=$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").data("id");$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked")||$("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").prop("checked","true"===Cookies.get("seeAbrogated-"+a));showHideAbrogated($("input[type\x3d'checkbox'][name\x3d'seeAbrogated']").is(":checked"),a)}$(".ajax-load-tab-liens-service-public").each(function(){$(this).on("click keypress touch",
{id:$(this).attr("id"),articleCid:$(this).data("articlecid"),texteCid:$(this).data("textecid"),date:$("#dateConsultation").val(),fond:location.pathname.split("/")[1],context:$(this).data("context")},loadLienServicePublic)});$(".ajax-load-tab-liens").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),articleId:$(this).data("articleid"),date:$("#dateConsultation").val()},loadLien)});$(".ajax-load-tab-revision").each(function(){$(this).on("click keypress touch",{id:$(this).attr("id"),
articleCid:$(this).data("articlecid"),articleId:$(this).data("articleid"),texteCid:$(this).data("textecid"),complement:$(this).data("complement"),abrogated:$(this).data("abrogated"),num:$(this).data("num"),date:$("#dateConsultation").val(),fond:$(this).data("fond")},loadRevision)});bindNavDateChronoLink();$(".search-chrono").on("click keypress touch",function(a){a11yClick(a)&&navigationDate($("#datepicker").val());9!==a.keyCode&&a.preventDefault()});$(".input-date-chrono").on("keypress",function(a){13==
a.which&&navigationDate($("#datepicker").val())});$("#recherche-noeud").on("click touch keypress",function(a){a11yClick(a)&&rechercheNoeudCode()});$("#small-search-noeud").on("keypress",function(a){13===a.keyCode&&rechercheNoeudCode()});$("#reset-link-noeud").on("click touch keypress",function(a){a11yClick(a)&&(reinitSearchNoeud(),$("#small-search-noeud").val(""))});$(".download-link-secure").each(function(){$(this).on("click touch keypress",{id:$(this).data("textid")},captchaLink)});$("#btnAfficheChrono").on("click touch keypress",
loadChronolegi)}function saveHighlightCookie(a,b){try{switch(a){case "ceta":case "cons":case "jufi":case "juri":setCookie("highlightCheckboxCookie",b,13)}}catch(c){}}"use strict";$(document).ready(function(){initPlanClassement();var a=null;window.location.pathname.includes("recherche")?a=$(".launch-search-btn"):a=$("#pdcSearchArboBtn");initPdcSearchAutocomplete(a);initPdcScreenSearchAutocomplete()});
function initPlanClassement(){window.location.pathname.includes("classement")&&$(".text-copy-button").remove();$("#pdcRestreindreArret").on("change",function(){pdcRestreindreArret()});$("input#pdcSearchArbo").on("paste input keydown",function(a){$("#pdcError").remove();$("#pdcSearchArboBtn").attr("value","F");$(".launch-search-btn").attr("value","F");13==a.keyCode&&(validatePdcInput(),$("#eac-container-pdcSearchArbo ul").hide())});$("#pdcSearchArboBtn").on("click touch keypress",function(a){validatePdcInput()});
$("#prevLevel").on("click",function(){updateOnClickPrevLevel()});$(".pdcAccess").find(".simpletooltip_container").first().css("z-index","3")}
function validatePdcInput(){isValueFromSuggests();isEmpty($("#pdcSearchArbo").val())||"T"!=$(".launch-search-btn").attr("value")?isEmpty($("#pdcSearchArbo").val())||"T"!=$("#pdcSearchArboBtn").attr("value")?0==$("#pdcError").length&&$("#pdcSearchArbo").before('\x3cdiv id\x3d"pdcError" role\x3d"alert" class\x3d"alert alert-danger block-input-errors" aria-live\x3d"assertive" aria-relevant\x3d"additions removals"\x3e\x3cspan aria-hidden\x3d"true" class\x3d"icon"\x3e\x3c/span\x3e\x3cdiv class\x3d"alert-content"\x3e Le mot-clé n\'a pas été trouvé dans le plan de classement\x3c/div\x3e\x3c/div\x3e'):($("#pdcError").remove(),
pdcSendValueOfLibelle()):$("#pdcError").remove()}
function pdc(a){var b=$(a);if("true"===b.attr("aria-loaded"))return toggleTipPdc(b),0;a=window.location.href;var c=a.split(/\?(.+)/),c=2<=c.length?"?"+c[1]:"",d=btnIsPagerType(b);a={jurinome:b.attr("aria-jurinome"),niveau:b.attr("aria-niveau"),page:getPager(b),fond:getFondJuri(),libelle:getValueOfParmeter(a,"pdcSearchArbo_form"),searchParameter:c};getOverlayOn();$.ajax({beforeSend:function(a){var b=$("meta[name\x3d'_csrf']").attr("content"),c=$("meta[name\x3d'_csrf_header']").attr("content");a.setRequestHeader(c,
b)},headers:{Accept:"application/json","Content-Type":"application/json"},url:"/planclassement/niveau",type:"GET",data:a,dataType:"json",success:function(a){d?addJurinomeAtTheSameNiveau(a):addJurinome(a,b);getOverlayOff()},error:function(){getOverlayOff()}});navigationArbo(b)}
function navigationArbo(a){4<=a.attr("aria-niveau")&&$("#prevLevel").empty()&&($father=$("button[aria-jurinome\x3d'"+a.attr("aria-parent")+"']"),$father.parents("li").first().siblings().each(function(){$(this).find("button.opened")&&$(this).find("button.opened").click()}),$("button.title-link").each(function(){!a.attr("aria-arbo").includes($(this).attr("aria-parent"))&&$(this).hasClass("opened")&&0!=$(this).attr("aria-niveau")?($(this).click(),$(this).parent().hide()):$(this).attr("aria-niveau")<
a.attr("aria-niveau")&&$(this).parent().hide()}),$("button[aria-jurinome\x3d'"+a.attr("aria-parent")+"']").parent().show(),$("a.pdc_label_feuille").each(function(){$(this).attr("aria-niveau")<a.attr("aria-niveau")&&$(this).parent().hide()}),$("a[aria-type\x3d'pager']").each(function(){$(this).attr("aria-niveau")<a.attr("aria-niveau")&&$(this).parent().hide()}),a.parent().siblings("ul:hidden").show(),$father.parents("ul").first().parents("li").first().siblings().hide(),$grandpa=$("button[aria-jurinome\x3d'"+
$father.attr("aria-parent")+"']"),$("#prevLevel").html("↑ Retourner au niveau précédent ("+$grandpa.next().text()+")"),createBreadcrumbs(a))}function addJurinome(a){if(!isEmpty(a.content)&&!isEmpty(a.cid)){var b=$("#pdc_"+a.cid);if(!isEmpty(b)){var c=b.find(".pdc_btn").length;!isEmpty(c)&&1<c?$("#pdc_"+a.cid+" .pdc_btn:last").before(a.content):b.append(a.content);$("#fold_planclassement_"+a.cid).attr("aria-loaded",!0);toggleTipPdc($("#fold_planclassement_"+a.cid))}}}
function addJurinomeAtTheSameNiveau(a,b){if(!isEmpty(a.content)&&!isEmpty(a.cid)&&(b=$("#pdc_pager-"+a.cid),!isEmpty(b))){var c=b.closest(".plan-classement-list");b.remove();c.append(a.content)}}
function toggleTipPdc(a){var b=a.attr("id").split("fold_planclassement_")[1],b=a.closest("#pdc_"+b).find(".plan-classement-list");a.hasClass("opened")||"true"===a.hasClass("opened")?(a.attr("aria-expanded","false"),a.removeClass("opened"),b.removeClass("montrer-noeud"),b.addClass("cacher-noeud")):(a.attr("aria-expanded","true"),a.addClass("opened"),b.addClass("montrer-noeud"),b.removeClass("cacher-noeud"),"true"==a.attr("aria-loaded")&&4<=a.attr("aria-niveau")?(createBreadcrumbs(a),updateArboWhenBreadcrumbs(a.attr("aria-jurinome"))):
"true"==a.attr("aria-loaded")&&3==a.attr("aria-niveau")&&updateArboWithoutBreadcrumbs(a.attr("aria-jurinome")))}
function updateArboWhenBreadcrumbs(a){$button=$("button[aria-jurinome\x3d'"+a+"']");$elemToClose=$("button[aria-parent\x3d'"+$button.attr("aria-jurinome")+"']");$("button[aria-jurinome\x3d'"+$button.attr("aria-parent")+"']").parent().show();$button.parents("li").first().siblings().each(function(){$(this).find("div").show();$(this).show()});$button.parent().show();$elemToClose.parent().show();$elemToClose.each(function(){$(this).parent().next().remove();$(this).attr("class","expanded title-link js-planclassement-jurinome");
$(this).attr("aria-loaded","false")});updateExtandButton($elemToClose.attr("aria-jurinome"),a);$("#prevLevel").html("↑ Retourner au niveau précédent ("+$("#breadcrumbs span:last").siblings("span.breadcrumbPdc").last().prevAll("span.breadcrumbPdc").first().text()+")")}
function updateArboWithoutBreadcrumbs(a){$("#prevLevel").empty();$("#breadcrumbs").empty();$button=$("button[aria-jurinome\x3d'"+a+"']");$elemToClose=$("button[aria-parent\x3d'"+$button.attr("aria-jurinome")+"']");$elemToClose.each(function(){$(this).parent().next().remove();$(this).attr("class","expanded title-link js-planclassement-jurinome");$(this).attr("aria-loaded","false")});$("ul").find(":hidden").show();$("ul.plan-classement-list.cacher-noeud").each(function(){$(this).prev().find("button[aria-expanded\x3d'false']")&&
$(this).css("display","")});$("html, body").animate({scrollTop:$button.offset().top-200},800)}function pdcRestreindreArret(){var a=getFondJuri(),b=eval("$('#form_"+a+"')");isErrorTemplate(b)||($("#page_"+a).val(1),addCheckValueToForm(b),b=b.serialize(),launchAjaxRequest("/search/"+a,"/search"+a[0].toUpperCase()+a.substring(1)+"/ajax",b,a,"onglet",!0))}
function pdcSendValueOfLibelle(){var a=getFondJuri(),b=eval("$('#form_"+a+"')");isErrorTemplate(b)||($("#page_"+a).val(1),addCheckValueToForm(b),b=b.serialize(),addValueOfLibelle(b),launchAjaxRequest("/search/"+a,"/search"+a[0].toUpperCase()+a.substring(1)+"/ajax",b,a,"onglet",!1))}function addValueOfLibelle(a){var b=$("#pdcSearchArboBtn").length?!0:!1;a.pdcSearchArbo=b?$("#pdcSearchArboBtn").val():""}
function initPdcSearchAutocomplete(a){var b=!1,c="",d={url:function(a){return"/suggest/searchPdc?tab_selection\x3d"+getFondJuri()+"\x26pdcSearchArbo\x3d"+$("#pdcSearchArbo").val()},getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,minCharNumber:3,template:{type:"custom",method:function(a,b){return'\x3cspan class\x3d"autocomplete-item '+b.className+' pdcSuggest"\x3e'+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:11,onKeyEnterEvent:function(){if(b){var d=$("#pdcSearchArbo").getSelectedItemData().inputLabel;
a.prop("value","T");$("#pdcSearchArbo").val(d)}else $("#pdcSearchArbo").val(encodeURIComponent(c));$("#pdcSearchArboId").val("")},onClickEvent:function(){var b=$("#pdcSearchArbo").getSelectedItemData().inputLabel;a.prop("value","T");$("#pdcSearchArbo").val(b);$("#pdcSearchArboId").val("")},onSelectItemEvent:function(){b=!0},onHideListEvent:function(){b=!1}},ajaxSettings:{error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des suggestions")}}};window.matchMedia("screen and (min-width: 75em)").matches&&
$("#pdcSearchArbo").easyAutocomplete(d);$("#pdcSearchArbo").keyup(function(){c=$("#pdcSearchArbo").val()});mobileToggleAutocomplete(d)}
function initPdcScreenSearchAutocomplete(){var a=!1,b="",c={url:function(a){return"/suggest/searchPdc?tab_selection\x3d"+getFondJuri()+"\x26origin\x3dpdc\x26pdcSearchArbo\x3d"+$("#pdcSearchArbo_form").val()},getValue:"displayLabel",requestDelay:500,highlightPhrase:!0,minCharNumber:3,template:{type:"custom",method:function(a,b){return'\x3cspan class\x3d"autocomplete-item '+b.className+' pdcSuggest"\x3e'+a+"\x3c/span\x3e"}},list:{maxNumberOfElements:11,onKeyEnterEvent:function(){if(a){var c=$("#pdcSearchArbo_form").getSelectedItemData().inputLabel;
$("#pdcSearchArbo_form").val(c);c=getUrlToRedirect(c);history.pushState(null,"",c);window.location.replace(c)}else $("#pdcSearchArbo_form").val(encodeURIComponent(b))},onClickEvent:function(){var a=$("#pdcSearchArbo_form").getSelectedItemData().inputLabel;$("#pdcSearchArbo_form").val(a);a=getUrlToRedirect(a);history.pushState(null,"",a);window.location.replace(a)},onSelectItemEvent:function(){a=!0},onHideListEvent:function(){a=!1}},ajaxSettings:{error:function(a,b,c){errorCallBack(a,b,c,"Erreur de chargement des suggestions")}}};
window.matchMedia("screen and (min-width: 75em)").matches&&$("#pdcSearchArbo_form").easyAutocomplete(c);$("#pdcSearchArbo_form").keyup(function(){b=$("#pdcSearchArbo_form").val()});mobileToggleAutocomplete(c)}function getUrlToRedirect(a){var b=getFondJuri();return"/search/"+b+"?tab_selection\x3d"+b+"\x26searchField\x3dALL\x26pdcSearchArbo\x3d"+a}function getUrlToRedirectPdC(a,b){return"/"+getFondJuri()+"/planclassement?niveau\x3d"+a+"\x26parent\x3d"+b}
function getPager(a){a=a.attr("aria-pager");return isEmpty(a)?1:a}function btnIsPagerType(a){a=a.attr("aria-type");return!isEmpty(a)&&"pager"==a}function getFondJuri(){var a=window.location.pathname.toLowerCase().split("/");if("recherche"!=a[1])switch(a[1]){case "juri":return"juri";case "ceta":case "cetat":return"cetat";default:return a[2]}else switch(a=$("input[name\x3d'tab_selection']:checked").val(),a){case "juri":return"juri";case "cetat":return"cetat";default:return"all"}}
function isValueFromSuggests(){$(".eac-item .pdcSuggest").each(function(){$(this).text()==$("#pdcSearchArbo").val()&&($("#pdcSearchArboBtn").attr("value","T"),$(".launch-search-btn").attr("value","T"))})}function breadcrumbsChoice(a){$this=$("#breadcrumbs span[aria-arboid\x3d'"+a+"']");$elemToClose=$this.next().next().attr("aria-arboid");4<=$this.prevAll("span.breadcrumbPdc").length?(updateBreadcrumbs(a),updateArboWhenBreadcrumbs(a)):updateArboWithoutBreadcrumbs(a)}
function updateOnClickPrevLevel(){$lastElementID=$("#breadcrumbs span").last().attr("aria-arboid");$newLastElementID=$("#breadcrumbs span.breadcrumbPdc").last().attr("aria-arboid");$niveau=$("button.title-link:visible").attr("aria-niveau");3<$niveau?(updateBreadcrumbs($newLastElementID),updateArboWhenBreadcrumbs($newLastElementID)):updateArboWithoutBreadcrumbs($newLastElementID)}
function createBreadcrumbs(a){$arboId=a.attr("aria-arbo").split("-");$filAriane="";$arboId.forEach(function(a,c){c<$arboId.length-2?0==c?$filAriane+="\x3cspan class\x3d'breadcrumbPdc' onclick\x3dbreadcrumbsChoice('"+$arboId[c+1]+"') aria-arboId\x3d'"+$arboId[c+1]+"'\x3e"+$("button[aria-jurinome\x3d'"+$arboId[c+1]+"']").next().text()+"\x3c/span\x3e":$filAriane+="\x3cspan\x3e \x3e \x3c/span\x3e\x3cspan class\x3d'breadcrumbPdc' onclick\x3dbreadcrumbsChoice('"+$arboId[c+1]+"') aria-arboId\x3d'"+$arboId[c+
1]+"'\x3e"+$("button[aria-jurinome\x3d'"+$arboId[c+1]+"']").next().text()+"\x3c/span\x3e":c<$arboId.length-1&&($filAriane+="\x3cspan\x3e \x3e \x3c/span\x3e\x3cspan aria-arboId\x3d'"+$arboId[c+1]+"'\x3e"+$("button[aria-jurinome\x3d'"+$arboId[c+1]+"']").next().text()+"\x3c/span\x3e")});$filAriane="\x3cspan class\x3d'breadcrumbPdc' onclick\x3dbreadcrumbsChoice('"+$arboId[0]+"') aria-arboId\x3d'"+$arboId[0]+"'\x3e"+a.closest(".niveau_0").attr("aria-value")+"\x3c/span\x3e\x3cspan\x3e \x3e \x3c/span\x3e"+
$filAriane;$("#breadcrumbs").html($filAriane)}function updateBreadcrumbs(a){$("#breadcrumbs span[aria-arboid\x3d'"+a+"']").nextAll().remove();$("#breadcrumbs span.breadcrumbPdc").last().attr("class","")}
function updateExtandButton(a,b){$("button[aria-jurinome\x3d'"+b+"']").parents("ul").first().siblings("div.pdc_btn_pager").hide();$("button[aria-jurinome\x3d'"+b+"']").parent().siblings("div.pdc_btn_pager").show();$("button[aria-jurinome\x3d'"+a+"']").parent().siblings("div.pdc_btn_pager").show()}var currentFocus,tabIsClicked;
$(document).ready(function(){if(1==displayPopinSatisfaction){var a=$("#popup-container"),b=getCookieElement("cookie_popin_satisfaction","dateCreation"),c=getCookieElement("cookie_popin_satisfaction","isAlreadyRespond"),d=diff_hours(new Date,Date.parse(b));if(isEmpty(c)||"false"===c)if(isEmpty(b)||showPopinSatisfaction(d))""==getCookie("counter")&&setCookie("counter",10),bip();$([a,$(".close-popup"),$(".button-close-popup")]).each(function(){$(this).on("click",function(b){a.css("opacity",0);setTimeout(function(){a.css("display",
"none")},900);event.preventDefault();1==tabIsClicked&&currentFocus.focus()})});$(".button-gives-opinion").on("click",function(b){setCookie("cookie_popin_satisfaction","!dateCreation\x3d"+new Date+"!isAlreadyRespond\x3dtrue",13);a.css("opacity",0);setTimeout(function(){a.css("display","none")},900);1==tabIsClicked&&currentFocus.focus()});$(".popup").on("click",function(a){a.stopPropagation()});$(document).on("keydown",function(b){"Escape"==b.key&&$("#popup-container").is(":visible")&&(a.css("opacity",
0),setTimeout(function(){a.css("display","none")},900),1==tabIsClicked&&currentFocus.focus())});var f,g,h;f=document.getElementById("popup-container").querySelectorAll("a[href], button");filtered=[];g=f[0];h=f[f.length-1];document.addEventListener("keydown",function(a){if(("Tab"===a.key||9===a.keyCode)&&$("#popup-container").is(":visible"))if(tabIsClicked=!0,a.shiftKey)document.activeElement===g&&(h.focus(),a.preventDefault());else if(document.activeElement===h||document.activeElement!==g&&document.activeElement!==
f[1])g.focus(),a.preventDefault()})}});function recursifEventListener(){if("visible"===document.visibilityState){var a=getCookieElement("cookie_popin_satisfaction","isAlreadyRespond");isEmpty(a)&&setTimeout(function(){bip()},1E3)}else setTimeout(function(){recursifEventListener()},1E3)}
function bip(){var a=getCookie("counter");a--;setCookie("counter",a);0>=a?($("#popup-container").fadeIn(300),currentFocus=document.activeElement,"BODY"===document.activeElement.tagName&&(currentFocus=document.activeElement.querySelector("#top ul li").firstChild),setCookie("counter",0,0),setCookie("cookie_popin_satisfaction","!dateCreation\x3d"+new Date+"!isAlreadyRespond\x3dfalse",13)):recursifEventListener()}function diff_hours(a,b){return Math.abs(a-b)/36E5}
function showPopinSatisfaction(a){var b=24*displayPopinSatisfactionTimer;return parseFloat(a)>=b?!0:!1};